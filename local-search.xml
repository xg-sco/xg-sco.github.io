<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Docker</title>
    <link href="/Java/Docker/"/>
    <url>/Java/Docker/</url>
    
    <content type="html"><![CDATA[<h1 id="0-å®‰è£…-Docker"><a href="#0-å®‰è£…-Docker" class="headerlink" title="0.å®‰è£… Docker"></a>0.å®‰è£… Docker</h1><p>Docker åˆ†ä¸º CE å’Œ EE ä¸¤å¤§ç‰ˆæœ¬ã€‚CE å³ç¤¾åŒºç‰ˆï¼ˆå…è´¹ï¼Œæ”¯æŒå‘¨æœŸ 7 ä¸ªæœˆï¼‰ï¼ŒEE å³ä¼ä¸šç‰ˆï¼Œå¼ºè°ƒå®‰å…¨ï¼Œä»˜è´¹ä½¿ç”¨ï¼Œæ”¯æŒå‘¨æœŸ 24 ä¸ªæœˆã€‚</p><p>Docker CE åˆ†ä¸º <code>stable</code> <code>test</code> å’Œ <code>nightly</code> ä¸‰ä¸ªæ›´æ–°é¢‘é“ã€‚</p><p>å®˜æ–¹ç½‘ç«™ä¸Šæœ‰å„ç§ç¯å¢ƒä¸‹çš„ <a href="https://docs.docker.com/install/">å®‰è£…æŒ‡å—</a>ï¼Œè¿™é‡Œä¸»è¦ä»‹ç» Docker CE åœ¨ CentOS ä¸Šçš„å®‰è£…ã€‚</p><h1 id="1-CentOS-å®‰è£…-Docker"><a href="#1-CentOS-å®‰è£…-Docker" class="headerlink" title="1.CentOS å®‰è£… Docker"></a>1.CentOS å®‰è£… Docker</h1><p>Docker CE æ”¯æŒ 64 ä½ç‰ˆæœ¬ CentOS 7ï¼Œå¹¶ä¸”è¦æ±‚å†…æ ¸ç‰ˆæœ¬ä¸ä½äº 3.10ï¼Œ CentOS 7 æ»¡è¶³æœ€ä½å†…æ ¸çš„è¦æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ CentOS 7 å®‰è£… Dockerã€‚</p><h2 id="1-1-å¸è½½ï¼ˆå¯é€‰ï¼‰"><a href="#1-1-å¸è½½ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="1.1.å¸è½½ï¼ˆå¯é€‰ï¼‰"></a>1.1.å¸è½½ï¼ˆå¯é€‰ï¼‰</h2><p>å¦‚æœä¹‹å‰å®‰è£…è¿‡æ—§ç‰ˆæœ¬çš„ Dockerï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤å¸è½½ï¼š</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs livescript">yum remove docker <span class="hljs-string">\</span><br>                  docker-client <span class="hljs-string">\</span><br>                  docker-client-latest <span class="hljs-string">\</span><br>                  docker-common <span class="hljs-string">\</span><br>                  docker-latest <span class="hljs-string">\</span><br>                  docker-latest-logrotate <span class="hljs-string">\</span><br>                  docker-logrotate <span class="hljs-string">\</span><br>                  docker-selinux <span class="hljs-string">\</span><br>                  docker-engine-selinux <span class="hljs-string">\</span><br>                  docker-engine <span class="hljs-string">\</span><br>                  docker-ce<br></code></pre></td></tr></table></figure><h2 id="1-2-å®‰è£…-docker"><a href="#1-2-å®‰è£…-docker" class="headerlink" title="1.2.å®‰è£… docker"></a>1.2.å®‰è£… docker</h2><p>é¦–å…ˆéœ€è¦å¤§å®¶è™šæ‹Ÿæœºè”ç½‘ï¼Œå®‰è£… yum å·¥å…·</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum install -y yum-utils \<br>           device-mapper-persistent-data \<br>           lvm2 --skip-broken<br></code></pre></td></tr></table></figure><p>ç„¶åæ›´æ–°æœ¬åœ°é•œåƒæºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">è®¾ç½®dockeré•œåƒæº</span><br>yum-config-manager \<br>    --add-repo \<br>    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo<br><br>sed -i &#x27;s/download.docker.com/mirrors.aliyun.com\/docker-ce/g&#x27; /etc/yum.repos.d/docker-ce.repo<br><br>yum makecache fast<br></code></pre></td></tr></table></figure><p>ç„¶åè¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum install -y docker-ce<br></code></pre></td></tr></table></figure><p>docker-ce ä¸ºç¤¾åŒºå…è´¹ç‰ˆæœ¬ã€‚ç¨ç­‰ç‰‡åˆ»ï¼Œdocker å³å¯å®‰è£…æˆåŠŸã€‚</p><h2 id="1-3-å¯åŠ¨-docker"><a href="#1-3-å¯åŠ¨-docker" class="headerlink" title="1.3.å¯åŠ¨ docker"></a>1.3.å¯åŠ¨ docker</h2><p>Docker åº”ç”¨éœ€è¦ç”¨åˆ°å„ç§ç«¯å£ï¼Œé€ä¸€å»ä¿®æ”¹é˜²ç«å¢™è®¾ç½®ã€‚éå¸¸éº»çƒ¦ï¼Œå› æ­¤å»ºè®®å¤§å®¶ç›´æ¥å…³é—­é˜²ç«å¢™ï¼</p><p>å¯åŠ¨ docker å‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p><p>å¯åŠ¨ docker å‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p><p>å¯åŠ¨ docker å‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">å…³é—­</span><br>systemctl stop firewalld<br><span class="hljs-meta prompt_"># </span><span class="language-bash">ç¦æ­¢å¼€æœºå¯åŠ¨é˜²ç«å¢™</span><br>systemctl disable firewalld<br></code></pre></td></tr></table></figure><p>é€šè¿‡å‘½ä»¤å¯åŠ¨ dockerï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">systemctl start docker  # å¯åŠ¨dockeræœåŠ¡<br><br>systemctl stop docker  # åœæ­¢dockeræœåŠ¡<br><br>systemctl restart docker  # é‡å¯dockeræœåŠ¡<br></code></pre></td></tr></table></figure><p>ç„¶åè¾“å…¥å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹ docker ç‰ˆæœ¬ï¼š</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">docker -v</span><br></code></pre></td></tr></table></figure><p>å¦‚å›¾ï¼š<br><img src="http://cdn.xiamu.icu//Fmx_08MNIIxqu37SAdf51aE9QRqO.png"></p><h2 id="1-4-é…ç½®é•œåƒåŠ é€Ÿ"><a href="#1-4-é…ç½®é•œåƒåŠ é€Ÿ" class="headerlink" title="1.4.é…ç½®é•œåƒåŠ é€Ÿ"></a>1.4.é…ç½®é•œåƒåŠ é€Ÿ</h2><p>docker å®˜æ–¹é•œåƒä»“åº“ç½‘é€Ÿè¾ƒå·®ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®å›½å†…é•œåƒæœåŠ¡ï¼š</p><p>å‚è€ƒé˜¿é‡Œäº‘çš„é•œåƒåŠ é€Ÿæ–‡æ¡£ï¼š<a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors</a></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo mkdir -p <span class="hljs-regexp">/etc/</span>docker<br>sudo tee <span class="hljs-regexp">/etc/</span>docker/daemon.json &lt;&lt;-<span class="hljs-string">&#x27;EOF&#x27;</span><br>&#123;<br>  <span class="hljs-string">&quot;registry-mirrors&quot;</span>: [<span class="hljs-string">&quot;https://ylmjgfp5.mirror.aliyuncs.com&quot;</span>]<br>&#125;<br>EOF<br>sudo systemctl daemon-reload<br>sudo systemctl restart docker<br></code></pre></td></tr></table></figure><h1 id="2-CentOS7-å®‰è£…-DockerCompose"><a href="#2-CentOS7-å®‰è£…-DockerCompose" class="headerlink" title="2.CentOS7 å®‰è£… DockerCompose"></a>2.CentOS7 å®‰è£… DockerCompose</h1><h2 id="2-1-ä¸‹è½½"><a href="#2-1-ä¸‹è½½" class="headerlink" title="2.1.ä¸‹è½½"></a>2.1.ä¸‹è½½</h2><p>Linux ä¸‹éœ€è¦é€šè¿‡å‘½ä»¤ä¸‹è½½ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">å®‰è£…</span><br>curl -L https://github.com/docker/compose/releases/download/1.23.1/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-compose<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œæˆ–è€…ä¸‹è½½å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨è¯¾å‰èµ„æ–™æä¾›çš„ docker-compose æ–‡ä»¶ï¼š</p><p><img src="/assets/image-20210417133020614.png"></p><p>ä¸Šä¼ åˆ°<code>/usr/local/bin/</code>ç›®å½•ä¹Ÿå¯ä»¥ã€‚</p><h2 id="2-2-ä¿®æ”¹æ–‡ä»¶æƒé™"><a href="#2-2-ä¿®æ”¹æ–‡ä»¶æƒé™" class="headerlink" title="2.2.ä¿®æ”¹æ–‡ä»¶æƒé™"></a>2.2.ä¿®æ”¹æ–‡ä»¶æƒé™</h2><p>ä¿®æ”¹æ–‡ä»¶æƒé™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">ä¿®æ”¹æƒé™</span><br>chmod +x /usr/local/bin/docker-compose<br></code></pre></td></tr></table></figure><h2 id="2-3-Base-è‡ªåŠ¨è¡¥å…¨å‘½ä»¤ï¼š"><a href="#2-3-Base-è‡ªåŠ¨è¡¥å…¨å‘½ä»¤ï¼š" class="headerlink" title="2.3.Base è‡ªåŠ¨è¡¥å…¨å‘½ä»¤ï¼š"></a>2.3.Base è‡ªåŠ¨è¡¥å…¨å‘½ä»¤ï¼š</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">è¡¥å…¨å‘½ä»¤</span><br>curl -L https://raw.githubusercontent.com/docker/compose/1.29.1/contrib/completion/bash/docker-compose &gt; /etc/bash_completion.d/docker-compose<br></code></pre></td></tr></table></figure><p>å¦‚æœè¿™é‡Œå‡ºç°é”™è¯¯ï¼Œéœ€è¦ä¿®æ”¹è‡ªå·±çš„ hosts æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">echo &quot;199.232.68.133 raw.githubusercontent.com&quot; &gt;&gt; /etc/hosts<br></code></pre></td></tr></table></figure><h1 id="3-Docker-é•œåƒä»“åº“"><a href="#3-Docker-é•œåƒä»“åº“" class="headerlink" title="3.Docker é•œåƒä»“åº“"></a>3.Docker é•œåƒä»“åº“</h1><p>æ­å»ºé•œåƒä»“åº“å¯ä»¥åŸºäº Docker å®˜æ–¹æä¾›çš„ DockerRegistry æ¥å®ç°ã€‚</p><p>å®˜ç½‘åœ°å€ï¼š<a href="https://hub.docker.com/_/registry">https://hub.docker.com/_&#x2F;registry</a></p><h2 id="3-1-ç®€åŒ–ç‰ˆé•œåƒä»“åº“"><a href="#3-1-ç®€åŒ–ç‰ˆé•œåƒä»“åº“" class="headerlink" title="3.1.ç®€åŒ–ç‰ˆé•œåƒä»“åº“"></a>3.1.ç®€åŒ–ç‰ˆé•œåƒä»“åº“</h2><p>Docker å®˜æ–¹çš„ Docker Registry æ˜¯ä¸€ä¸ªåŸºç¡€ç‰ˆæœ¬çš„ Docker é•œåƒä»“åº“ï¼Œå…·å¤‡ä»“åº“ç®¡ç†çš„å®Œæ•´åŠŸèƒ½ï¼Œä½†æ˜¯æ²¡æœ‰å›¾å½¢åŒ–ç•Œé¢ã€‚</p><p>æ­å»ºæ–¹å¼æ¯”è¾ƒç®€å•ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run -d \<br>    --restart=always \<br>    --name registry\<br>    -p 5000:5000 \<br>    -v registry-data:/var/lib/registry \<br>    registry<br></code></pre></td></tr></table></figure><p>å‘½ä»¤ä¸­æŒ‚è½½äº†ä¸€ä¸ªæ•°æ®å· registry-data åˆ°å®¹å™¨å†…çš„&#x2F;var&#x2F;lib&#x2F;registry ç›®å½•ï¼Œè¿™æ˜¯ç§æœ‰é•œåƒåº“å­˜æ”¾æ•°æ®çš„ç›®å½•ã€‚</p><p>è®¿é—® <a href="http://yourip:5000/v2//_catalog">http://YourIp:5000/v2/\_catalog</a> å¯ä»¥æŸ¥çœ‹å½“å‰ç§æœ‰é•œåƒæœåŠ¡ä¸­åŒ…å«çš„é•œåƒ</p><h2 id="3-2-å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬"><a href="#3-2-å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬" class="headerlink" title="3.2.å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬"></a>3.2.å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬</h2><p>ä½¿ç”¨ DockerCompose éƒ¨ç½²å¸¦æœ‰å›¾è±¡ç•Œé¢çš„ DockerRegistryï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">&quot;3.0&quot;</span><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">registry:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">registry</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./registry-data:/var/lib/registry</span><br>  <span class="hljs-attr">ui:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">joxit/docker-registry-ui:static</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">8080</span><span class="hljs-string">:80</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">REGISTRY_TITLE=ä¼ æ™ºæ•™è‚²ç§æœ‰ä»“åº“</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">REGISTRY_URL=http://registry:5000</span><br>    <span class="hljs-attr">depends_on:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">registry</span><br></code></pre></td></tr></table></figure><h2 id="3-3-é…ç½®-Docker-ä¿¡ä»»åœ°å€"><a href="#3-3-é…ç½®-Docker-ä¿¡ä»»åœ°å€" class="headerlink" title="3.3.é…ç½® Docker ä¿¡ä»»åœ°å€"></a>3.3.é…ç½® Docker ä¿¡ä»»åœ°å€</h2><p>æˆ‘ä»¬çš„ç§æœé‡‡ç”¨çš„æ˜¯ http åè®®ï¼Œé»˜è®¤ä¸è¢« Docker ä¿¡ä»»ï¼Œæ‰€ä»¥éœ€è¦åšä¸€ä¸ªé…ç½®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">æ‰“å¼€è¦ä¿®æ”¹çš„æ–‡ä»¶</span><br>vi /etc/docker/daemon.json<br><span class="hljs-meta prompt_"># </span><span class="language-bash">æ·»åŠ å†…å®¹ï¼š</span><br>&quot;insecure-registries&quot;:[&quot;http://192.168.150.101:8080&quot;]<br><span class="hljs-meta prompt_"># </span><span class="language-bash">é‡åŠ è½½</span><br>systemctl daemon-reload<br><span class="hljs-meta prompt_"># </span><span class="language-bash">é‡å¯docker</span><br>systemctl restart docker<br></code></pre></td></tr></table></figure><h1 id="4-Docker-åŸºæœ¬æ“ä½œ"><a href="#4-Docker-åŸºæœ¬æ“ä½œ" class="headerlink" title="4.Docker åŸºæœ¬æ“ä½œ"></a>4.Docker åŸºæœ¬æ“ä½œ</h1><h2 id="é•œåƒ"><a href="#é•œåƒ" class="headerlink" title="é•œåƒ"></a>é•œåƒ</h2><h4 id="å¸®åŠ©æ–‡æ¡£"><a href="#å¸®åŠ©æ–‡æ¡£" class="headerlink" title="å¸®åŠ©æ–‡æ¡£"></a>å¸®åŠ©æ–‡æ¡£</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stata"><br>docker --<span class="hljs-keyword">help</span><br>docker <span class="hljs-keyword">save</span> --<span class="hljs-keyword">help</span><br></code></pre></td></tr></table></figure><h4 id="æ‹‰å–é•œåƒ"><a href="#æ‹‰å–é•œåƒ" class="headerlink" title="æ‹‰å–é•œåƒ"></a>æ‹‰å–é•œåƒ</h4><p>ä» DockerHub æ‹‰å–ä¸€ä¸ª nginx é•œåƒå¹¶æŸ¥çœ‹<br>ä»<a href="https://hub.docker.com/">Docker</a>æœç´¢ nginx</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">docker pull nginx</span><br><br></code></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹é•œåƒ"><a href="#æŸ¥çœ‹é•œåƒ" class="headerlink" title="æŸ¥çœ‹é•œåƒ"></a>æŸ¥çœ‹é•œåƒ</h4><p>æŸ¥çœ‹æ‹‰å–åˆ°çš„é•œåƒ</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">docker images</span><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FrYRKjCTiZJDOZ0ATUF2tfUD1iCI.png"></p><h4 id="æ‰“åŒ…é•œåƒ"><a href="#æ‰“åŒ…é•œåƒ" class="headerlink" title="æ‰“åŒ…é•œåƒ"></a>æ‰“åŒ…é•œåƒ</h4><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fortran">docker <span class="hljs-keyword">save</span> -o nginx.tar nginx:latest<br></code></pre></td></tr></table></figure><h4 id="åˆ é™¤é•œåƒ"><a href="#åˆ é™¤é•œåƒ" class="headerlink" title="åˆ é™¤é•œåƒ"></a>åˆ é™¤é•œåƒ</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">docker</span> images<br>docker rmi nginx:latest<br>docker images<br><br></code></pre></td></tr></table></figure><h4 id="åŠ è½½é•œåƒ"><a href="#åŠ è½½é•œåƒ" class="headerlink" title="åŠ è½½é•œåƒ"></a>åŠ è½½é•œåƒ</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus">docker load -<span class="hljs-selector-tag">i</span> nginx<span class="hljs-selector-class">.tar</span><br>docker images<br><br></code></pre></td></tr></table></figure><h2 id="å®¹å™¨"><a href="#å®¹å™¨" class="headerlink" title="å®¹å™¨"></a>å®¹å™¨</h2><h4 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">docker</span> run --name mn -p <span class="hljs-number">80</span>:<span class="hljs-number">80</span> -d nginx<br></code></pre></td></tr></table></figure><p>å®¹å™¨è¿è¡Œå®Œæˆä¹‹åä¼šäº§ç”Ÿä¸€ä¸ªå”¯ä¸€çš„ id</p><h4 id="æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€"><a href="#æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€" class="headerlink" title="æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€"></a>æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@xiamu ~]<span class="hljs-comment"># docker ps</span><br>CONTAINER ID   IMAGE     COMMAND                   CREATED          STATUS          PORTS                               NAMES<br>1276f236aab4   nginx     <span class="hljs-string">&quot;/docker-entrypoint.â€¦&quot;</span>   33 seconds ago   Up 32 seconds   0.0.0.0:80-&gt;80/tcp,&lt;/div&gt;80-&gt;80/tcp   mn<br><br></code></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—"><a href="#æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—"></a>æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—</h4><p>è®°å¾—åŠ ä¸Šå®¹å™¨çš„åç§° mn</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">docker</span> logs mn<br><br>docker logs mn -f<br><span class="hljs-comment"># -fè¡¨ç¤ºæŒç»­è¾“å‡ºæ—¥å¿—ä¿¡æ¯</span><br></code></pre></td></tr></table></figure><p>nginx å¯åŠ¨æˆåŠŸ, èƒ½å¤Ÿæ­£å¸¸è®¿é—®<br><img src="http://cdn.xiamu.icu//FqvMNK6SXwTcAj_IHKD5NPi4Xhbn.png"></p><h4 id="è¿›å…¥å®¹å™¨"><a href="#è¿›å…¥å®¹å™¨" class="headerlink" title="è¿›å…¥å®¹å™¨"></a>è¿›å…¥å®¹å™¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker <span class="hljs-built_in">exec</span> -it mn bash<br><br><span class="hljs-comment"># å®¹å™¨å†…å­˜åœ¨linuxå¸¸ç”¨çš„å‘½ä»¤, ä½†æ˜¯æ²¡æœ‰vi,</span><br><span class="hljs-comment"># æ‰€ä»¥ä¸èƒ½ä¿®æ”¹å®¹å™¨å†…éƒ¨çš„æ–‡ä»¶, å¹¶ä¸”æˆ‘ä»¬ä¹Ÿä¸å»ºè®®å»ä¿®æ”¹å®¹å™¨å†…çš„æ–‡ä»¶</span><br><span class="hljs-built_in">pwd</span><br><span class="hljs-built_in">ls</span><br><span class="hljs-built_in">cd</span><br></code></pre></td></tr></table></figure><h4 id="è¿›å…¥-nginx-ç›®å½•"><a href="#è¿›å…¥-nginx-ç›®å½•" class="headerlink" title="è¿›å…¥ nginx ç›®å½•"></a>è¿›å…¥ nginx ç›®å½•</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk">find / -name nginx<br>cd <span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/nginx/</span>html<br><br><span class="hljs-comment"># æˆ‘ä»¬å¯ä»¥ä½¿ç”¨sedæ¥ä¿®æ”¹å®¹å™¨å†…çš„å†…å®¹, ä½†æ˜¯è¿˜æ˜¯å»ºè®®å°½é‡ä¸è¦ä¿®æ”¹å®¹å™¨å†…çš„ä¸œè¥¿</span><br>sed -i -e <span class="hljs-string">&#x27;s#Welcome to nginx#ä¼ æ™ºæ•™è‚²æ¬¢è¿æ‚¨#g&#x27;</span> -e <span class="hljs-string">&#x27;s#&lt;head&gt;#&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;#g&#x27;</span> index.html<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œæˆä¹‹åé¡µé¢ä¹Ÿå‘ç”Ÿäº†å˜åŒ–<br><img src="http://cdn.xiamu.icu//FlVzpGCbBO98f0aCqCjY1yD-mtzU.png"></p><h4 id="é€€å‡ºå®¹å™¨"><a href="#é€€å‡ºå®¹å™¨" class="headerlink" title="é€€å‡ºå®¹å™¨"></a>é€€å‡ºå®¹å™¨</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-keyword">exit</span><br></code></pre></td></tr></table></figure><h4 id="åœæ­¢å®¹å™¨"><a href="#åœæ­¢å®¹å™¨" class="headerlink" title="åœæ­¢å®¹å™¨"></a>åœæ­¢å®¹å™¨</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">docker <span class="hljs-built_in">stop</span> mn<br><br><span class="hljs-comment"># è¡¨ç¤ºæŸ¥çœ‹å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span><br>docker ps<br><br><span class="hljs-comment"># -aè¡¨ç¤ºæŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨</span><br>docker ps -<span class="hljs-keyword">a</span><br></code></pre></td></tr></table></figure><h4 id="å¼€å¯å®¹å™¨"><a href="#å¼€å¯å®¹å™¨" class="headerlink" title="å¼€å¯å®¹å™¨"></a>å¼€å¯å®¹å™¨</h4><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">docker <span class="hljs-literal">start</span> mn<br></code></pre></td></tr></table></figure><h4 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h4><p>æ³¨æ„æˆ‘ä»¬æ— æ³•åˆ é™¤ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨, æˆ‘ä»¬å¾—å…ˆæŠŠå®¹å™¨åœæ­¢äº†, å†åˆ é™¤, æˆ–è€…ä½¿ç”¨-f å¼ºåˆ¶åˆ é™¤</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs powershell">docker stop mn<br>docker <span class="hljs-built_in">rm</span> mn<br><br>docker <span class="hljs-built_in">rm</span> mn <span class="hljs-operator">-f</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Docker</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonåŸºæœ¬è¯­æ³•</title>
    <link href="/uncategorized/python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/"/>
    <url>/uncategorized/python%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="æ ¼å¼åŒ–è¾“å‡º"><a href="#æ ¼å¼åŒ–è¾“å‡º" class="headerlink" title="æ ¼å¼åŒ–è¾“å‡º"></a>æ ¼å¼åŒ–è¾“å‡º</h2><h4 id="å¤§å°å†™-12-é¢˜"><a href="#å¤§å°å†™-12-é¢˜" class="headerlink" title="å¤§å°å†™ 12 é¢˜"></a>å¤§å°å†™ 12 é¢˜</h4><p>.lower() â€” å…¨éƒ¨å°å†™<br>.upper() â€” å…¨éƒ¨å¤§å†™<br>.title() â€” å„ä¸ªå­—ç¬¦çš„é¦–å­—æ¯å¤§å†™<br>.capitalize() â€” é¦–å­—æ¯å¤§å†™</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus">name = <span class="hljs-selector-tag">input</span>()<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(name.lower()</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(name.upper()</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(name.title()</span></span>)<br></code></pre></td></tr></table></figure><h4 id="å»é™¤ç©ºæ ¼"><a href="#å»é™¤ç©ºæ ¼" class="headerlink" title="å»é™¤ç©ºæ ¼"></a>å»é™¤ç©ºæ ¼</h4><p>.strip() â€” åˆ é™¤ä¸¤è¾¹ç©ºæ ¼<br>.lstrip() â€” åˆ é™¤å·¦è¾¹ç©ºæ ¼<br>.rstrip() â€” åˆ é™¤å³è¾¹ç©ºæ ¼<br>.replace(â€œ â€œ,â€â€) â€” åˆ é™¤æ‰€æœ‰ç©ºæ ¼<br>.split() â€” å…ˆåˆ‡åˆ†ï¼Œâ€â€.join() â€” å†æ‹¼æ¥</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(input()</span></span><span class="hljs-selector-class">.strip</span>())<br></code></pre></td></tr></table></figure><h4 id="ä¸ç”¨å¾ªç¯è¯­å¥çš„é‡å¤è¾“å‡º"><a href="#ä¸ç”¨å¾ªç¯è¯­å¥çš„é‡å¤è¾“å‡º" class="headerlink" title="ä¸ç”¨å¾ªç¯è¯­å¥çš„é‡å¤è¾“å‡º"></a>ä¸ç”¨å¾ªç¯è¯­å¥çš„é‡å¤è¾“å‡º</h4><p>ä½¿ç”¨*å¯ä»¥é‡å¤è¾“å‡ºè¿™æ®µå­—ç¬¦ä¸²</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs isbl"><span class="hljs-function"><span class="hljs-title">print</span>(<span class="hljs-title">input</span>() * <span class="hljs-number">100</span>)</span><br></code></pre></td></tr></table></figure><h4 id="æˆªå–å­—ç¬¦ä¸²å‰-10-ä¸ªå­—ç¬¦"><a href="#æˆªå–å­—ç¬¦ä¸²å‰-10-ä¸ªå­—ç¬¦" class="headerlink" title="æˆªå–å­—ç¬¦ä¸²å‰ 10 ä¸ªå­—ç¬¦"></a>æˆªå–å­—ç¬¦ä¸²å‰ 10 ä¸ªå­—ç¬¦</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(input()</span></span><span class="hljs-selector-attr">[0:10]</span>)<br></code></pre></td></tr></table></figure><h4 id="list-åˆ—è¡¨çš„æ·»åŠ å’Œç§»é™¤"><a href="#list-åˆ—è¡¨çš„æ·»åŠ å’Œç§»é™¤" class="headerlink" title="list åˆ—è¡¨çš„æ·»åŠ å’Œç§»é™¤"></a>list åˆ—è¡¨çš„æ·»åŠ å’Œç§»é™¤</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs stylus">offer_list = <span class="hljs-selector-attr">[<span class="hljs-string">&#x27;Allen&#x27;</span>, <span class="hljs-string">&#x27;Tom&#x27;</span>]</span><br><span class="hljs-keyword">for</span> <span class="hljs-selector-tag">i</span> <span class="hljs-keyword">in</span> offer_list:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;&#125;, you have passed our interview and will soon become a member of our company.&#x27;</span><span class="hljs-selector-class">.format</span>(i))<br><br>offer_list<span class="hljs-selector-class">.remove</span>(<span class="hljs-string">&#x27;Tom&#x27;</span>)<br>offer_list<span class="hljs-selector-class">.append</span>(<span class="hljs-string">&#x27;Andy&#x27;</span>)<br><br><span class="hljs-keyword">for</span> <span class="hljs-selector-tag">i</span> <span class="hljs-keyword">in</span> offer_list:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;&#125;, welcome to join us!&#x27;</span><span class="hljs-selector-class">.format</span>(i))<br></code></pre></td></tr></table></figure><p><a href="https://www.zhihu.com/question/56927648">https://www.zhihu.com/question/56927648</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>hexo urlå¤§å°å†™bug</title>
    <link href="/hexo/hexo%20url%E5%A4%A7%E5%B0%8F%E5%86%99bug/"/>
    <url>/hexo/hexo%20url%E5%A4%A7%E5%B0%8F%E5%86%99bug/</url>
    
    <content type="html"><![CDATA[<p>éå¸¸è›‹ç–¼çš„ bug, å¤§å†™çš„æ—¶å€™ä»£ç ä¼šæŠ¥é”™, æ‰‹åŠ¨æ”¹æˆæ¶ˆæ¯å°±èƒ½æ­£å¸¸è®¿é—®é¡µé¢äº†<br><img src="http://cdn.xiamu.icu//FoVsWuiMYXKTGC3TghqnR_bJ4rWB.png"><br><img src="http://cdn.xiamu.icu//FpUKyeIqr_w_iOcpUWGEP7M-ZwVg.png"></p><p>å‚è€ƒ<a href="https://trifond.github.io/2018/12/05/hexo-folder-ignore-case/">Hexo éƒ¨ç½²åˆ° Github åæ–‡ä»¶å¤¹åå¤§å°å†™å¼•èµ·çš„é—®é¢˜</a></p><p>å› ä¸º git çš„å‘½ä»¤å¿½ç•¥äº†æ–‡ä»¶åçš„å¤§å°å†™<br>è¿›å…¥ hexo æ ¹ç›®å½•, .deploy_git&#x2F;.git&#x2F;config<br>å°† ignorecase ä¿®æ”¹æˆ false</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[core]</span><br><span class="hljs-attr">symlinks</span> = <span class="hljs-literal">false</span><br><span class="hljs-attr">ignorecase</span> = <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>æ¥ç€æŠŠ.deploy_git çš„å…¶ä»–ç›®å½•åˆ é™¤å¹²å‡€, github ä»“åº“ä¹Ÿæ¸…ç†ä¸‹</p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nsis">git rm -rf *<br>git commit -m â€˜clean <span class="hljs-literal">all</span> <span class="hljs-keyword">file</span>â€™<br>git <span class="hljs-keyword">push</span><br></code></pre></td></tr></table></figure><p>æ¥ç€å†é‡æ–°éƒ¨ç½²åˆ° github å°±è¡Œäº†</p>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexoç»‘å®šåŸŸå</title>
    <link href="/hexo/Hexo%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D/"/>
    <url>/hexo/Hexo%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D/</url>
    
    <content type="html"><![CDATA[<h4 id="è´­ä¹°åŸŸå"><a href="#è´­ä¹°åŸŸå" class="headerlink" title="è´­ä¹°åŸŸå"></a>è´­ä¹°åŸŸå</h4><p>ä¸Š<a href="https://wanwang.aliyun.com/domain/searchresult/">é˜¿é‡Œäº‘</a>è´­ä¹°ä¸€ä¸ªåŸŸå</p><h4 id="è§£æåŸŸå"><a href="#è§£æåŸŸå" class="headerlink" title="è§£æåŸŸå"></a>è§£æåŸŸå</h4><p>è´­ä¹°ä¹‹åå» <a href="https://dc.console.aliyun.com/">åŸŸåæ§åˆ¶å°</a>è§£æåŸŸååˆ°æˆ‘ä»¬çš„ roudoukou.github.io<br><img src="http://cdn.xiamu.icu//FtcsUrW8DYRG9YzWdmscKa1IHXdx.png"></p><p>é€šè¿‡ ping è·å– ip<br><img src="http://cdn.xiamu.icu//FrUhiSnPJNmFhJC7vzjuCnDHH4Es.png"><br>æ·»åŠ ä¸‰ä¸ªè®°å½•<br><img src="http://cdn.xiamu.icu//Fj4XCrvFLaUHAQdnh3Jt0TbxO43X.png"><br>CNAME è¡¨ç¤ºå°†åŸŸåæŒ‡å‘å¦å¤–ä¸€ä¸ªåŸŸå<br>www è¡¨ç¤º<a href="http://www.xiamu.icuå°±èƒ½è®¿é—®/">www.xiamu.icuå°±èƒ½è®¿é—®</a> *è¡¨ç¤ºæ³›è§£æ, åŒ¹é…æ‰€æœ‰å…¶ä»–çš„åŸŸå</p><p>æ¥ä¸‹æ¥æ¥åˆ° roudoukou.github.io ä»“åº“, ç»‘å®šåŸŸå<br><img src="http://cdn.xiamu.icu//FhwFuhfWDbzw4xKz_Z77YTEJi2aY.png"><br>è®°å¾—åœ¨ hexo æ ¹ç›®å½•ä¸­ source åˆ›å»º CNAME æ–‡ä»¶(æ— åç¼€), é‡Œé¢å†™ä¸ŠåŸŸå, ä¸è¦æœ‰å¤šä½™çš„ç¬¦å·<br><img src="http://cdn.xiamu.icu//FrJSlEjWYIGBzCd__I3AOe5bA4Ge.png"></p><p>å‚è€ƒé“¾æ¥: <a href="https://juejin.cn/post/6998140713334472740">ã€Hexoã€‘åŸŸåç»‘å®šç¯‡ - æ˜é‡‘</a></p><h4 id="å…³äº-SSL-è¯ä¹¦çš„-bug"><a href="#å…³äº-SSL-è¯ä¹¦çš„-bug" class="headerlink" title="å…³äº SSL è¯ä¹¦çš„ bug"></a>å…³äº SSL è¯ä¹¦çš„ bug</h4><p>è®°å¾—æ˜¯æ˜¨å¤©æ™šä¸Šæ‰ç»‘å®šå®ŒåŸŸå, å¼€å¼€å¿ƒå¿ƒçš„å°±å»ç¡è§‰äº†, ç¬¬äºŒå¤©æ—©ä¸Šä¸€èµ·åºŠå°±å‘ç°æœ‰ç‚¹ä¸å¯¹åŠ²<br><img src="http://cdn.xiamu.icu//FpXIu2IbcKUdbbWtuAGulgpIz6PH.png"><br>ç½‘ç«™é¡µé¢èƒ½æ­£å¸¸æ˜¾ç¤ºå‡ºæ¥, ä½†æ˜¯å›¾ç‰‡å´åŠ è½½ä¸å‡ºæ¥äº†<br>å¤§è‡´çœ‹äº†çœ‹æ§åˆ¶å°çš„æŠ¥é”™ä¿¡æ¯, å¤§æ¦‚æ˜¯è¯·æ±‚çš„å›¾ç‰‡ç»™åŠ ä¸Šäº† https, åŸå…ˆä¸€ç›´éƒ½æ˜¯ http å»è¯·æ±‚å›¾ç‰‡<br>è¿™ä¸ªè¿˜ç®—å¥½è§£å†³, å» cdn å¼€å¯ https å°±å¯ä»¥äº†(éœ€è¦ä¸Šä¼ è¯ä¹¦ç»‘å®š cdn)<br><img src="http://cdn.xiamu.icu//Fj0unYPLPGs5OZo3R2jdxC7hIrnd.png"></p>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åˆ‡æ¢titleå’Œç½‘ç«™logo</title>
    <link href="/hexo/%E5%88%87%E6%8D%A2title%E5%92%8C%E7%BD%91%E7%AB%99logo/"/>
    <url>/hexo/%E5%88%87%E6%8D%A2title%E5%92%8C%E7%BD%91%E7%AB%99logo/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexoæ·»åŠ éŸ³ä¹æ’­æ”¾å™¨</title>
    <link href="/hexo/hexo%E6%B7%BB%E5%8A%A0%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/"/>
    <url>/hexo/hexo%E6%B7%BB%E5%8A%A0%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>åœ¨ç½‘é¡µä¸­æ·»åŠ éŸ³ä¹æ’­æ”¾å™¨<br>å‚è€ƒç½‘ç«™:<br><a href="https://ftzzloo.com/hexo-add-aplayer-plugins/#Start">ç»™ Hexo æ·»åŠ éŸ³ä¹æ’­æ”¾å™¨æ’ä»¶</a><br><a href="https://easyhexo.com/3-Plugins-use-and-config/3-1-hexo-tag-aplayer/#%E4%BB%8B%E7%BB%8D">hexo-tag-aplayer | Easy Hexo ğŸ‘¨â€ğŸ’»</a></p><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livescript">PS E:<span class="hljs-string">\Code\Blog\hexo-blog&gt;</span> <span class="hljs-built_in">npm</span> install hexo-tag-aplayer -s<br></code></pre></td></tr></table></figure><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>åœ¨_config.yml é…ç½®</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">aplayer:</span><br>  <span class="hljs-attr">meting:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># MetingJS æ”¯æŒ</span><br>  <span class="hljs-attr">asset_inject:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># è‡ªåŠ¨æ’å…¥Aplayer.jsä¸Meting.jsèµ„æºè„šæœ¬ï¼ˆé»˜è®¤å¼€å¯ï¼‰</span><br></code></pre></td></tr></table></figure><h2 id="å•æ›²å®ä¾‹"><a href="#å•æ›²å®ä¾‹" class="headerlink" title="å•æ›²å®ä¾‹"></a>å•æ›²å®ä¾‹</h2><p>ä¹‹ååœ¨é¡µé¢ä¸­å¼•å…¥æ’­æ”¾å™¨</p><script>console.error("Error: [hexo-tag-aplayer] Specified asset file not found ([https://cn-south-17-aplayer-46154810.oss.dogecdn.com/hikarunara.jpg](https://cn-south-17-aplayer-46154810.oss.dogecdn.com/hikarunara.jpg"))");</script><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs erlang-repl">&#123;<span class="hljs-comment">% aplayer</span><br><span class="hljs-string">&quot;å…‰ã‚‹ãªã‚‰&quot;</span><br><span class="hljs-string">&quot;Goose house&quot;</span><br><span class="hljs-string">&quot;https://cn-south-17-aplayer-46154810.oss.dogecdn.com/hikarunara.mp3&quot;</span><br><span class="hljs-string">&quot;https://cn-south-17-aplayer-46154810.oss.dogecdn.com/hikarunara.jpg&quot;</span><br><span class="hljs-string">&quot;lrc:https://cn-south-17-aplayer-46154810.oss.dogecdn.com/hikarunara.lrc&quot;</span><br><span class="hljs-string">&quot;width:100%&quot;</span><br><span class="hljs-comment">%&#125;</span><br></code></pre></td></tr></table></figure>æ­Œå•å®ä¾‹<script>console.error("SyntaxError: Unexpected token / in JSON at position 55");</script><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs ruby">&#123;% aplayerlist %&#125;<br>&#123;<br>    <span class="hljs-string">&quot;narrow&quot;</span>: <span class="hljs-literal">false</span>,<br>    <span class="hljs-string">&quot;autoplay&quot;</span>: <span class="hljs-literal">false</span>,<br>    <span class="hljs-string">&quot;mode&quot;</span>: <span class="hljs-string">&quot;random&quot;</span>,<span class="hljs-regexp">//</span>ï¼ˆå¯é€‰ï¼‰<span class="hljs-string">&#x27;random&#x27;</span>, <span class="hljs-string">&#x27;single&#x27;</span> (å•æ›²æ’­æ”¾), <span class="hljs-string">&#x27;circulation&#x27;</span> (å¾ªç¯æ’­æ”¾), <span class="hljs-string">&#x27;order&#x27;</span> (åˆ—è¡¨æ’­æ”¾)ï¼Œ é»˜è®¤ï¼š<span class="hljs-string">&#x27;circulation&#x27;</span><br>    <span class="hljs-string">&quot;showlrc&quot;</span>: <span class="hljs-number">3</span>,<br>    <span class="hljs-string">&quot;mutex&quot;</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-string">&quot;theme&quot;</span>: <span class="hljs-string">&quot;#e6d0b2&quot;</span>,<br>    <span class="hljs-string">&quot;preload&quot;</span>: <span class="hljs-string">&quot;metadata&quot;</span>,<br>    <span class="hljs-string">&quot;listmaxheight&quot;</span>: <span class="hljs-string">&quot;513px&quot;</span>,<br>    <span class="hljs-string">&quot;music&quot;</span>: [<br>        &#123;<br>            <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;å‰å‰å‰ä¸–&quot;</span>,<br>            <span class="hljs-string">&quot;author&quot;</span>: <span class="hljs-string">&quot;RADWIMPS&quot;</span>,<br>            <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;https://cn-south-17-aplayer-46154810.oss.dogecdn.com/yourname.mp3&quot;</span>,<br>            <span class="hljs-string">&quot;pic&quot;</span>: <span class="hljs-string">&quot;https://cn-south-17-aplayer-46154810.oss.dogecdn.com/yourname.jpg&quot;</span>,<br>            <span class="hljs-string">&quot;lrc&quot;</span>: <span class="hljs-string">&quot;https://cn-south-17-aplayer-46154810.oss.dogecdn.com/yourname.lrc&quot;</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;å…‰ã‚‹ãªã‚‰&quot;</span>,<br>            <span class="hljs-string">&quot;author&quot;</span>: <span class="hljs-string">&quot;Goose house&quot;</span>,<br>            <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;https://cn-south-17-aplayer-46154810.oss.dogecdn.com/hikarunara.mp3&quot;</span>,<br>            <span class="hljs-string">&quot;pic&quot;</span>: <span class="hljs-string">&quot;https://cn-south-17-aplayer-46154810.oss.dogecdn.com/hikarunara.jpg&quot;</span>,<br>            <span class="hljs-string">&quot;lrc&quot;</span>: <span class="hljs-string">&quot;https://cn-south-17-aplayer-46154810.oss.dogecdn.com/hikarunara.lrc&quot;</span><br>        &#125;<br>    ]<br>&#125;<br>&#123;% endaplayerlist %&#125;<br></code></pre></td></tr></table></figure><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>title</td><td>æ­Œæ›²æ ‡é¢˜</td></tr><tr><td>author</td><td>æ­Œæ›²ä½œè€…</td></tr><tr><td>url</td><td>éŸ³ä¹æ–‡ä»¶ URL åœ°å€</td></tr><tr><td>picture_url</td><td>ï¼ˆå¯é€‰ï¼‰å°é¢å›¾ç‰‡åœ°å€</td></tr><tr><td>narrow</td><td>ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨è¢–çé£æ ¼</td></tr><tr><td>autoplay</td><td>ï¼ˆå¯é€‰ï¼‰è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½</td></tr><tr><td>width</td><td>ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨å®½åº¦ (é»˜è®¤: 100%)</td></tr><tr><td>lrc</td><td>ï¼ˆå¯é€‰ï¼‰æ­Œè¯æ–‡ä»¶ URL åœ°å€</td></tr></tbody></table><h2 id="MetingJS-æ”¯æŒ"><a href="#MetingJS-æ”¯æŒ" class="headerlink" title="MetingJS æ”¯æŒ"></a>MetingJS æ”¯æŒ</h2><p>å¼•å…¥ MetingJS, æ’­æ”¾å™¨æ”¯æŒ QQ éŸ³ä¹, ç½‘æ˜“äº‘ç­‰</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">aplayer:</span><br>  <span class="hljs-attr">meting:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># MetingJS æ”¯æŒ</span><br>  <span class="hljs-attr">asset_inject:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># è‡ªåŠ¨æ’å…¥Aplayer.jsä¸Meting.jsèµ„æºè„šæœ¬ï¼ˆé»˜è®¤å¼€å¯ï¼‰</span><br></code></pre></td></tr></table></figure><p>è®¾ç½®åé¡µé¢åœ¨åˆå§‹åŒ–æ’­æ”¾å™¨æ—¶ä¼šå¼•å…¥ 1.2.0 ç‰ˆæœ¬çš„ Meting.min.js æ–‡ä»¶<br>æ³¨æ„ä¸æ˜¯åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.yml è®¾ç½®ï¼Œè®¾ç½®åè¦é‡å¯ hexo æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆ</p><h2 id="Meting-JS-å•æ›²"><a href="#Meting-JS-å•æ›²" class="headerlink" title="Meting JS å•æ›²"></a>Meting JS å•æ›²</h2><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mel">&#123;% meting <span class="hljs-string">&quot;1330348068&quot;</span> <span class="hljs-string">&quot;netease&quot;</span> <span class="hljs-string">&quot;song&quot;</span>  <span class="hljs-string">&quot;theme: #1da496&quot;</span> %&#125;<br></code></pre></td></tr></table></figure>    <div id="aplayer-zupnnTFG" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="1330348068" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme=" #1da496"    ></div><h2 id="Meting-JS-æ­Œå•"><a href="#Meting-JS-æ­Œå•" class="headerlink" title="Meting JS æ­Œå•"></a>Meting JS æ­Œå•</h2><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livescript">&#123;% meting <span class="hljs-string">&quot;5237049130&quot;</span> <span class="hljs-string">&quot;netease&quot;</span> <span class="hljs-string">&quot;playlist&quot;</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;mutex: false&quot;</span> <span class="hljs-string">&quot;listmaxheight: 340px&quot;</span> <span class="hljs-string">&quot;preload: none&quot;</span> <span class="hljs-string">&quot;theme: <span class="hljs-subst">#ad7a86</span>&quot;</span> %&#125;<br></code></pre></td></tr></table></figure>    <div id="aplayer-pSEctioY" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="5237049130" data-server="netease" data-type="playlist" data-mode="circulation" data-autoplay="false" data-mutex="false" data-listmaxheight=" 340px" data-preload=" none" data-theme=" #ad7a86"    ></div><table><thead><tr><th><strong>é€‰é¡¹</strong></th><th><strong>é»˜è®¤å€¼</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>id</td><td>å¿…é¡»å€¼</td><td>æ­Œæ›² id &#x2F; æ’­æ”¾åˆ—è¡¨ id &#x2F; ç›¸å†Œ id &#x2F; æœç´¢å…³é”®å­—</td></tr><tr><td>server</td><td>å¿…é¡»å€¼</td><td>éŸ³ä¹å¹³å°: netease, tencent, kugou, xiami, baidu</td></tr><tr><td>type</td><td>å¿…é¡»å€¼</td><td>song, playlist, album, search, artist</td></tr><tr><td>fixed</td><td>false</td><td>å¼€å¯å›ºå®šæ¨¡å¼</td></tr><tr><td>mini</td><td>false</td><td>å¼€å¯è¿·ä½ æ¨¡å¼</td></tr><tr><td>loop</td><td>all</td><td>åˆ—è¡¨å¾ªç¯æ¨¡å¼ï¼šall, one,none</td></tr><tr><td>order</td><td>list</td><td>åˆ—è¡¨æ’­æ”¾æ¨¡å¼ï¼š list, random</td></tr><tr><td>volume</td><td>0.7</td><td>æ’­æ”¾å™¨éŸ³é‡</td></tr><tr><td>lrctype</td><td>0</td><td>æ­Œè¯æ ¼å¼ç±»å‹</td></tr><tr><td>listfolded</td><td>false</td><td>æŒ‡å®šéŸ³ä¹æ’­æ”¾åˆ—è¡¨æ˜¯å¦æŠ˜å </td></tr><tr><td>storagename</td><td>metingjs</td><td>LocalStorage ä¸­å­˜å‚¨æ’­æ”¾å™¨è®¾å®šçš„é”®å</td></tr><tr><td>autoplay</td><td>true</td><td>è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½</td></tr><tr><td>mutex</td><td>true</td><td>è¯¥é€‰é¡¹å¼€å¯æ—¶ï¼Œå¦‚æœåŒé¡µé¢æœ‰å…¶ä»– aplayer æ’­æ”¾ï¼Œè¯¥æ’­æ”¾å™¨ä¼šæš‚åœ</td></tr><tr><td>listmaxheight</td><td>340px</td><td>æ’­æ”¾åˆ—è¡¨çš„æœ€å¤§é•¿åº¦</td></tr><tr><td>preload</td><td>auto</td><td>éŸ³ä¹æ–‡ä»¶é¢„è½½å…¥æ¨¡å¼ï¼Œå¯é€‰é¡¹ï¼š none, metadata, auto</td></tr><tr><td>theme</td><td>#ad7a86</td><td>æ’­æ”¾å™¨é£æ ¼è‰²å½©è®¾ç½®</td></tr></tbody></table><h2 id="æ’­æ”¾å™¨è®¾ç½®å¸åº•æ¨¡å¼"><a href="#æ’­æ”¾å™¨è®¾ç½®å¸åº•æ¨¡å¼" class="headerlink" title="æ’­æ”¾å™¨è®¾ç½®å¸åº•æ¨¡å¼"></a>æ’­æ”¾å™¨è®¾ç½®å¸åº•æ¨¡å¼</h2><p>åœ¨ themes&#x2F;fluid&#x2F;layout&#x2F;layout.ejs æ–‡ä»¶, <body>æ ‡ç­¾æ·»åŠ </p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs abnf">&lt;div class<span class="hljs-operator">=</span><span class="hljs-string">&quot;aplayer&quot;</span><br>  data-id<span class="hljs-operator">=</span><span class="hljs-string">&quot;5237049130&quot;</span><br>  data-server<span class="hljs-operator">=</span><span class="hljs-string">&quot;netease&quot;</span><br>  data-type<span class="hljs-operator">=</span><span class="hljs-string">&quot;playlist&quot;</span><br>  data-fixed<span class="hljs-operator">=</span><span class="hljs-string">&quot;true&quot;</span><br>  data-autoplay<span class="hljs-operator">=</span><span class="hljs-string">&quot;false&quot;</span><br>  data-order<span class="hljs-operator">=</span><span class="hljs-string">&quot;list&quot;</span><br>  data-volume<span class="hljs-operator">=</span><span class="hljs-string">&quot;0.5&quot;</span><br>  data-theme<span class="hljs-operator">=</span><span class="hljs-string">&quot;#1da496&quot;</span><br>  data-preload<span class="hljs-operator">=</span><span class="hljs-string">&quot;auto&quot;</span><br>  &gt;<br>&lt;/div&gt;<br><br></code></pre></td></tr></table></figure><header>æˆ–è€…<footer>åŠ å…¥<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><br><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>å› ä¸ºåœ¨ä¸»é¢˜æ–‡ä»¶ä¸­æ‰‹åŠ¨åŠ å…¥äº†ä¾èµ–æ–‡ä»¶ï¼Œæ‰€ä»¥å¯ä»¥åœ¨hexoé…ç½®æ–‡ä»¶ä¸­å…³é—­æ’ä»¶çš„è‡ªåŠ¨è„šæœ¬æ’å…¥åŠŸèƒ½ï¼š<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">aplayer:</span><br>  <span class="hljs-attr">meting:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># MetingJS æ”¯æŒ</span><br>  <span class="hljs-attr">asset_inject:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># å…³é—­è‡ªåŠ¨è„šæœ¬æ’å…¥</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¯­é›€å¯¼å‡ºåˆ°hexo</title>
    <link href="/hexo/%E8%AF%AD%E9%9B%80%E5%AF%BC%E5%87%BA%E5%88%B0hexo/"/>
    <url>/hexo/%E8%AF%AD%E9%9B%80%E5%AF%BC%E5%87%BA%E5%88%B0hexo/</url>
    
    <content type="html"><![CDATA[<p>å› ä¸ºè¯­é›€æ”¶è´¹äº†, ç¼–å†™çš„ç¬”è®°åœ¨äº’è”ç½‘ä¸­åˆ†äº«éœ€è¦ä¼šå‘˜, æœ¬äººæ¯”è¾ƒå±Œä¸, å……ä¸èµ·ä¼šå‘˜<br><a href="https://github.com/x-cold/yuque-hexo">https://github.com/x-cold/yuque-hexo</a><br>ä½¿ç”¨ yuque-hexo å°†è¯­é›€ç¼–å†™çš„æ–‡ç« </p><p>åœ¨ hexo åšå®¢æ ¹ç›®å½•ä¸­ä¸‹è½½ yuque-hexo æ’ä»¶</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">PS</span> <span class="hljs-selector-tag">E</span>:\<span class="hljs-selector-tag">Code</span>\<span class="hljs-selector-tag">Blog</span>\<span class="hljs-selector-tag">hexo-blog</span>&gt; <span class="hljs-selector-tag">npm</span> <span class="hljs-selector-tag">i</span> <span class="hljs-selector-tag">-g</span> <span class="hljs-selector-tag">yuque-hexo</span><br></code></pre></td></tr></table></figure><p>å¦‚æœå®‰è£…æ’ä»¶çš„æ—¶å€™å‘ç”Ÿäº†è­¦å‘Š, è¯·å…ˆæŠŠ package-lock.json åˆ é™¤æ‰é‡æ–°ç”Ÿæˆ<br><img src="http://cdn.xiamu.icu//FjrsDtZuyoEiT3I1qzBPDX5LSSZt.png"><br>ç„¶åæ‰“å¼€ package.json<br>é…ç½®</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;yuqueConfig&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;postPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;source/_posts&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;cachePath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;yuque.json&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;mdNameFormat&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;title&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;adapter&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;hexo&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;concurrency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;baseUrl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://www.yuque.com/api/v2&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;login&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;roudoukou-umqjd&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;repo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;xn56rg&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;onlyPublished&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;onlyPublic&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;lastGeneratePath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;lastGeneratePath.log&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;imgCdn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;enabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;concurrency&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;imageBed&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;github&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;host&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cdn.jsdelivr.net&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;roudoukou.github.io&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;region&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;prefixKey&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;blog-img&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>postPath è¡¨ç¤ºæ–‡æ¡£ä¸‹è½½çš„è·¯å¾„<br>login è¡¨ç¤ºæ˜¯ä¸ªäººè·¯å¾„<br>repo ä»“åº“è·¯å¾„<br>imgCdn å›¾åºŠçš„é…ç½®<br>enable å¼€å¯å›¾åºŠ<br>concurrency å¹¶å‘é‡<br>host æ˜¯ä½¿ç”¨çš„å›¾åºŠçš„ä¸»æœº<br>bucket å›¾åºŠ bucket åç§°<br>region å›¾åºŠçš„ region<br>prefixKey æ–‡ä»¶åçš„å‰ç¼€</p><p>åŒæ­¥æ–‡æ¡£åˆ°æœ¬åœ°</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">PS</span> E:\<span class="hljs-meta">Code</span>\Blog\hexo-blog&gt; yuque-hexo sync<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FjDQ1y7ze0DScJlckXDKgJGp4ajk.png"><br>é…ç½®ä¸‰ä¸ª token</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">set</span> <span class="hljs-attribute">YUQUE_TOKEN</span>=XXX<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">SECRET_ID</span>=XXX<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">SECRET_KEY</span>=XXX<br></code></pre></td></tr></table></figure><p>å¯ä»¥æŠŠç¯å¢ƒå˜é‡å†™åœ¨ä¸€ä¸ª.env æ–‡ä»¶ä¸­, è®°å¾—ç»™.gitignore ä¸­æ’é™¤è¿™ä¸ª.env æ–‡ä»¶, ä»¥é˜²ä¸Šä¼ åˆ°äº† github, å› ä¸º TOKEN æ˜¯æ•æ„Ÿä¿¡æ¯</p>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>RabbitMQ</title>
    <link href="/Java/RabbitMQ/"/>
    <url>/Java/RabbitMQ/</url>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>è®°å¾—åœ¨æœ‰ç®¡ç†å‘˜æƒé™å®‰è£…</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs crystal">[root<span class="hljs-variable">@hadoop202</span> software]<span class="hljs-comment"># rpm -ivh erlang-21.3-1.el7.x86_64.rpm</span><br><br>[root<span class="hljs-variable">@hadoop202</span> software]<span class="hljs-comment"># yum install socat -y</span><br><br>[xiamu<span class="hljs-variable">@hadoop202</span> software]<span class="hljs-variable">$ </span>rpm -ivh rabbitmq-server-<span class="hljs-number">3.8</span>.<span class="hljs-number">8</span>-<span class="hljs-number">1</span>.el7.noarch.rpm<br></code></pre></td></tr></table></figure><h2 id="å¼€å¯æœåŠ¡"><a href="#å¼€å¯æœåŠ¡" class="headerlink" title="å¼€å¯æœåŠ¡"></a>å¼€å¯æœåŠ¡</h2><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs autoit">[root<span class="hljs-symbol">@hadoop202</span> software]<span class="hljs-meta"># systemctl start rabbitmq-server</span><br><br>[root<span class="hljs-symbol">@hadoop202</span> software]<span class="hljs-meta"># systemctl statua rabbitmq-server</span><br><br>[root<span class="hljs-symbol">@hadoop202</span> software]<span class="hljs-meta"># systemctl stop rabbitmq-server</span><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…-Web-ç•Œé¢æ’ä»¶"><a href="#å®‰è£…-Web-ç•Œé¢æ’ä»¶" class="headerlink" title="å®‰è£… Web ç•Œé¢æ’ä»¶"></a>å®‰è£… Web ç•Œé¢æ’ä»¶</h2><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs autoit">[root<span class="hljs-symbol">@hadoop202</span> software]<span class="hljs-meta"># systemctl stop rabbitmq-server</span><br><br>[root<span class="hljs-symbol">@hadoop202</span> software]<span class="hljs-meta"># rabbitmq-plugins enable rabbitmq_management</span><br><br>[root<span class="hljs-symbol">@hadoop202</span> software]<span class="hljs-meta"># systemctl start rabbitmq-server</span><br><br>[root<span class="hljs-symbol">@hadoop202</span> software]<span class="hljs-meta"># systemctl status rabbitmq-server</span><br><br></code></pre></td></tr></table></figure><p>å®‰è£… Web ç•Œé¢å®Œæˆä¹‹å, è®¿é—®å¦‚ä¸‹åœ°å€<br><a href="http://hadoop202:15672/">http://hadoop202:15672/</a><br>æ³¨æ„è®°å¾—å…³é—­é˜²ç«å¢™<br><img src="http://cdn.xiamu.icu//FpSfJOpdhWNjNnoxRy2FSrnAdB_R.png"><br>ç¬¬ä¸€æ¬¡ç™»å½•ä¸äº†, éœ€è¦æ·»åŠ è´¦æˆ·æ‰èƒ½ç™»å½•<br>username: guest<br>password: guest</p><h2 id="æ·»åŠ è´¦æˆ·-ç»™äºˆæƒé™"><a href="#æ·»åŠ è´¦æˆ·-ç»™äºˆæƒé™" class="headerlink" title="æ·»åŠ è´¦æˆ· ç»™äºˆæƒé™"></a>æ·»åŠ è´¦æˆ· ç»™äºˆæƒé™</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs prolog">åˆ›å»ºè´¦å·<br>[root@hadoop202 software]# rabbitmqctl add_user admin <span class="hljs-number">123</span><br><span class="hljs-symbol">Adding</span> user <span class="hljs-string">&quot;admin&quot;</span> ...<br><br>è®¾ç½®ç”¨æˆ·è§’è‰²<br>[root@hadoop202 software]# rabbitmqctl set_user_tags admin administrator<br><span class="hljs-symbol">Setting</span> tags for user <span class="hljs-string">&quot;admin&quot;</span> to [administrator] ...<br><br>è®¾ç½®ç”¨æˆ·æƒé™<br>set_permissions [-p &lt;vhostpath&gt;] &lt;user&gt; &lt;conf&gt; &lt;write&gt; &lt;read&gt;<br>[root@hadoop202 software]# rabbitmqctl set_permissions -p <span class="hljs-string">&quot;/&quot;</span> admin <span class="hljs-string">&quot;.*&quot;</span> <span class="hljs-string">&quot;.*&quot;</span> <span class="hljs-string">&quot;.*&quot;</span><br><span class="hljs-symbol">Setting</span> permissions for user <span class="hljs-string">&quot;admin&quot;</span> in vhost <span class="hljs-string">&quot;/&quot;</span> ...<br>ç”¨æˆ· user_admin å…·æœ‰/vhost1 è¿™ä¸ª virtual host ä¸­æ‰€æœ‰èµ„æºçš„é…ç½®ã€å†™ã€è¯»æƒé™<br><br>å½“å‰ç”¨æˆ·å’Œè§’è‰²<br>[root@hadoop202 software]#    rabbitmqctl list_users<br><span class="hljs-symbol">Listing</span> users ...<br>usertags<br>admin[administrator]<br>guest[administrator]<br>[root@hadoop202 software]#<br><br></code></pre></td></tr></table></figure><p>å†æ¬¡ç™»å½•<br>è´¦å· admin<br>å¯†ç  123</p><h2 id="åˆ›å»º-JAVA-å¼€å‘ç¯å¢ƒ"><a href="#åˆ›å»º-JAVA-å¼€å‘ç¯å¢ƒ" class="headerlink" title="åˆ›å»º JAVA å¼€å‘ç¯å¢ƒ"></a>åˆ›å»º JAVA å¼€å‘ç¯å¢ƒ</h2><p>å¼•å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><br><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--rabbitmq ä¾èµ–å®¢æˆ·ç«¯--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.rabbitmq<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>amqp-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.8.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--æ“ä½œæ–‡ä»¶æµçš„ä¸€ä¸ªä¾èµ–--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-io<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-io<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.6<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h2 id="åˆ›å»ºç”Ÿäº§è€…"><a href="#åˆ›å»ºç”Ÿäº§è€…" class="headerlink" title="åˆ›å»ºç”Ÿäº§è€…"></a>åˆ›å»ºç”Ÿäº§è€…</h2><p>com.atguigu.one<br>Producer ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.one;<br><br><span class="hljs-keyword">import</span> com.rabbitmq.client.Channel;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Connection;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.ConnectionFactory;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.nio.charset.StandardCharsets;<br><span class="hljs-keyword">import</span> java.util.concurrent.TimeoutException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Producer</span> &#123;<br>    <span class="hljs-comment">// é˜Ÿåˆ—åç§°</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">QUEUE_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br><br>    <span class="hljs-comment">// å‘æ¶ˆæ¯</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, TimeoutException &#123;<br>        <span class="hljs-type">ConnectionFactory</span> <span class="hljs-variable">connectionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConnectionFactory</span>();<br>        <span class="hljs-comment">// å·¥ç¨‹IP è¿æ¥RabbitMQçš„é˜Ÿåˆ—</span><br>        connectionFactory.setHost(<span class="hljs-string">&quot;hadoop202&quot;</span>);<br>        <span class="hljs-comment">// ç”¨æˆ·å</span><br>        connectionFactory.setUsername(<span class="hljs-string">&quot;admin&quot;</span>);<br>        <span class="hljs-comment">// å¯†ç </span><br>        connectionFactory.setPassword(<span class="hljs-string">&quot;123&quot;</span>);<br><br>        <span class="hljs-comment">// åˆ›å»ºè¿æ¥</span><br>        <span class="hljs-type">Connection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> connectionFactory.newConnection();<br><br>        <span class="hljs-comment">// è·å–ä¿¡é“</span><br>        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> connection.createChannel();<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * ç”Ÿæˆä¸€ä¸ªé˜Ÿåˆ—</span><br><span class="hljs-comment">         * 1. é˜Ÿåˆ—åç§°</span><br><span class="hljs-comment">         * 2. é˜Ÿåˆ—é‡Œé¢çš„æ¶ˆæ¯æ˜¯å¦æŒä¹…åŒ–(ç£ç›˜), é»˜è®¤æƒ…å†µä¸‹æ¶ˆæ¯å­˜å‚¨åœ¨å†…å­˜ä¸­</span><br><span class="hljs-comment">         * 3. è¯¥é˜Ÿåˆ—æ˜¯å¦åªä¾›ä¸€ä¸ªæ¶ˆè´¹è€…è¿›è¡Œæ¶ˆè´¹ æ˜¯å¦è¿›è¡Œæ¶ˆæ¯å…±äº«, trueå¯ä»¥å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ false: åªèƒ½ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹</span><br><span class="hljs-comment">         * 4. æ˜¯å¦è‡ªåŠ¨åˆ é™¤ æœ€åä¸€ä¸ªæ¶ˆè´¹è€…æ–­å¼€è¿æ¥ä»¥å, è¯¥é˜Ÿåˆ—æ˜¯å¦è‡ªåŠ¨åˆ é™¤ trueè‡ªåŠ¨åˆ é™¤ false ä¸è‡ªåŠ¨åˆ é™¤</span><br><span class="hljs-comment">         * 5. å…¶ä»–å‚æ•°</span><br><span class="hljs-comment">          */</span><br>        channel.queueDeclare(QUEUE_NAME, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">null</span>);<br><br>        <span class="hljs-comment">// å‘æ¶ˆæ¯</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello world&quot;</span>; <span class="hljs-comment">// åˆæ¬¡ä½¿ç”¨</span><br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * å‘é€ä¸€ä¸ªæ¶ˆæ¯</span><br><span class="hljs-comment">         * 1. å‘é€åˆ°å“ªä¸ªäº¤æ¢æœº</span><br><span class="hljs-comment">         * 2. è·¯ç”±çš„Keyæ˜¯å“ªä¸ª æœ¬æ¬¡æ˜¯é˜Ÿåˆ—åç§°</span><br><span class="hljs-comment">         * 3. å…¶ä»–å‚æ•°ä¿¡æ¯</span><br><span class="hljs-comment">         * 4. å‘é€çš„æ¶ˆæ¯</span><br><span class="hljs-comment">         */</span><br>        channel.basicPublish(<span class="hljs-string">&quot;&quot;</span>, QUEUE_NAME, <span class="hljs-literal">null</span>, message.getBytes());<br>        System.out.println(<span class="hljs-string">&quot;æ¶ˆæ¯å‘é€å®Œæ¯•&quot;</span>);<br><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="åˆ›å»ºæ¶ˆè´¹è€…"><a href="#åˆ›å»ºæ¶ˆè´¹è€…" class="headerlink" title="åˆ›å»ºæ¶ˆè´¹è€…"></a>åˆ›å»ºæ¶ˆè´¹è€…</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.one;<br><br><span class="hljs-keyword">import</span> com.rabbitmq.client.*;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.util.concurrent.TimeoutException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Consumer</span> &#123;<br>    <span class="hljs-comment">// é˜Ÿåˆ—çš„åç§°</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">QUEUE_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br><br>    <span class="hljs-comment">//æ¥æ”¶æ¶ˆæ¯</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, TimeoutException &#123;<br>        <span class="hljs-comment">// åˆ›å»ºè¿æ¥å·¥å‚</span><br>        <span class="hljs-type">ConnectionFactory</span> <span class="hljs-variable">connectionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConnectionFactory</span>();<br>        connectionFactory.setHost(<span class="hljs-string">&quot;hadoop202&quot;</span>);<br>        connectionFactory.setUsername(<span class="hljs-string">&quot;admin&quot;</span>);<br>        connectionFactory.setPassword(<span class="hljs-string">&quot;123&quot;</span>);<br>        <span class="hljs-type">Connection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> connectionFactory.newConnection();<br><br>        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> connection.createChannel();<br><br>        <span class="hljs-comment">// å£°æ˜ æ¥æ”¶æ¶ˆæ¯</span><br>        <span class="hljs-type">DeliverCallback</span> <span class="hljs-variable">deliverCallback</span> <span class="hljs-operator">=</span> (consumerTag,message) -&gt; &#123;<br>            System.out.println(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(message.getBody()));<br>        &#125;;<br><br>        <span class="hljs-comment">// å–æ¶ˆæ¶ˆæ¯æ—¶çš„å›è°ƒ</span><br>        <span class="hljs-type">CancelCallback</span> <span class="hljs-variable">cancelCallback</span> <span class="hljs-operator">=</span> (consumerTag) -&gt; &#123;<br>            System.out.println(<span class="hljs-string">&quot;æ¶ˆæ¯æ¶ˆè´¹è¢«ä¸­æ–­&quot;</span>);<br>        &#125;;<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯</span><br><span class="hljs-comment">         * 1. æ¶ˆæ¯å“ªä¸ªé˜Ÿåˆ—</span><br><span class="hljs-comment">         * 2. æ¶ˆè´¹æˆåŠŸä¹‹åæ˜¯å¦è¦è‡ªåŠ¨åº”ç­” true ä»£è¡¨çš„è‡ªåŠ¨åº”ç­”</span><br><span class="hljs-comment">         * 3. æ¶ˆè´¹è€…æœªæˆåŠŸæ¶ˆè´¹çš„å›è°ƒ</span><br><span class="hljs-comment">         * 4. æ¶ˆè´¹è€…å–æ¶ˆæ¶ˆè´¹çš„å›è°ƒ</span><br><span class="hljs-comment">         */</span><br>        channel.basicConsume(QUEUE_NAME, <span class="hljs-literal">true</span>, deliverCallback, cancelCallback);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="å·¥ä½œé˜Ÿåˆ—åŸç†"><a href="#å·¥ä½œé˜Ÿåˆ—åŸç†" class="headerlink" title="å·¥ä½œé˜Ÿåˆ—åŸç†"></a>å·¥ä½œé˜Ÿåˆ—åŸç†</h2><p>å·¥ä½œé˜Ÿåˆ—(åˆç§°ä»»åŠ¡é˜Ÿåˆ—)çš„ä¸»è¦æ€æƒ³æ˜¯é¿å…ç«‹å³æ‰§è¡Œèµ„æºå¯†é›†å‹ä»»åŠ¡ï¼Œè€Œä¸å¾—ä¸ç­‰å¾…å®ƒå®Œæˆã€‚ç›¸åæˆ‘ä»¬å®‰æ’ä»»åŠ¡åœ¨ä¹‹åæ‰§è¡Œã€‚æˆ‘ä»¬æŠŠä»»åŠ¡å°è£…ä¸ºæ¶ˆæ¯å¹¶å°†å…¶å‘é€åˆ°é˜Ÿåˆ—ã€‚åœ¨åå°è¿è¡Œçš„å·¥ä½œè¿›ç¨‹å°†å¼¹å‡ºä»»åŠ¡å¹¶æœ€ç»ˆæ‰§è¡Œä½œä¸šã€‚å½“æœ‰å¤šä¸ªå·¥ä½œçº¿ç¨‹æ—¶ï¼Œè¿™äº›å·¥ä½œçº¿ç¨‹å°†ä¸€èµ·å¤„ç†è¿™äº›ä»»åŠ¡ã€‚<br><img src="http://cdn.xiamu.icu//FuuDCEPDkN-yXdB1Vbuj0V_ESN0B.png"></p><h2 id="æŠ½å–è¿æ¥å·¥å‚å·¥å…·ç±»"><a href="#æŠ½å–è¿æ¥å·¥å‚å·¥å…·ç±»" class="headerlink" title="æŠ½å–è¿æ¥å·¥å‚å·¥å…·ç±»"></a>æŠ½å–è¿æ¥å·¥å‚å·¥å…·ç±»</h2><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-keyword">package</span> com.atguigu.utils;<br><br><span class="hljs-keyword">import</span> com.rabbitmq.client.Channel;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Connection;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.ConnectionFactory;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ­¤ç±»ä¸ºè¿æ¥å·¥å‚åˆ›å»ºä¿¡é“çš„å·¥å…·ç±»</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RabbitMqUtils</span> </span>&#123;<br>    <span class="hljs-comment">//å¾—åˆ°ä¸€ä¸ªè¿æ¥çš„ channel</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Channel getChannel() throws Exception &#123;<br>        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªè¿æ¥å·¥å‚</span><br>        ConnectionFactory factory = <span class="hljs-keyword">new</span> <span class="hljs-type">ConnectionFactory</span>();<br>        factory.setHost(<span class="hljs-string">&quot;hadoop202S&quot;</span>);<br>        factory.setUsername(<span class="hljs-string">&quot;admin&quot;</span>);<br>        factory.setPassword(<span class="hljs-string">&quot;123&quot;</span>);<br>        Connection connection = factory.<span class="hljs-keyword">new</span><span class="hljs-type">Connection</span>();<br>        Channel channel = connection.createChannel();<br>        <span class="hljs-keyword">return</span> channel;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å¯åŠ¨å¤šä¸ªå·¥ä½œçº¿ç¨‹"><a href="#å¯åŠ¨å¤šä¸ªå·¥ä½œçº¿ç¨‹" class="headerlink" title="å¯åŠ¨å¤šä¸ªå·¥ä½œçº¿ç¨‹"></a>å¯åŠ¨å¤šä¸ªå·¥ä½œçº¿ç¨‹</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.two;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.RabbitMqUtils;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.CancelCallback;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Channel;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.DeliverCallback;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è¿™æ˜¯ä¸€ä¸ªå·¥ä½œçº¿ç¨‹(ç›¸å½“äºä¹‹å‰æ¶ˆè´¹è€…)</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Worker01</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">QUEUE_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> RabbitMqUtils.getChannel();<br><br>        <span class="hljs-type">DeliverCallback</span> <span class="hljs-variable">deliverCallback</span> <span class="hljs-operator">=</span> (consumerTag, message) -&gt; &#123;<br>            System.out.println(<span class="hljs-string">&quot;æ¥æ”¶åˆ°çš„æ¶ˆæ¯: &quot;</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(message.getBody()));<br>        &#125;;<br><br>        <span class="hljs-type">CancelCallback</span> <span class="hljs-variable">cancelCallback</span> <span class="hljs-operator">=</span> (consumerTag) -&gt; &#123;<br>            System.out.println(consumerTag + <span class="hljs-string">&quot;æ¶ˆè´¹è€…å–æ¶ˆæ¶ˆè´¹æ¥å£å›è°ƒé€»è¾‘&quot;</span>);<br>        &#125;;<br><br>        System.out.println(<span class="hljs-string">&quot;C3ç­‰å¾…æ¥æ”¶æ¶ˆæ¯...&quot;</span>);<br><br>        <span class="hljs-comment">// æ¶ˆæ¯çš„æ¥æ”¶</span><br>        channel.basicConsume(QUEUE_NAME, <span class="hljs-literal">true</span>, deliverCallback, cancelCallback);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fp6cJyCpPs3uFBXQrNlkw0hYwpvI.png"><br>ç„¶åè¿è¡Œä¸‰ä¸ªå·¥ä½œçº¿ç¨‹(å®ä¾‹)<br><img src="http://cdn.xiamu.icu//Fky-vggOKJh3OlGex0ZYkQSKRq3k.png"></p><h2 id="å·¥ä½œé˜Ÿåˆ—-ç”Ÿäº§è€…ä»£ç "><a href="#å·¥ä½œé˜Ÿåˆ—-ç”Ÿäº§è€…ä»£ç " class="headerlink" title="å·¥ä½œé˜Ÿåˆ— - ç”Ÿäº§è€…ä»£ç "></a>å·¥ä½œé˜Ÿåˆ— - ç”Ÿäº§è€…ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.two;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.RabbitMqUtils;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Channel;<br><br><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç”Ÿäº§è€… å‘é€å¤§é‡æ¶ˆæ¯</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Task01</span> &#123;<br>    <span class="hljs-comment">// é˜Ÿåˆ—åç§°</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">QUEUE_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br><br>    <span class="hljs-comment">// å‘é€å¤§é‡æ¶ˆæ¯</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> RabbitMqUtils.getChannel();<br><br>        <span class="hljs-comment">// é˜Ÿåˆ—çš„å£°æ˜</span><br>        channel.queueDeclare(QUEUE_NAME, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">null</span>);<br><br>        <span class="hljs-comment">// ä»æ§åˆ¶å°å½“ä¸­æ¥æ”¶æ¶ˆæ¯</span><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-keyword">while</span> (scanner.hasNext()) &#123;<br>            <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> scanner.next();<br>            channel.basicPublish(<span class="hljs-string">&quot;&quot;</span>, QUEUE_NAME, <span class="hljs-literal">null</span>, message.getBytes());<br>            System.out.println(<span class="hljs-string">&quot;å‘é€æ¶ˆæ¯å®Œæˆ: &quot;</span> + message);<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœ:<br><img src="http://cdn.xiamu.icu//FgUF02rGLuH5sbnf-5cEslA_m2G-.png"><br><img src="http://cdn.xiamu.icu//FrSSWM7Y9pp5vfckw209ELBVgZnL.png"><br><img src="http://cdn.xiamu.icu//FoHSwFfB2eRZijKeLG4_2xrSX6YS.png"><br><img src="http://cdn.xiamu.icu//FlBU9xjcof8CQTyHEh0dJCSrLJ7p.png"></p><h2 id="æ¶ˆæ¯åº”ç­”ç”Ÿäº§è€…"><a href="#æ¶ˆæ¯åº”ç­”ç”Ÿäº§è€…" class="headerlink" title="æ¶ˆæ¯åº”ç­”ç”Ÿäº§è€…"></a>æ¶ˆæ¯åº”ç­”ç”Ÿäº§è€…</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.three;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.RabbitMqUtils;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Channel;<br><br><span class="hljs-keyword">import</span> java.nio.charset.StandardCharsets;<br><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ¶ˆæ¯åœ¨æ‰‹åŠ¨åº”ç­”æ—¶æ˜¯ä¸ä¸¢å¤±, æ”¾å›é˜Ÿåˆ—ä¸­é‡æ–°æ¶ˆè´¹</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Task2</span> &#123;<br><br>    <span class="hljs-comment">// é˜Ÿåˆ—åç§°</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TASK_QUEUE_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ack_queue&quot;</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> RabbitMqUtils.getChannel();<br><br>        <span class="hljs-comment">// å£°æ˜é˜Ÿåˆ—</span><br>        channel.queueDeclare(TASK_QUEUE_NAME, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">null</span>);<br><br>        <span class="hljs-comment">// åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ä¿¡æ¯</span><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-keyword">while</span> (scanner.hasNext()) &#123;<br>            <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> scanner.next();<br>            channel.basicPublish(<span class="hljs-string">&quot;&quot;</span>, TASK_QUEUE_NAME, <span class="hljs-literal">null</span>, message.getBytes(StandardCharsets.UTF_8));<br>            System.out.println(<span class="hljs-string">&quot;ç”Ÿäº§è€…å‘å‡ºæ¶ˆæ¯: &quot;</span> + message);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ¶ˆæ¯åº”ç­”æ¶ˆè´¹è€…"><a href="#æ¶ˆæ¯åº”ç­”æ¶ˆè´¹è€…" class="headerlink" title="æ¶ˆæ¯åº”ç­”æ¶ˆè´¹è€…"></a>æ¶ˆæ¯åº”ç­”æ¶ˆè´¹è€…</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-keyword">package</span> com.atguigu.three;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.RabbitMqUtils;<br><span class="hljs-keyword">import</span> com.atguigu.utils.SleepUtils;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.CancelCallback;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Channel;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.DeliverCallback;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Delivery;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ¶ˆæ¯åœ¨æ‰‹åŠ¨åº”ç­”æ—¶æ˜¯ä¸ä¸¢å¤±, æ”¾å›é˜Ÿåˆ—ä¸­é‡æ–°æ¶ˆè´¹</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> Work03 &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String TASK_QUEUE_NAME = <span class="hljs-string">&quot;ack_queue&quot;</span>;<br><br>    <span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args) <span class="hljs-keyword">throws</span> Exception &#123;<br>        Channel channel = RabbitMqUtils.getChannel();<br>        System.out.<span class="hljs-keyword">println</span>(<span class="hljs-string">&quot;C1ç­‰å¾…æ¥æ”¶æ¶ˆæ¯å¤„ç†æ—¶é—´è¾ƒçŸ­&quot;</span>);<br><br>        DeliverCallback deliverCallback = (consumerTag, message) -&gt; &#123;<br>            <span class="hljs-comment">// æ²‰ç¡1S</span><br>            SleepUtils.sleep(<span class="hljs-number">1</span>);<br>            System.out.<span class="hljs-keyword">println</span>(<span class="hljs-string">&quot;æ¥æ”¶åˆ°çš„æ¶ˆæ¯&quot;</span> + <span class="hljs-keyword">new</span> String(message.getBody(), <span class="hljs-string">&quot;UTF-8&quot;</span>));<br>            <span class="hljs-comment">// æ‰‹åŠ¨åº”ç­”</span><br>            <span class="hljs-comment">/**</span><br><span class="hljs-comment">             * 1. æ¶ˆæ¯çš„æ ‡è®°tag</span><br><span class="hljs-comment">             * 2. æ˜¯å¦æ‰¹é‡åº”ç­” false ä¸æ‰¹é‡åº”ç­”æ–°é“ä¸­çš„æ¶ˆæ¯ true æ‰¹é‡</span><br><span class="hljs-comment">             */</span><br>            channel.basicAck(message.getEnvelope().getDeliveryTag(), <span class="hljs-keyword">false</span>);<br><br>        &#125;;<br><br><br>        CancelCallback cancelCallback = consumerTag -&gt; &#123;<br>            System.out.<span class="hljs-keyword">println</span>(<span class="hljs-string">&quot;æ¶ˆè´¹è€…å–æ¶ˆæ¶ˆè´¹æ¥å£å›è°ƒé€»è¾‘&quot;</span>);<br>        &#125;;<br><br>        <span class="hljs-comment">// é‡‡ç”¨æ‰‹åŠ¨åº”ç­”</span><br>        <span class="hljs-keyword">boolean</span> autoAsk = <span class="hljs-keyword">false</span>;<br>        channel.basicConsume(TASK_QUEUE_NAME, autoAsk, deliverCallback, cancelCallback);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-keyword">package</span> com.atguigu.three;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.RabbitMqUtils;<br><span class="hljs-keyword">import</span> com.atguigu.utils.SleepUtils;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.CancelCallback;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Channel;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.DeliverCallback;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ¶ˆæ¯åœ¨æ‰‹åŠ¨åº”ç­”æ—¶æ˜¯ä¸ä¸¢å¤±, æ”¾å›é˜Ÿåˆ—ä¸­é‡æ–°æ¶ˆè´¹</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> Work04 &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String TASK_QUEUE_NAME = <span class="hljs-string">&quot;ack_queue&quot;</span>;<br><br>    <span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args) <span class="hljs-keyword">throws</span> Exception &#123;<br>        Channel channel = RabbitMqUtils.getChannel();<br>        System.out.<span class="hljs-keyword">println</span>(<span class="hljs-string">&quot;C2ç­‰å¾…æ¥æ”¶æ¶ˆæ¯å¤„ç†æ—¶é—´è¾ƒå¿«&quot;</span>);<br><br>        DeliverCallback deliverCallback = (consumerTag, message) -&gt; &#123;<br>            <span class="hljs-comment">// æ²‰ç¡1S</span><br>            SleepUtils.sleep(<span class="hljs-number">30</span>);<br>            System.out.<span class="hljs-keyword">println</span>(<span class="hljs-string">&quot;æ¥æ”¶åˆ°çš„æ¶ˆæ¯&quot;</span> + <span class="hljs-keyword">new</span> String(message.getBody(), <span class="hljs-string">&quot;UTF-8&quot;</span>));<br>            <span class="hljs-comment">// æ‰‹åŠ¨åº”ç­”</span><br>            <span class="hljs-comment">/**</span><br><span class="hljs-comment">             * 1. æ¶ˆæ¯çš„æ ‡è®°tag</span><br><span class="hljs-comment">             * 2. æ˜¯å¦æ‰¹é‡åº”ç­” false ä¸æ‰¹é‡åº”ç­”æ–°é“ä¸­çš„æ¶ˆæ¯ true æ‰¹é‡</span><br><span class="hljs-comment">             */</span><br>            channel.basicAck(message.getEnvelope().getDeliveryTag(), <span class="hljs-keyword">false</span>);<br><br>        &#125;;<br><br><br>        CancelCallback cancelCallback = consumerTag -&gt; &#123;<br>            System.out.<span class="hljs-keyword">println</span>(<span class="hljs-string">&quot;æ¶ˆè´¹è€…å–æ¶ˆæ¶ˆè´¹æ¥å£å›è°ƒé€»è¾‘&quot;</span>);<br>        &#125;;<br><br>        <span class="hljs-comment">// é‡‡ç”¨æ‰‹åŠ¨åº”ç­”</span><br>        <span class="hljs-keyword">boolean</span> autoAsk = <span class="hljs-keyword">false</span>;<br>        channel.basicConsume(TASK_QUEUE_NAME, autoAsk, deliverCallback, cancelCallback);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-keyword">package</span> com.<span class="hljs-property">atguigu</span>.<span class="hljs-property">utils</span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç¡çœ å·¥å…·ç±»</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SleepUtils</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-type">int</span> <span class="hljs-built_in">second</span>) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            Thread.<span class="hljs-property">sleep</span>(<span class="hljs-number">1000</span> * <span class="hljs-built_in">second</span>);<br>        &#125; <span class="hljs-title function_">catch</span> (InterruptedException e) &#123;<br>            e.<span class="hljs-property">printStackTrace</span>();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœ:<br>work04 è¿è¡Œåˆ°ä¸€åŠæ—¶, ç»™æŒ‚æ‰, work03 æˆåŠŸå¤„ç† work04 æœªèƒ½å¤„ç†çš„æ¶ˆæ¯<br><img src="http://cdn.xiamu.icu//FqPD-c2YDaWHkPAbO-fF65BuZzXD.png"><br><img src="http://cdn.xiamu.icu//FiL6SdjaIPXZfYczZyyhyTX2o8rB.png"><br><img src="http://cdn.xiamu.icu//Fpg17VCaTNPn3Dg9yVP2hpUzWeeQ.png"></p><h2 id="é˜Ÿåˆ—æŒä¹…åŒ–"><a href="#é˜Ÿåˆ—æŒä¹…åŒ–" class="headerlink" title="é˜Ÿåˆ—æŒä¹…åŒ–"></a>é˜Ÿåˆ—æŒä¹…åŒ–</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">channel.queue<span class="hljs-constructor">Declare(TASK_QUEUE_NAME, <span class="hljs-params">null</span>, <span class="hljs-params">false</span>, <span class="hljs-params">false</span>, <span class="hljs-params">null</span>)</span>;<br><br><span class="hljs-comment">// å£°æ˜é˜Ÿåˆ—</span><br>boolean durable = <span class="hljs-literal">true</span>;<br>channel.queue<span class="hljs-constructor">Declare(TASK_QUEUE_NAME, <span class="hljs-params">durable</span>, <span class="hljs-params">false</span>, <span class="hljs-params">false</span>, <span class="hljs-params">null</span>)</span>;<br></code></pre></td></tr></table></figure><p>å¦‚æœé˜Ÿåˆ—åœ¨æœªæŒä¹…åŒ–è¿è¡Œè¿‡, æŠŠ durable ä¿®æ”¹æˆ true å˜æˆæŒä¹…åŒ–ä¹‹åå°±ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯</p><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs oxygene">Caused <span class="hljs-keyword">by</span>: com.rabbitmq.client.ShutdownSignalException: channel error<span class="hljs-punctuation">;</span> protocol <span class="hljs-keyword">method</span>: #<span class="hljs-keyword">method</span>&lt;<span class="hljs-title function_">channel</span>.<span class="hljs-title function_">close</span>&gt;<span class="hljs-params">(reply-code=406, reply-text=PRECONDITION_FAILED - inequivalent arg <span class="hljs-string">&#x27;durable&#x27;</span> <span class="hljs-keyword">for</span> queue <span class="hljs-string">&#x27;ack_queue&#x27;</span> <span class="hljs-keyword">in</span> vhost <span class="hljs-string">&#x27;/&#x27;</span>: received <span class="hljs-string">&#x27;true&#x27;</span> but current <span class="hljs-keyword">is</span> <span class="hljs-string">&#x27;false&#x27;</span>, <span class="hljs-keyword">class</span>-id=50, <span class="hljs-keyword">method</span>-id=10)</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬åªéœ€è¦åˆ é™¤è¿™ä¸ªé˜Ÿåˆ— , å†æ¬¡è¿è¡Œå°±å¯ä»¥äº†<br><img src="http://cdn.xiamu.icu//FooT7dOI3oW1XjFM52QrwYXckcQ_.png"></p><p>Features æ˜¾ç¤º D è¯´æ˜æŒä¹…åŒ–æˆåŠŸ<br><img src="http://cdn.xiamu.icu//Fju4ydXOl7EQ5dLv7Y2pfFlivtwN.png"></p><h2 id="æ¶ˆæ¯æŒä¹…åŒ–"><a href="#æ¶ˆæ¯æŒä¹…åŒ–" class="headerlink" title="æ¶ˆæ¯æŒä¹…åŒ–"></a>æ¶ˆæ¯æŒä¹…åŒ–</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">channel.basic<span class="hljs-constructor">Publish(<span class="hljs-string">&quot;&quot;</span>, TASK_QUEUE_NAME, <span class="hljs-params">null</span>, <span class="hljs-params">message</span>.<span class="hljs-params">getBytes</span>(StandardCharsets.UTF_8)</span>);<br>channel.basic<span class="hljs-constructor">Publish(<span class="hljs-string">&quot;&quot;</span>, TASK_QUEUE_NAME, MessageProperties.PERSISTENT_TEXT_PLAIN, <span class="hljs-params">message</span>.<span class="hljs-params">getBytes</span>(StandardCharsets.UTF_8)</span>);<br></code></pre></td></tr></table></figure><h2 id="ä¸å…¬å¹³åˆ†å‘"><a href="#ä¸å…¬å¹³åˆ†å‘" class="headerlink" title="ä¸å…¬å¹³åˆ†å‘"></a>ä¸å…¬å¹³åˆ†å‘</h2><p>æ‰€æœ‰çš„æ¶ˆè´¹è®¾ç½®</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">// è®¾ç½®ä¸å…¬å¹³åˆ†å‘</span><br><span class="hljs-built_in">int</span> prefetchCount = <span class="hljs-number">1</span>;<br>channel.basic<span class="hljs-constructor">Qos(<span class="hljs-params">prefetchCount</span>)</span>;<br></code></pre></td></tr></table></figure><h2 id="é¢„å–å€¼"><a href="#é¢„å–å€¼" class="headerlink" title="é¢„å–å€¼"></a>é¢„å–å€¼</h2><p>æ¶ˆè´¹è€… 1 è®¾ç½®</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">// è®¾ç½®é¢„å–å€¼</span><br><span class="hljs-built_in">int</span> prefetchCount = <span class="hljs-number">2</span>;<br>channel.basic<span class="hljs-constructor">Qos(<span class="hljs-params">prefetchCount</span>)</span>;<br></code></pre></td></tr></table></figure><p>æ¶ˆè´¹è€… 2 è®¾ç½®</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">// è®¾ç½®é¢„å–å€¼</span><br><span class="hljs-built_in">int</span> prefetchCount = <span class="hljs-number">5</span>;<br>channel.basic<span class="hljs-constructor">Qos(<span class="hljs-params">prefetchCount</span>)</span>;<br></code></pre></td></tr></table></figure><h2 id="å‘å¸ƒç¡®è®¤"><a href="#å‘å¸ƒç¡®è®¤" class="headerlink" title="å‘å¸ƒç¡®è®¤"></a>å‘å¸ƒç¡®è®¤</h2><p>ç”Ÿäº§è€…è®¾ç½®ä¿¡é“</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> å¼€å¯å‘å¸ƒç¡®è®¤çš„æ–¹æ³•<br>channel.confirmSelect();<br></code></pre></td></tr></table></figure><p>å‘å¸ƒç¡®è®¤åˆ†ä¸‰ç§</p><ul><li>å•ä¸ªç¡®è®¤</li><li>æ‰¹é‡ç¡®è®¤</li><li>å¼‚æ­¥æ‰¹é‡ç¡®è®¤</li></ul><h3 id="å•ä¸ªç¡®è®¤"><a href="#å•ä¸ªç¡®è®¤" class="headerlink" title="å•ä¸ªç¡®è®¤"></a>å•ä¸ªç¡®è®¤</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> <span class="hljs-number">1</span>.å•ä¸ªç¡®è®¤<br><span class="hljs-regexp">//</span> publicMessageIndividually();  <span class="hljs-regexp">//</span> å‘å¸ƒ<span class="hljs-number">1000</span>ä¸ªå•ç‹¬ç¡®è®¤æ¶ˆæ¯, è€—æ—¶<span class="hljs-number">616</span>ms<br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">// 1.å•ä¸ªç¡®è®¤</span><br>public static void public<span class="hljs-constructor">MessageIndividually()</span> throws Exception &#123;<br>    Channel channel = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">RabbitMqUtils</span>.</span></span>get<span class="hljs-constructor">Channel()</span>;<br>    <span class="hljs-comment">// é˜Ÿåˆ—çš„å£°æ˜</span><br>    String queueName = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">UUID</span>.</span></span>random<span class="hljs-constructor">UUID()</span>.<span class="hljs-keyword">to</span><span class="hljs-constructor">String()</span>;<br>    channel.queue<span class="hljs-constructor">Declare(<span class="hljs-params">queueName</span>, <span class="hljs-params">true</span>, <span class="hljs-params">false</span>, <span class="hljs-params">false</span>, <span class="hljs-params">null</span>)</span>;<br><br>    <span class="hljs-comment">// å¼€å¯å‘å¸ƒç¡®è®¤</span><br>    channel.confirm<span class="hljs-constructor">Select()</span>;<br><br>    <span class="hljs-comment">// å¼€å§‹æ—¶é—´</span><br>    long <span class="hljs-keyword">begin</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>current<span class="hljs-constructor">TimeMillis()</span>;<br><br>    <span class="hljs-comment">// æ‰¹é‡å‘æ¶ˆæ¯</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; MESSAGE_COUNT; i++) &#123;<br>        String message = i + <span class="hljs-string">&quot;&quot;</span>;<br>        channel.basic<span class="hljs-constructor">Publish(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-params">queueName</span>, <span class="hljs-params">null</span>, <span class="hljs-params">message</span>.<span class="hljs-params">getBytes</span>()</span>);<br><br>        <span class="hljs-comment">// å•ä¸ªæ¶ˆæ¯å°±é©¬ä¸Šè¿›è¡Œå‘å¸ƒç¡®è®¤</span><br>        boolean flag = channel.wait<span class="hljs-constructor">ForConfirms()</span>;<br>        <span class="hljs-keyword">if</span> (flag) &#123;<br>            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;æ¶ˆæ¯å‘é€æˆåŠŸ&quot;</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// ç»“æŸæ—¶é—´</span><br>    long <span class="hljs-keyword">end</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>current<span class="hljs-constructor">TimeMillis()</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;å‘å¸ƒ&quot;</span> + MESSAGE_COUNT + <span class="hljs-string">&quot;ä¸ªå•ç‹¬ç¡®è®¤æ¶ˆæ¯, è€—æ—¶&quot;</span> + (<span class="hljs-keyword">end</span> - <span class="hljs-keyword">begin</span>) + <span class="hljs-string">&quot;ms&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ‰¹é‡ç¡®è®¤"><a href="#æ‰¹é‡ç¡®è®¤" class="headerlink" title="æ‰¹é‡ç¡®è®¤"></a>æ‰¹é‡ç¡®è®¤</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> <span class="hljs-number">2</span>.æ‰¹é‡ç¡®è®¤<br><span class="hljs-regexp">//</span> publishMessageBatch() ;  <span class="hljs-regexp">//</span> å‘å¸ƒ<span class="hljs-number">1000</span>ä¸ªæ‰¹é‡ç¡®è®¤æ¶ˆæ¯, è€—æ—¶<span class="hljs-number">93</span>ms<br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">// 2.æ‰¹é‡ç¡®è®¤</span><br>public static void publish<span class="hljs-constructor">MessageBatch()</span> throws Exception &#123;<br>    Channel channel = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">RabbitMqUtils</span>.</span></span>get<span class="hljs-constructor">Channel()</span>;<br>    String queueName = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">UUID</span>.</span></span>random<span class="hljs-constructor">UUID()</span>.<span class="hljs-keyword">to</span><span class="hljs-constructor">String()</span>;<br>    channel.queue<span class="hljs-constructor">Declare(<span class="hljs-params">queueName</span>, <span class="hljs-params">true</span>, <span class="hljs-params">false</span>, <span class="hljs-params">false</span>, <span class="hljs-params">null</span>)</span>;<br><br>    <span class="hljs-comment">// å¼€å¯å‘å¸ƒç¡®è®¤</span><br>    channel.confirm<span class="hljs-constructor">Select()</span>;<br><br>    long <span class="hljs-keyword">begin</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>current<span class="hljs-constructor">TimeMillis()</span>;<br><br>    <span class="hljs-built_in">int</span> batchSize = <span class="hljs-number">100</span>;<br><br>    <span class="hljs-comment">// æ‰¹é‡å‘é€æ¶ˆæ¯ æ‰¹é‡å‘å¸ƒç¡®è®¤</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; MESSAGE_COUNT; i++) &#123;<br>        String message = i + <span class="hljs-string">&quot;&quot;</span>;<br>        channel.basic<span class="hljs-constructor">Publish(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-params">queueName</span>, <span class="hljs-params">null</span>, <span class="hljs-params">message</span>.<span class="hljs-params">getBytes</span>()</span>);<br>        <span class="hljs-comment">// åˆ¤æ–­æ‰“åˆ°100æ¡æ¶ˆæ¯çš„æ—¶å€™ æ‰¹é‡ç¡®è®¤ä¸€æ¬¡</span><br>        <span class="hljs-keyword">if</span> (i % batchSize<span class="hljs-operator"> == </span><span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-comment">// å‘å¸ƒç¡®è®¤</span><br>            channel.wait<span class="hljs-constructor">ForConfirms()</span>;<br>        &#125;<br>    &#125;<br><br>    long <span class="hljs-keyword">end</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>current<span class="hljs-constructor">TimeMillis()</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;å‘å¸ƒ&quot;</span> + MESSAGE_COUNT + <span class="hljs-string">&quot;ä¸ªæ‰¹é‡ç¡®è®¤æ¶ˆæ¯, è€—æ—¶&quot;</span> + (<span class="hljs-keyword">end</span> - <span class="hljs-keyword">begin</span>) + <span class="hljs-string">&quot;ms&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å¼‚æ­¥æ‰¹é‡ç¡®è®¤"><a href="#å¼‚æ­¥æ‰¹é‡ç¡®è®¤" class="headerlink" title="å¼‚æ­¥æ‰¹é‡ç¡®è®¤"></a>å¼‚æ­¥æ‰¹é‡ç¡®è®¤</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> <span class="hljs-number">3</span>.å¼‚æ­¥æ‰¹é‡ç¡®è®¤<br>publishMessageAsync();  <span class="hljs-regexp">//</span> å‘å¸ƒ<span class="hljs-number">1000</span>ä¸ªå¼‚æ­¥æ‰¹é‡ç¡®è®¤æ¶ˆæ¯, è€—æ—¶<span class="hljs-number">47</span>ms<br>                        <span class="hljs-regexp">//</span> å‘å¸ƒ<span class="hljs-number">1000</span>ä¸ªå¼‚æ­¥æ‰¹é‡ç¡®è®¤æ¶ˆæ¯, è€—æ—¶<span class="hljs-number">62</span>ms<br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">// 3.å¼‚æ­¥æ‰¹é‡ç¡®è®¤</span><br>public static void publish<span class="hljs-constructor">MessageAsync()</span> throws Exception &#123;<br>    Channel channel = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">RabbitMqUtils</span>.</span></span>get<span class="hljs-constructor">Channel()</span>;<br>    String queueName = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">UUID</span>.</span></span>random<span class="hljs-constructor">UUID()</span>.<span class="hljs-keyword">to</span><span class="hljs-constructor">String()</span>;<br>    channel.queue<span class="hljs-constructor">Declare(<span class="hljs-params">queueName</span>, <span class="hljs-params">true</span>, <span class="hljs-params">false</span>, <span class="hljs-params">false</span>, <span class="hljs-params">null</span>)</span>;<br><br>    channel.confirm<span class="hljs-constructor">Select()</span>;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * çº¿ç¨‹å®‰å…¨æœ‰åºçš„ä¸€ä¸ªå“ˆå¸Œè¡¨ é€‚ç”¨äºé«˜å¹¶å‘çš„æƒ…å†µä¸‹</span><br><span class="hljs-comment">     *  1.è½»æ¾çš„å°†åºå·ä¸æ¶ˆæ¯è¿›è¡Œå…³è”</span><br><span class="hljs-comment">     *  2.è½»æ¾æ‰¹é‡åˆ é™¤æ¡ç›® åªè¦ç»™åˆ°åºå·</span><br><span class="hljs-comment">     *  3.æ”¯æŒé«˜å¹¶å‘(å¤šçº¿ç¨‹)</span><br><span class="hljs-comment">     */</span><br>    ConcurrentSkipListMap&lt;Long, String&gt; outstandingConfirms =<br>            <span class="hljs-keyword">new</span> ConcurrentSkipListMap&lt;&gt;<span class="hljs-literal">()</span>;<br><br>    <span class="hljs-comment">// æ¶ˆæ¯ç¡®è®¤æˆåŠŸ å›è°ƒå‡½æ•°</span><br>    ConfirmCallback ackCallback = (deliveryTag, multiple) -&gt; &#123;<br>        <span class="hljs-keyword">if</span> (multiple) &#123;<br>            <span class="hljs-comment">// 2.åˆ é™¤åˆ°å·²ç»ç¡®è®¤çš„æ¶ˆæ¯ å‰©ä¸‹çš„å°±æ˜¯æœªç¡®è®¤çš„æ¶ˆæ¯</span><br>            ConcurrentNavigableMap&lt;Long, String&gt; confirmed =<br>                    outstandingConfirms.head<span class="hljs-constructor">Map(<span class="hljs-params">deliveryTag</span>)</span>;<br>            confirmed.clear<span class="hljs-literal">()</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            outstandingConfirms.remove(deliveryTag);<br>        &#125;<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;ç¡®è®¤çš„æ¶ˆæ¯: &quot;</span> + deliveryTag);<br>    &#125;;<br>    <span class="hljs-comment">// æ¶ˆæ¯ç¡®è®¤å¤±è´¥ å›è°ƒå‡½æ•°</span><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 1.æ¶ˆæ¯çš„æ ‡è®°</span><br><span class="hljs-comment">     * 2.æ˜¯å¦ä¸ºæ‰¹é‡ç¡®è®¤</span><br><span class="hljs-comment">     */</span><br>    ConfirmCallback nackCallback = (deliveryTag, multiple) -&gt; &#123;<br>        <span class="hljs-comment">// 3.æ‰“å°ä¸€ä¸‹æœªç¡®è®¤çš„æ¶ˆæ¯æœ‰å“ªäº›</span><br>        String message = outstandingConfirms.get(deliveryTag);<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;æœªç¡®è®¤çš„æ¶ˆæ¯æ˜¯: &quot;</span> + message + <span class="hljs-string">&quot;, æœªç¡®è®¤çš„æ¶ˆæ¯tag: &quot;</span> + deliveryTag);<br>    &#125;;<br>    <span class="hljs-comment">// å‡†å¤‡æ¶ˆæ¯çš„ç›‘å¬å™¨ ç›‘å¬å“ªäº›æ¶ˆæ¯æˆåŠŸäº† å“ªäº›æ¶ˆæ¯å¤±è´¥äº†</span><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 1.ç›‘å¬å“ªäº›æ¶ˆæ¯æˆåŠŸäº†</span><br><span class="hljs-comment">     * 2.ç›‘å¬å“ªäº›æ¶ˆæ¯å¤±è´¥äº†</span><br><span class="hljs-comment">     */</span><br><br>    channel.add<span class="hljs-constructor">ConfirmListener(<span class="hljs-params">ackCallback</span>, <span class="hljs-params">nackCallback</span>)</span>;  <span class="hljs-comment">// å¼‚æ­¥é€šçŸ¥</span><br><br>    long <span class="hljs-keyword">begin</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>current<span class="hljs-constructor">TimeMillis()</span>;<br><br>    <span class="hljs-comment">// æ‰¹é‡å‘é€æ¶ˆæ¯</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; MESSAGE_COUNT; i++) &#123;<br>        String message = <span class="hljs-string">&quot;æ¶ˆæ¯&quot;</span> + i;<br>        channel.basic<span class="hljs-constructor">Publish(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-params">queueName</span>, <span class="hljs-params">null</span>, <span class="hljs-params">message</span>.<span class="hljs-params">getBytes</span>()</span>);<br>        <span class="hljs-comment">// 1.æ­¤å¤„è®°å½•ä¸‹æ‰€æœ‰è¦å‘é€çš„æ¶ˆæ¯ æ¶ˆæ¯çš„æ€»å’Œ</span><br>        outstandingConfirms.put(channel.get<span class="hljs-constructor">NextPublishSeqNo()</span>, message);<br>    &#125;<br><br>    long <span class="hljs-keyword">end</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>current<span class="hljs-constructor">TimeMillis()</span>;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;å‘å¸ƒ&quot;</span> + MESSAGE_COUNT + <span class="hljs-string">&quot;ä¸ªå¼‚æ­¥æ‰¹é‡ç¡®è®¤æ¶ˆæ¯, è€—æ—¶&quot;</span> + (<span class="hljs-keyword">end</span> - <span class="hljs-keyword">begin</span>) + <span class="hljs-string">&quot;ms&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å•ç‹¬å‘å¸ƒæ¶ˆæ¯:<br>åŒæ­¥ç­‰å¾…ç¡®è®¤ï¼Œç®€å•ï¼Œä½†ååé‡éå¸¸æœ‰é™ã€‚<br>æ‰¹é‡å‘å¸ƒæ¶ˆæ¯:<br>æ‰¹é‡åŒæ­¥ç­‰å¾…ç¡®è®¤ï¼Œç®€å•ï¼Œåˆç†çš„ååé‡ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜ä½†å¾ˆéš¾æ¨æ–­å‡ºæ˜¯é‚£æ¡æ¶ˆæ¯å‡ºç°äº†é—®é¢˜ã€‚<br>å¼‚æ­¥å¤„ç†ï¼š<br>æœ€ä½³æ€§èƒ½å’Œèµ„æºä½¿ç”¨ï¼Œåœ¨å‡ºç°é”™è¯¯çš„æƒ…å†µä¸‹å¯ä»¥å¾ˆå¥½åœ°æ§åˆ¶ï¼Œä½†æ˜¯å®ç°èµ·æ¥ç¨å¾®éš¾äº›</p><h2 id="äº¤æ¢æœº"><a href="#äº¤æ¢æœº" class="headerlink" title="äº¤æ¢æœº"></a>äº¤æ¢æœº</h2><p>ç®€å•æ¨¡å¼ å·¥ä½œæ¨¡å¼<br><img src="http://cdn.xiamu.icu//FluQzjWjV__U5Cz9QIYtbFlaFCHn.png"><br>å‘å¸ƒ, è®¢é˜…æ¨¡å¼<br><img src="http://cdn.xiamu.icu//FnjnbubBN23HkZP1LvmKMjytNut_.png"></p><h2 id="ç»‘å®š"><a href="#ç»‘å®š" class="headerlink" title="ç»‘å®š"></a>ç»‘å®š</h2><p>åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—<br><img src="http://cdn.xiamu.icu//FgXdI8GH--Z7T-SfZ0sy4n1BSZUD.png"><br>åˆ›å»ºä¸€ä¸ªäº¤æ¢æœº<br><img src="http://cdn.xiamu.icu//FmaJDRsnh9nDGmajRq8BBV13ecLI.png"><br>è®©äº¤æ¢æœºå’Œé˜Ÿåˆ—è¿›è¡Œç»‘å®š<br><img src="http://cdn.xiamu.icu//FmaJDRsnh9nDGmajRq8BBV13ecLI.png"></p><h3 id="fanout-äº¤æ¢æœº"><a href="#fanout-äº¤æ¢æœº" class="headerlink" title="fanout äº¤æ¢æœº"></a>fanout äº¤æ¢æœº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.five;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.RabbitMqUtils;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.CancelCallback;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Channel;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.DeliverCallback;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Delivery;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ¥æ”¶æ¶ˆæ¯</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReceiveLogs01</span> &#123;<br>    <span class="hljs-comment">// äº¤æ¢æœºçš„åç§°</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">EXCHANGE_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;logs&quot;</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> RabbitMqUtils.getChannel();<br>        <span class="hljs-comment">// å£°æ˜ä¸€ä¸ªäº¤æ¢æœº</span><br>        channel.exchangeDeclare(EXCHANGE_NAME, <span class="hljs-string">&quot;fanout&quot;</span>);<br><br>        <span class="hljs-comment">// å£°æ˜ä¸€ä¸ªé˜Ÿåˆ— ä¸´æ—¶é˜Ÿåˆ—</span><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * ç”Ÿæˆä¸€ä¸ªä¸´æ—¶é˜Ÿåˆ— , é˜Ÿåˆ—çš„åç§°æ˜¯éšæœºçš„</span><br><span class="hljs-comment">         * å½“æ¶ˆè´¹è€…æ–­å¼€ä¸é˜Ÿåˆ—çš„è¿æ¥çš„æ—¶å€™ é˜Ÿåˆ—å°±ä¼šè‡ªåŠ¨åˆ é™¤</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">queueName</span> <span class="hljs-operator">=</span> channel.queueDeclare().getQueue();<br><br>        <span class="hljs-comment">// ç»‘å®šäº¤æ¢æœºä¸é˜Ÿåˆ—</span><br>        channel.queueBind(queueName, EXCHANGE_NAME, <span class="hljs-string">&quot;&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;ç­‰å¾…æ¥æ”¶æ¶ˆæ¯, æŠŠæ¥æ”¶åˆ°æ¶ˆæ¯æ‰“å°åˆ°å±å¹•ä¸Š...&quot;</span>);<br><br>        <span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯ å›è°ƒæ¥å£</span><br>        <span class="hljs-type">DeliverCallback</span> <span class="hljs-variable">deliverCallback</span> <span class="hljs-operator">=</span> (consumerTag, message) -&gt; &#123;<br>            System.out.println(<span class="hljs-string">&quot;ReceiveLogs01æ§åˆ¶å°æ‰“å°æ¥æ”¶åˆ°çš„æ¶ˆæ¯: &quot;</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(message.getBody(), <span class="hljs-string">&quot;UTF-8&quot;</span>));<br>        &#125;;<br><br>        <span class="hljs-comment">// æ¶ˆè´¹è€…å–æ¶ˆæ¶ˆæ¯æ—¶å›è°ƒæ¥å£</span><br>        <span class="hljs-type">CancelCallback</span> <span class="hljs-variable">cancelCallback</span> <span class="hljs-operator">=</span> (consumerTag) -&gt; &#123;<br><br>        &#125;;<br><br>        channel.basicConsume(queueName, <span class="hljs-literal">true</span>, deliverCallback, cancelCallback);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.five;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.RabbitMqUtils;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.CancelCallback;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Channel;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.DeliverCallback;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ¥æ”¶æ¶ˆæ¯</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReceiveLogs02</span> &#123;<br>    <span class="hljs-comment">// äº¤æ¢æœºçš„åç§°</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">EXCHANGE_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;logs&quot;</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> RabbitMqUtils.getChannel();<br>        <span class="hljs-comment">// å£°æ˜ä¸€ä¸ªäº¤æ¢æœº</span><br>        channel.exchangeDeclare(EXCHANGE_NAME, <span class="hljs-string">&quot;fanout&quot;</span>);<br><br>        <span class="hljs-comment">// å£°æ˜ä¸€ä¸ªé˜Ÿåˆ— ä¸´æ—¶é˜Ÿåˆ—</span><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * ç”Ÿæˆä¸€ä¸ªä¸´æ—¶é˜Ÿåˆ— , é˜Ÿåˆ—çš„åç§°æ˜¯éšæœºçš„</span><br><span class="hljs-comment">         * å½“æ¶ˆè´¹è€…æ–­å¼€ä¸é˜Ÿåˆ—çš„è¿æ¥çš„æ—¶å€™ é˜Ÿåˆ—å°±ä¼šè‡ªåŠ¨åˆ é™¤</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">queueName</span> <span class="hljs-operator">=</span> channel.queueDeclare().getQueue();<br><br>        <span class="hljs-comment">// ç»‘å®šäº¤æ¢æœºä¸é˜Ÿåˆ—</span><br>        channel.queueBind(queueName, EXCHANGE_NAME, <span class="hljs-string">&quot;&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;ç­‰å¾…æ¥æ”¶æ¶ˆæ¯, æŠŠæ¥æ”¶åˆ°æ¶ˆæ¯æ‰“å°åˆ°å±å¹•ä¸Š...&quot;</span>);<br><br>        <span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯ å›è°ƒæ¥å£</span><br>        <span class="hljs-type">DeliverCallback</span> <span class="hljs-variable">deliverCallback</span> <span class="hljs-operator">=</span> (consumerTag, message) -&gt; &#123;<br>            System.out.println(<span class="hljs-string">&quot;ReceiveLogs02æ§åˆ¶å°æ‰“å°æ¥æ”¶åˆ°çš„æ¶ˆæ¯: &quot;</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(message.getBody(), <span class="hljs-string">&quot;UTF-8&quot;</span>));<br>        &#125;;<br><br>        <span class="hljs-comment">// æ¶ˆè´¹è€…å–æ¶ˆæ¶ˆæ¯æ—¶å›è°ƒæ¥å£</span><br>        <span class="hljs-type">CancelCallback</span> <span class="hljs-variable">cancelCallback</span> <span class="hljs-operator">=</span> (consumerTag) -&gt; &#123;<br><br>        &#125;;<br><br>        channel.basicConsume(queueName, <span class="hljs-literal">true</span>, deliverCallback, cancelCallback);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.five;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.RabbitMqUtils;<br><span class="hljs-keyword">import</span> com.rabbitmq.client.Channel;<br><br><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * å‘æ¶ˆæ¯ äº¤æ¢æœº</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmitLog</span> &#123;<br>    <span class="hljs-comment">// äº¤æ¢æœºçš„åç§°</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">EXCHANGE_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;logs&quot;</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> RabbitMqUtils.getChannel();<br>        channel.exchangeDeclare(EXCHANGE_NAME, <span class="hljs-string">&quot;fanout&quot;</span>);<br><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-keyword">while</span> (scanner.hasNext()) &#123;<br>            <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> scanner.next();<br>            channel.basicPublish(EXCHANGE_NAME, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-literal">null</span>, message.getBytes(<span class="hljs-string">&quot;UTF-8&quot;</span>));<br>            System.out.println(<span class="hljs-string">&quot;ç”Ÿäº§è€…å‘å‡ºæ¶ˆæ¯: &quot;</span> + message);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œæ•ˆæœå¦‚ä¸‹ : é€šè¿‡äº¤æ¢æœºå®ç°æ¯ä¸ªé˜Ÿåˆ—éƒ½èƒ½æ¥æ”¶åˆ°æ¶ˆæ¯<br><img src="http://cdn.xiamu.icu//FsEbUMX9Ax1udAjtGKz6fXdH3vK9.png"></p><h2 id="direct-äº¤æ¢æœº"><a href="#direct-äº¤æ¢æœº" class="headerlink" title="direct äº¤æ¢æœº"></a>direct äº¤æ¢æœº</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DirectLogs</span> &#123;<br>    <span class="hljs-comment">// äº¤æ¢æœºçš„åç§°</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">EXCHANGE_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;direct_logs&quot;</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> RabbitMqUtils.getChannel();<br><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-keyword">while</span> (scanner.hasNext()) &#123;<br>            <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> scanner.next();<br>            channel.basicPublish(EXCHANGE_NAME, <span class="hljs-string">&quot;warning&quot;</span>, <span class="hljs-literal">null</span>, message.getBytes(<span class="hljs-string">&quot;UTF-8&quot;</span>));<br>            System.out.println(<span class="hljs-string">&quot;ç”Ÿäº§è€…å‘å‡ºæ¶ˆæ¯: &quot;</span> + message);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>äº¤æ¢æœºå‘é€çš„ routerKey æ˜¯ warning, é‚£ä¹ˆåªæœ‰å¯¹åº”çš„æ¶ˆè´¹è€…æ˜¯ warning æ‰ä¼šæ¥æ”¶åˆ°å‘é€æ¥çš„æ¶ˆæ¯</p><h2 id="Topics-äº¤æ¢æœº"><a href="#Topics-äº¤æ¢æœº" class="headerlink" title="Topics äº¤æ¢æœº"></a>Topics äº¤æ¢æœº</h2><p>å‘é€ topic äº¤æ¢æœºçš„æ¶ˆæ¯çš„ routerKey å¿…é¡»æ˜¯ä»¥<strong>ç‚¹å·</strong>åˆ†éš”å¼€<br>_(æ˜Ÿå·)å¯ä»¥ä»£æ›¿ä¸€ä¸ªå•è¯<br>#(äº•å·)å¯ä»¥ä»£æ›¿é›¶ä¸ªæˆ–å¤šä¸ªå•è¯<br><img src="http://cdn.xiamu.icu//FnFzUBXNjFZRSQjQvjaaqLeZrEHI.png"><br>C1 æœ‰ä¸€ä¸ª RouterKey, <em>.orange.</em><br>C2 æœ‰ä¸¤ä¸ªä¸ª RouterKey, _.*rabbit lazy.#</p><p>quick.orange.rabbit åŒ¹é… Q1 Q2<br>lazy.orange.elephant åŒ¹é… Q1 Q2<br>quick.orange.fox åŒ¹é… Q1<br>lazy.brown.fox åŒ¹é… Q2<br>lazy.pink.rabbit åŒ¹é… Q2<br>quick.brown.fox åŒ¹é…ä¸åˆ°<br>quick.orange.male.rabbit åŒ¹é…ä¸åˆ°<br>lazy.orange.male.rabbit åŒ¹é… Q2</p><h2 id="æ­»ä¿¡é˜Ÿåˆ—"><a href="#æ­»ä¿¡é˜Ÿåˆ—" class="headerlink" title="æ­»ä¿¡é˜Ÿåˆ—"></a>æ­»ä¿¡é˜Ÿåˆ—</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å£°æ˜æ™®é€šé˜Ÿåˆ—</span><br>        <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Object</span>&gt; <span class="hljs-variable language_">arguments</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        <span class="hljs-comment">// è¿‡æœŸæ—¶é—´ 10s = 10000ms</span><br><span class="hljs-comment">//        arguments.put(&quot;x-message-ttl&quot;, 10000);</span><br>        <span class="hljs-comment">// æ­£å¸¸é˜Ÿåˆ—è®¾ç½®æ­»ä¿¡äº¤æ¢æœº</span><br>        <span class="hljs-variable language_">arguments</span>.<span class="hljs-title function_">put</span>(<span class="hljs-string">&quot;x-dead-letter-exchange&quot;</span>, <span class="hljs-variable constant_">DEAD_EXCHANGE</span>);<br>        <span class="hljs-comment">// è®¾ç½®æ­»ä¿¡RoutingKey</span><br>        <span class="hljs-variable language_">arguments</span>.<span class="hljs-title function_">put</span>(<span class="hljs-string">&quot;x-dead-letter-routing-key&quot;</span>, <span class="hljs-string">&quot;lisi&quot;</span>);<br><br>        channel.<span class="hljs-title function_">queueDeclare</span>(<span class="hljs-variable constant_">NORMAL_QUEUE</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-variable language_">arguments</span>);<br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">    DeliverCallback deliverCallback = (consumerTag, message) -&gt; &#123;<br>        String msg = <span class="hljs-keyword">new</span> <span class="hljs-constructor">String(<span class="hljs-params">message</span>.<span class="hljs-params">getBody</span>()</span>, <span class="hljs-string">&quot;UTF-8&quot;</span>);<br>        <span class="hljs-keyword">if</span> (msg.equals(<span class="hljs-string">&quot;info5&quot;</span>)) &#123;<br>            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;Consumer01æ¥æ”¶åˆ°çš„æ¶ˆæ¯: &quot;</span> + msg + <span class="hljs-string">&quot;: æ­¤æ¶ˆæ¯æ˜¯è¢«C1æ‹’ç»çš„&quot;</span>);<br>            channel.basic<span class="hljs-constructor">Reject(<span class="hljs-params">message</span>.<span class="hljs-params">getEnvelope</span>()</span>.get<span class="hljs-constructor">DeliveryTag()</span>, <span class="hljs-literal">false</span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;Consumer01æ¥æ”¶åˆ°çš„æ¶ˆæ¯: &quot;</span> + msg);<br>            channel.basic<span class="hljs-constructor">Ack(<span class="hljs-params">message</span>.<span class="hljs-params">getEnvelope</span>()</span>.get<span class="hljs-constructor">DeliveryTag()</span>, <span class="hljs-literal">false</span>);<br>        &#125;<br>    &#125;;<br><br>    CancelCallback cancelCallback = (consumer) -&gt; &#123;<br><br>    &#125;;<br><br>    <span class="hljs-comment">// å¼€å¯æ‰‹åŠ¨åº”ç­”</span><br>    channel.basic<span class="hljs-constructor">Consume(NORMAL_QUEUE, <span class="hljs-params">false</span>, <span class="hljs-params">deliverCallback</span>, <span class="hljs-params">cancelCallback</span>)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fha4PX_He1z5Aea_0HW4CLv5rCkN.png"><br>å½“å‘é€çš„æ¶ˆæ¯å¤„äº æ¶ˆæ¯è¢«æ‹’ç», æ¶ˆæ¯çš„ TTL è¿‡æœŸ, é˜Ÿåˆ—æ‰“åˆ°æœ€å¤§é•¿åº¦ ä¸‰ç§æƒ…å†µçš„ä¸€ç§, å°±ä¼šå‘ç”Ÿæ­»ä¿¡<br>C1 æ‹’æ”¶æ¶ˆæ¯, å°†ç”±é…ç½®å¥½çš„æ­»ä¿¡ C2 æ¥æ¥æ”¶å¤„ç†æ¶ˆæ¯</p><h2 id="å»¶è¿Ÿé˜Ÿåˆ—"><a href="#å»¶è¿Ÿé˜Ÿåˆ—" class="headerlink" title="å»¶è¿Ÿé˜Ÿåˆ—"></a>å»¶è¿Ÿé˜Ÿåˆ—</h2>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>MQ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud</title>
    <link href="/Java/SpringCloud/"/>
    <url>/Java/SpringCloud/</url>
    
    <content type="html"><![CDATA[<p>Dubbo &#x3D;&gt; RPC<br>SpringCloud &#x3D;&gt; Restful</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexoåˆ‡æ¢ä¸»é¢˜ä»¥åŠä¸»é¢˜çš„ç¾åŒ–</title>
    <link href="/hexo/Hexo%E5%88%87%E6%8D%A2%E4%B8%BB%E9%A2%98%E4%BB%A5%E5%8F%8A%E4%B8%BB%E9%A2%98%E7%9A%84%E7%BE%8E%E5%8C%96/"/>
    <url>/hexo/Hexo%E5%88%87%E6%8D%A2%E4%B8%BB%E9%A2%98%E4%BB%A5%E5%8F%8A%E4%B8%BB%E9%A2%98%E7%9A%84%E7%BE%8E%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½ä¸€ä¸ªå–œæ¬¢çš„ä¸»é¢˜"><a href="#ä¸‹è½½ä¸€ä¸ªå–œæ¬¢çš„ä¸»é¢˜" class="headerlink" title="ä¸‹è½½ä¸€ä¸ªå–œæ¬¢çš„ä¸»é¢˜"></a>ä¸‹è½½ä¸€ä¸ªå–œæ¬¢çš„ä¸»é¢˜</h2><p>ä¸‹è½½ä¸€ä¸ªä¸»é¢˜åˆ° themes&#x2F;yilia</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">E:\Code\Blog\hexo-blog&gt;git <span class="hljs-built_in">clone</span> git@github.com:litten/hexo-theme-yilia.git themes/yilia<br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹é…ç½®"><a href="#ä¿®æ”¹é…ç½®" class="headerlink" title="ä¿®æ”¹é…ç½®"></a>ä¿®æ”¹é…ç½®</h2><p>å°† theme çš„å‚æ•°ä¿®æ”¹æˆ yilia, ç„¶åæŠ¥é”™</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs clean"># Extensions<br>## Plugins: https:<span class="hljs-comment">//hexo.io/plugins/</span><br>## Themes: https:<span class="hljs-comment">//hexo.io/themes/</span><br>theme: yilia<br></code></pre></td></tr></table></figure><h2 id="é‡æ–°å¯åŠ¨"><a href="#é‡æ–°å¯åŠ¨" class="headerlink" title="é‡æ–°å¯åŠ¨"></a>é‡æ–°å¯åŠ¨</h2><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs excel"><span class="hljs-symbol">E:</span>\Code\B<span class="hljs-built_in">log</span>\hexo-blog&gt;hexo <span class="hljs-built_in">clean</span><br><br><span class="hljs-symbol">E:</span>\Code\B<span class="hljs-built_in">log</span>\hexo-blog&gt;hexo generate<br><br><span class="hljs-symbol">E:</span>\Code\B<span class="hljs-built_in">log</span>\hexo-blog&gt;hexo server<br><br><span class="hljs-symbol">E:</span>\Code\B<span class="hljs-built_in">log</span>\hexo-blog&gt;hexo deploy<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹äº†ä¸»é¢˜ä¸ä¼šç«‹é©¬ç”Ÿæ•ˆ, æˆ‘ä»¬å¯ä»¥å–æ¯èŒ¶, æŠ½æ ¹çƒŸè€å¿ƒç­‰å¾…ä¸‹</p><p>å¦å¤–æ¨èçš„ä¸»é¢˜:<br>quiet<br>doc: <a href="https://github.com/79E/hexo-theme-quiet">https://github.com/79E/hexo-theme-quiet</a><br>fluid<br>demo: <a href="https://hexo.fluid-dev.com/">https://hexo.fluid-dev.com/</a><br>doc: <a href="https://hexo.fluid-dev.com/docs/start/">https://hexo.fluid-dev.com/docs/start/</a><br>easyhexo<br>demo: <a href="https://easyhexo.com/">https://easyhexo.com/</a></p><h2 id="æ›´æ¢ç½‘ç«™çš„-title"><a href="#æ›´æ¢ç½‘ç«™çš„-title" class="headerlink" title="æ›´æ¢ç½‘ç«™çš„ title"></a>æ›´æ¢ç½‘ç«™çš„ title</h2><p>åœ¨_config.yaml ç›´æ¥ä¿®æ”¹ title çš„å€¼</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"># Site<br><span class="hljs-symbol">title:</span> xiamu<br><span class="hljs-symbol">subtitle:</span> <span class="hljs-comment">&#x27;&#x27;</span><br><span class="hljs-symbol">description:</span> <span class="hljs-comment">&#x27;&#x27;</span><br><span class="hljs-symbol">keywords:</span><br><span class="hljs-symbol">author:</span> è‚‰è±†è”»å–<br><span class="hljs-symbol">language:</span> zh-CN<br><span class="hljs-symbol">timezone:</span> <span class="hljs-comment">&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="æ›´æ¢ç½‘ç«™çš„-favicon-ico"><a href="#æ›´æ¢ç½‘ç«™çš„-favicon-ico" class="headerlink" title="æ›´æ¢ç½‘ç«™çš„ favicon.ico"></a>æ›´æ¢ç½‘ç«™çš„ favicon.ico</h2><p>åœ¨è¿™ä¸ªç½‘ç«™ä¸­æ‰¾çš„ä¸€ä¸ª emoji è¡¨æƒ…åŒ…åšçš„ favicon.ico<br><a href="https://www.flaticon.com/">https://www.flaticon.com/</a><br><img src="http://cdn.xiamu.icu//FgWYqR8PjhEj-19SqJinqgPN0Gni.png"><br>æŠŠå›¾ç‰‡ä¸‹è½½ä¸‹æ¥åˆ° themes&#x2F;fluid&#x2F;source&#x2F;img<br>åœ¨_config.fluid.yaml ä¸­å¼•å…¥ä¸‹è½½å¥½çš„å›¾ç‰‡</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment"># ç”¨äºæµè§ˆå™¨æ ‡ç­¾çš„å›¾æ ‡</span><br><span class="hljs-comment"># Icon for browser tab</span><br>favicon: <span class="hljs-regexp">/img/</span>smile.png<br><span class="hljs-comment"># /img/fluid.png</span><br></code></pre></td></tr></table></figure><h2 id="å¼•å…¥è‡ªå®šä¹‰çš„-CSS"><a href="#å¼•å…¥è‡ªå®šä¹‰çš„-CSS" class="headerlink" title="å¼•å…¥è‡ªå®šä¹‰çš„ CSS"></a>å¼•å…¥è‡ªå®šä¹‰çš„ CSS</h2><p>å½“å‰é€‰ä¸­æ–‡æœ¬çš„é¢œè‰²æ˜¯æµè§ˆå™¨é»˜è®¤è‡ªå¸¦çš„è“è‰²çš„<br><img src="http://cdn.xiamu.icu//FgUip989myK97CmIxpebp5S0dQzD.png"><br>åœ¨ themes&#x2F;fluid&#x2F;source&#x2F;css&#x2F;åˆ›å»º custom.css, å¡«å†™å¦‚ä¸‹ css ä»£ç </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-pseudo">::selection</span> &#123;<br>    <span class="hljs-attribute">color</span>: unset;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0px</span>;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">209</span>, <span class="hljs-number">234</span>, <span class="hljs-number">254</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>_config&#x2F;fluid.yaml å¼•å…¥ custom.css çš„è·¯å¾„</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment"># æŒ‡å®šè‡ªå®šä¹‰ .css æ–‡ä»¶è·¯å¾„ï¼Œç”¨æ³•å’Œ custom_js ç›¸åŒ</span><br><span class="hljs-comment"># The usage is the same as custom_js</span><br>custom_css: <span class="hljs-regexp">/css/</span>custom.css<br></code></pre></td></tr></table></figure><p>ä¿å­˜é¢„è§ˆ, æ–‡æœ¬é€‰ä¸­çš„æ ·å¼å°±å‘ç”Ÿäº†å˜åŒ–<br><img src="http://cdn.xiamu.icu//Fhmi0cH-GbbonE7poyfQQxZQzuGO.png"></p><h2 id="url-çš„è®¾ç½®"><a href="#url-çš„è®¾ç½®" class="headerlink" title="url çš„è®¾ç½®"></a>url çš„è®¾ç½®</h2><p>doc: <a href="https://hexo.io/docs/configuration.html">https://hexo.io/docs/configuration.html</a></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment"># URL</span><br><span class="hljs-comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span><br>url: http:<span class="hljs-regexp">//</span>roudoukou.github.io<br>permalink: :category<span class="hljs-regexp">/:name/</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexoéƒ¨ç½²åˆ°github</title>
    <link href="/hexo/Hexo%E9%83%A8%E7%BD%B2%E5%88%B0github/"/>
    <url>/hexo/Hexo%E9%83%A8%E7%BD%B2%E5%88%B0github/</url>
    
    <content type="html"><![CDATA[<h2 id="åˆ›å»º-github-ä»“åº“"><a href="#åˆ›å»º-github-ä»“åº“" class="headerlink" title="åˆ›å»º github ä»“åº“"></a>åˆ›å»º github ä»“åº“</h2><p>åˆ›å»ºä¸€ä¸ª github ä»“åº“<br><a href="https://github.com/roudoukou/roudoukou.github.io">https://github.com/roudoukou/roudoukou.github.io</a><br>ä»“åº“å‘½åç»“å°¾ä¸€å®šè¦ä»¥ github ç”¨æˆ·å.github.io è¿™ç§æ ¼å¼åˆ›å»º</p><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gauss">E:\<span class="hljs-built_in">Code</span>\Blog\hexo-blog&gt;npm install hexo-deployer-git --<span class="hljs-keyword">save</span><br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹é…ç½®"><a href="#ä¿®æ”¹é…ç½®" class="headerlink" title="ä¿®æ”¹é…ç½®"></a>ä¿®æ”¹é…ç½®</h2><p>ä¿®æ”¹_config.yml æœ«å°¾<br>type ä¿®æ”¹æˆ git<br>repo ä¿®æ”¹æˆ github ä»“åº“åœ°å€<br>branch å¡«å†™ä»“åº“çš„åˆ†æ”¯</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-meta"># Deployment</span><br><span class="hljs-meta">## Docs: https:<span class="hljs-comment">//hexo.io/docs/one-command-deployment</span></span><br><span class="hljs-symbol">deploy:</span><br><span class="hljs-symbol">  type:</span> git<br><span class="hljs-symbol">  repo:</span> https:<span class="hljs-comment">//github.com/roudoukou/roudoukou.github.io.git</span><br><span class="hljs-symbol">  branch:</span> master<br></code></pre></td></tr></table></figure><p>é…ç½®ä¿®æ”¹å¥½ä¹‹å, éƒ¨ç½²</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs armasm">E:\<span class="hljs-meta">Code</span>\Blog\hexo-blog&gt;hexo deploy<br></code></pre></td></tr></table></figure><p>éƒ¨ç½²å®Œæˆä¹‹å, åœ¨æµè§ˆå™¨è®¿é—®å³å¯<br><img src="http://cdn.xiamu.icu//FgMYGQ6JwyzQEl2b5G3Y0YLIhO_0.png"></p>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexoæœ¬åœ°ä½¿ç”¨</title>
    <link href="/hexo/Hexo%E6%9C%AC%E5%9C%B0%E4%BD%BF%E7%94%A8/"/>
    <url>/hexo/Hexo%E6%9C%AC%E5%9C%B0%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½-Node-js"><a href="#ä¸‹è½½-Node-js" class="headerlink" title="ä¸‹è½½ Node.js"></a>ä¸‹è½½ Node.js</h2><p><a href="https://nodejs.org/en/">https://nodejs.org/en/</a><br><img src="http://cdn.xiamu.icu//FuR5YOhjfVvMsVZbLLkcYDZi-q_L.png"></p><h2 id="å®‰è£…-cnmp-å¯é€‰"><a href="#å®‰è£…-cnmp-å¯é€‰" class="headerlink" title="å®‰è£… cnmp(å¯é€‰)"></a>å®‰è£… cnmp(å¯é€‰)</h2><blockquote><p>äº‰è®® cnpm åº”è¯¥æ˜¯æŒ‡çš„å›½å†…çš„ npm é•œåƒæºï¼Œnpm æ˜¯ä½¿ç”¨çš„å›½å¤–çš„é•œåƒæº</p></blockquote><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">npm install -g cnpm --registry=https:<span class="hljs-regexp">//</span>registry.npm.taobao.org<br></code></pre></td></tr></table></figure><p>å¦‚æœå®‰è£…äº† cnpm, ä»¥ä¸‹çš„å‘½ä»¤éƒ½ç”¨ cnpm</p><h2 id="Hexo-å®‰è£…"><a href="#Hexo-å®‰è£…" class="headerlink" title="Hexo-å®‰è£…"></a>Hexo-å®‰è£…</h2><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">E:</span>\Code\Blog&gt;npm install -g hexo-<span class="hljs-keyword">cli</span><br></code></pre></td></tr></table></figure><p>hexo -v æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ<br><img src="http://cdn.xiamu.icu//Fs8hXKL8y50b4vEhrE6MFvI9sKLJ.png"></p><h2 id="Hexo-æ ¹ç›®å½•çš„åˆ›å»º"><a href="#Hexo-æ ¹ç›®å½•çš„åˆ›å»º" class="headerlink" title="Hexo-æ ¹ç›®å½•çš„åˆ›å»º"></a>Hexo-æ ¹ç›®å½•çš„åˆ›å»º</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">E:\Code\<span class="hljs-keyword">Blog&gt;mkdir </span>hexo-<span class="hljs-keyword">blog</span><br><span class="hljs-keyword"></span><br>E:\Code\<span class="hljs-keyword">Blog&gt;cd </span>hexo-<span class="hljs-keyword">blog</span><br><span class="hljs-keyword"></span><br>E:\Code\<span class="hljs-keyword">Blog\hexo-blog&gt;</span><br><span class="hljs-keyword"></span><br></code></pre></td></tr></table></figure><h2 id="Hexo-åˆå§‹åŒ–"><a href="#Hexo-åˆå§‹åŒ–" class="headerlink" title="Hexo-åˆå§‹åŒ–"></a>Hexo-åˆå§‹åŒ–</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs armasm">E:\<span class="hljs-meta">Code</span>\Blog\hexo-blog&gt;hexo init<br></code></pre></td></tr></table></figure><h2 id="Hexo-å¯åŠ¨"><a href="#Hexo-å¯åŠ¨" class="headerlink" title="Hexo-å¯åŠ¨"></a>Hexo-å¯åŠ¨</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs armasm">E:\<span class="hljs-meta">Code</span>\Blog\hexo-blog&gt;hexo server<br><br>æˆ–è€…ç®€å†™æˆ<br>E:\<span class="hljs-meta">Code</span>\Blog\hexo-blog&gt;hexo s<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fv-J8xq9lH2xjBl5p1FOrHNYi3oe.png"><br><img src="http://cdn.xiamu.icu//Fu_Eck2w2oyJHijFLKck4_zS2Kah.png"><br>æ­¤æ—¶ Hexo å°±æˆåŠŸå¯åŠ¨äº†</p><h2 id="Hexo-åˆ›å»ºç¬¬ä¸€ç¯‡æ–‡ç« "><a href="#Hexo-åˆ›å»ºç¬¬ä¸€ç¯‡æ–‡ç« " class="headerlink" title="Hexo-åˆ›å»ºç¬¬ä¸€ç¯‡æ–‡ç« "></a>Hexo-åˆ›å»ºç¬¬ä¸€ç¯‡æ–‡ç« </h2><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livescript">E:<span class="hljs-string">\Code\Blog\hexo-blog&gt;hexo</span> <span class="hljs-keyword">new</span> <span class="hljs-string">&quot;æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢&quot;</span><br></code></pre></td></tr></table></figure><p>éšä¾¿ç¼–è¾‘ä¸€ä¸‹ â€œæˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢.mdâ€, ç„¶åä¿å­˜</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2023-02-07 17:13:39</span><br><span class="hljs-attr">tags:</span><br><span class="hljs-meta">---</span><br><span class="hljs-meta"></span><br><span class="hljs-comment">## æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢</span><br><br><span class="hljs-string">è¿™æ˜¯åˆšåˆšç”¨Hexoåˆ›å»ºå‡ºæ¥çš„</span><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fty1abBU8fVhkPSe0hZfYfRTZQGA.png"></p><h2 id="Hexo-æ¸…ç†"><a href="#Hexo-æ¸…ç†" class="headerlink" title="Hexo-æ¸…ç†"></a>Hexo-æ¸…ç†</h2><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel"><span class="hljs-symbol">E:</span>\Code\B<span class="hljs-built_in">log</span>\hexo-blog&gt;hexo <span class="hljs-built_in">clean</span><br></code></pre></td></tr></table></figure><h2 id="Hexo-ç”Ÿæˆ"><a href="#Hexo-ç”Ÿæˆ" class="headerlink" title="Hexo-ç”Ÿæˆ"></a>Hexo-ç”Ÿæˆ</h2><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog">E:\Code\Blog\hexo-blog&gt;hexo <span class="hljs-keyword">generate</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Dubbo</title>
    <link href="/Java/Dubbo/"/>
    <url>/Java/Dubbo/</url>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…-zookeeper"><a href="#å®‰è£…-zookeeper" class="headerlink" title="å®‰è£… zookeeper"></a>å®‰è£… zookeeper</h2><p>åœ¨ windows ç¯å¢ƒå®‰è£… zookeeper, ä¸ºäº†çœäº‹(å…¶å®æˆ‘å°±æ˜¯å·æ‡’, è§†é¢‘ä¸­å®‰è£…çš„åœ°æ–¹å°±æ˜¯ windows)<br><img src="http://cdn.xiamu.icu//FicRGS_5xp-JnHlMro0hjy_8z0IJ.png"><br>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º data ç›®å½•,<br>æ‰“å¼€ conf æ‹·è´<code>zoo_sample.cfg</code>ä¸€ä»½, ä¿®æ”¹åç§°ä¸º<code>zoo.cfg</code><br>æ‰“å¼€ cmd, è¿›å…¥ bin ç›®å½•, <code>zkServer.cmd</code>å¯åŠ¨æœåŠ¡<br>æ‰“å¼€ cmd, è¿›å…¥ bin ç›®å½•, <code>zkCli.cmd</code>å¯åŠ¨å®¢æˆ·ç«¯</p><h2 id="å®‰è£…-dubbo-admin"><a href="#å®‰è£…-dubbo-admin" class="headerlink" title="å®‰è£… dubbo-admin"></a>å®‰è£… dubbo-admin</h2><p>dubbo æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªæœåŠ¡è½¯ä»¶ã€‚å®ƒå…¶å®å°±æ˜¯ä¸€ä¸ª jar åŒ…èƒ½å¤Ÿå¸®ä½ çš„ java ç¨‹åºè¿æ¥åˆ° zookeeperï¼Œå¹¶åˆ©ç”¨ zookeeper æ¶ˆè´¹ã€æä¾›æœåŠ¡ã€‚æ‰€ä»¥ä½ ä¸ç”¨åœ¨ Linux ä¸Šå¯åŠ¨ä»€ä¹ˆ dubbo æœåŠ¡ã€‚<br>ä½†æ˜¯ä¸ºäº†è®©ç”¨æˆ·æ›´å¥½çš„ç®¡ç†ç›‘æ§ä¼—å¤šçš„ dubbo æœåŠ¡ï¼Œå®˜æ–¹æä¾›äº†ä¸€ä¸ªå¯è§†åŒ–çš„ç›‘æ§ç¨‹åºï¼Œä¸è¿‡è¿™ä¸ªç›‘æ§å³ä½¿ä¸è£…ä¹Ÿä¸å½±å“ä½¿ç”¨ã€‚<br>github åœ°å€:<br><a href="https://github.com/apache/dubbo-admin">https://github.com/apache/dubbo-admin</a></p><h3 id="é€šè¿‡æºç æ‰“åŒ…è¿è¡Œ"><a href="#é€šè¿‡æºç æ‰“åŒ…è¿è¡Œ" class="headerlink" title="é€šè¿‡æºç æ‰“åŒ…è¿è¡Œ"></a>é€šè¿‡æºç æ‰“åŒ…è¿è¡Œ</h3><ol><li>ä¸‹è½½ä»£ç : git clone <a href="https://github.com/apache/dubbo-admin.git">https://github.com/apache/dubbo-admin.git</a></li><li>åœ¨ dubbo-admin-server&#x2F;src&#x2F;main&#x2F;resources&#x2F;application.properties ä¸­æŒ‡å®šæ³¨å†Œä¸­å¿ƒåœ°å€</li><li>æ„å»º<ul><li>mvn clean package -Dmaven.test.skip&#x3D;true</li></ul></li><li>å¯åŠ¨<ul><li>mvn â€“projects dubbo-admin-server spring-boot:run æˆ–è€…</li><li>cd dubbo-admin-distribution&#x2F;target; java -jar dubbo-admin-${project.version}.jar</li></ul></li><li>è®¿é—® <a href="http://localhost:38080/">http://localhost:38080</a></li></ol><p>æ£€æŸ¥ zookeeper çš„ä¸»æœºåœ°å€æ˜¯å¦æ­£ç¡®<br><img src="http://cdn.xiamu.icu//FhSrof70m_-KUUGvhXLXRoNDK9CA.png"><br>ä½¿ç”¨ maven è¿›è¡Œæ‰“åŒ…<br><img src="http://cdn.xiamu.icu//FrlJKPBb9cq0JxynSOxUGJFDdewM.png"><br>è¿è¡Œæ‰“åŒ…å¥½çš„ jar é¡¹ç›®<br><img src="http://cdn.xiamu.icu//FjxbwnUUeh39vshBLZPSqtZJ_Wdx.png"><br>å¯è§ç«¯å£æ˜¯ 7001,<br><img src="http://cdn.xiamu.icu//FuW2NgR42hnerMfvuXmrxOA-7B_Z.png"><br>è®¿é—®<a href="http://localhost:7001/">http://localhost:7001/</a><br>è´¦å· root, å¯†ç  root<img src="http://cdn.xiamu.icu//FrTWv3zBCd6npkCyxy85vEtP9qyJ.png"></p><h2 id="æœåŠ¡æ¶ˆè´¹è€…é…ç½®-amp-æµ‹è¯•"><a href="#æœåŠ¡æ¶ˆè´¹è€…é…ç½®-amp-æµ‹è¯•" class="headerlink" title="æœåŠ¡æ¶ˆè´¹è€…é…ç½®&amp;æµ‹è¯•"></a>æœåŠ¡æ¶ˆè´¹è€…é…ç½®&amp;æµ‹è¯•</h2><table><thead><tr><th>æ¨¡å—</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>è®¢å•æœåŠ¡ web æ¨¡å—</td><td>åˆ›å»ºè®¢å•ç­‰</td></tr><tr><td>ç”¨æˆ·æœåŠ¡ service æ¨¡å—</td><td>æŸ¥è¯¢ç”¨æˆ·åœ°å€ç­‰</td></tr></tbody></table><p>æµ‹è¯•é¢„æœŸç»“æœï¼š<br>è®¢å•æœåŠ¡ web æ¨¡å—åœ¨ A æœåŠ¡å™¨ï¼Œç”¨æˆ·æœåŠ¡æ¨¡å—åœ¨ B æœåŠ¡å™¨ï¼ŒA å¯ä»¥è¿œç¨‹è°ƒç”¨ B çš„åŠŸèƒ½ã€‚</p><h2 id="ç›‘æ§ä¸­å¿ƒ-Simple-Monitor-å®‰è£…é…ç½®"><a href="#ç›‘æ§ä¸­å¿ƒ-Simple-Monitor-å®‰è£…é…ç½®" class="headerlink" title="ç›‘æ§ä¸­å¿ƒ-Simple Monitor å®‰è£…é…ç½®"></a>ç›‘æ§ä¸­å¿ƒ-Simple Monitor å®‰è£…é…ç½®</h2><p>å¯¹ dubbo-monitor-simple ä½¿ç”¨ maven è¿›è¡Œæ‰“åŒ…<code>mvn package</code><br><img src="http://cdn.xiamu.icu//FpENFOe1aTMuc4jInTiElFUjygSL.png"><br>æ£€æŸ¥é…ç½®æ–‡ä»¶ç«¯å£æ˜¯å¦æ­£ç¡®<br><img src="http://cdn.xiamu.icu//FnQCXGDh3ZZDCyXtRO-6sElCXUF_.png"><br>E:\Code\Dubbo\è¯¾ä»¶\software\dubbo-monitor-simple-2.0.0\assembly.bin<br>åœ¨ bin ç›®å½•ä¸‹åŒå‡» start.bat å¯åŠ¨ dubbo<br><img src="http://cdn.xiamu.icu//Fp6bTu3GgacsF3aTJAZPi_xfAjF4.png"><br><img src="http://cdn.xiamu.icu//FiwVJVdhG4uvWQQo2jY_GWYFuLqq.png"><br>å¯åŠ¨å¥½äº†ä¹‹åè®¿é—®<a href="http://localhost:8080/">http://localhost:8080/</a><br><img src="http://cdn.xiamu.icu//FhkXLPsfNxxUfOT8crH6KpBmn1CK.png"><br><strong>é…ç½®ç›‘æ§ä¸­å¿ƒ</strong><br><a href="https://cn.dubbo.apache.org/zh/docsv2.7/user/references/xml/dubbo-monitor/">https://cn.dubbo.apache.org/zh/docsv2.7/user/references/xml/dubbo-monitor/</a><br>consumer.xml ä¸­é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- é…ç½®ç›‘æ§ä¸­å¿ƒ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dubbo:monitor</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">&quot;registry&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:monitor</span>&gt;</span><br><span class="hljs-comment">&lt;!--&lt;dubbo:monitor address=&quot;127.0.0.1:7070&quot;&gt;&lt;/dubbo:monitor&gt;--&gt;</span><br></code></pre></td></tr></table></figure><p>provider.xml ä¸­é…ç½®</p><h2 id="Dubbo-ä¸-SpringBoot-æ•´åˆ"><a href="#Dubbo-ä¸-SpringBoot-æ•´åˆ" class="headerlink" title="Dubbo ä¸ SpringBoot æ•´åˆ"></a>Dubbo ä¸ SpringBoot æ•´åˆ</h2><h2 id="é…ç½®-Dubbo-properties-amp-å±æ€§åŠ è½½é¡ºåº"><a href="#é…ç½®-Dubbo-properties-amp-å±æ€§åŠ è½½é¡ºåº" class="headerlink" title="é…ç½®-Dubbo.properties&amp;å±æ€§åŠ è½½é¡ºåº"></a>é…ç½®-Dubbo.properties&amp;å±æ€§åŠ è½½é¡ºåº</h2><p><img src="http://cdn.xiamu.icu//FrsSSA79uNBtD1yNJVcPE3QIiDUl.png"><br>BootUserServiceProviderApplicaion<br>VM options è¿è¡Œå‚æ•° <code>-Ddubbo.protocol.port=20880</code><br>applicaion.yaml é…ç½® (ç›¸å½“äº XML)</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">dubbo:</span><br><span class="hljs-symbol">  application:</span><br><span class="hljs-symbol">    name:</span> user-service-provider<br><span class="hljs-symbol">  registry:</span><br><span class="hljs-symbol">    address:</span> zookeeper:<span class="hljs-comment">//127.0.0.1:2181</span><br><span class="hljs-symbol">  protocol:</span><br><span class="hljs-symbol">    name:</span> dubbo<br><span class="hljs-symbol">    port:</span> <span class="hljs-number">20881</span><br><span class="hljs-symbol">  monitor:</span><br><span class="hljs-symbol">    protocol:</span> registry<br></code></pre></td></tr></table></figure><p>dubbo.properties é…ç½®</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-title">dubbo</span>.protocol.<span class="hljs-keyword">port</span>=20882<br><br></code></pre></td></tr></table></figure><h2 id="é…ç½®-å¯åŠ¨æ£€æŸ¥"><a href="#é…ç½®-å¯åŠ¨æ£€æŸ¥" class="headerlink" title="é…ç½®-å¯åŠ¨æ£€æŸ¥"></a>é…ç½®-å¯åŠ¨æ£€æŸ¥</h2><p><a href="https://cn.dubbo.apache.org/zh/docs/advanced/preflight-check/">https://cn.dubbo.apache.org/zh/docs/advanced/preflight-check/</a><br>å…³é—­æŸä¸ªæœåŠ¡çš„å¯åŠ¨æ—¶æ£€æŸ¥(æ²¡æœ‰æä¾›è€…æ—¶æŠ¥é”™)</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs applescript">&lt;dubbo:<span class="hljs-keyword">reference</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;UserService&quot;</span> interface=<span class="hljs-string">&quot;com.atguigu.gmall.service.UserService&quot;</span> /&gt;<br><br></code></pre></td></tr></table></figure><p>å…³é—­æ‰€æœ‰æœåŠ¡çš„å¯åŠ¨æ—¶æ£€æŸ¥(æ²¡æœ‰æä¾›è€…æ—¶æŠ¥é”™)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dubbo:consumer</span> <span class="hljs-attr">check</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:consumer</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="é…ç½®-è¶…æ—¶-amp-é…ç½®è¦†ç›–å…³ç³»"><a href="#é…ç½®-è¶…æ—¶-amp-é…ç½®è¦†ç›–å…³ç³»" class="headerlink" title="é…ç½®-è¶…æ—¶&amp;é…ç½®è¦†ç›–å…³ç³»"></a>é…ç½®-è¶…æ—¶&amp;é…ç½®è¦†ç›–å…³ç³»</h2><p><a href="https://cn.dubbo.apache.org/zh/docs/references/configuration/xml/">https://cn.dubbo.apache.org/zh/docs/references/configuration/xml/</a><br><img src="http://cdn.xiamu.icu//FsJH2h6IOBRPRQMe4-i6x91QNOZO.png"><br>ä¼˜å…ˆçº§:</p><ul><li>æ–¹æ³•çº§ä¼˜å…ˆï¼Œæ¥å£çº§æ¬¡ä¹‹ï¼Œå…¨å±€é…ç½®å†æ¬¡ä¹‹ã€‚</li><li>å¦‚æœçº§åˆ«ä¸€æ ·ï¼Œåˆ™æ¶ˆè´¹æ–¹ä¼˜å…ˆï¼Œæä¾›æ–¹æ¬¡ä¹‹ã€‚</li></ul><p>provider.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- å£°æ˜éœ€è¦æš´éœ²çš„æœåŠ¡æ¥å£ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dubbo:service</span> <span class="hljs-attr">interface</span>=<span class="hljs-string">&quot;com.atguigu.gmall.service.UserService&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;UserServiceImpl&quot;</span></span><br><span class="hljs-tag">               <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;4000&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dubbo:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;getUserAddressList&quot;</span> <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;2000&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:method</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:service</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dubbo:provider</span> <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;6000&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:provider</span>&gt;</span><br></code></pre></td></tr></table></figure><p>consumer.xml</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;dubbo:reference<br>        <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;UserService&quot;</span><br>        interface=<span class="hljs-string">&quot;com.atguigu.gmall.service.UserService&quot;</span><br>        <span class="hljs-built_in">timeout</span>=<span class="hljs-string">&quot;3000&quot;</span>&gt;<br>    &lt;dubbo:method name=<span class="hljs-string">&quot;getUserAddressList&quot;</span> <span class="hljs-built_in">timeout</span>=<span class="hljs-string">&quot;1000&quot;</span>&gt;&lt;/dubbo:method&gt;<br>&lt;/dubbo:reference&gt;<br><br>&lt;dubbo:consumer check=<span class="hljs-string">&quot;false&quot;</span> <span class="hljs-built_in">timeout</span>=<span class="hljs-string">&quot;5000&quot;</span>&gt;&lt;/dubbo:consumer&gt;<br></code></pre></td></tr></table></figure><h2 id="é…ç½®-é‡è¯•æ¬¡æ•°"><a href="#é…ç½®-é‡è¯•æ¬¡æ•°" class="headerlink" title="é…ç½®-é‡è¯•æ¬¡æ•°"></a>é…ç½®-é‡è¯•æ¬¡æ•°</h2><p>retries-â€œâ€: é‡è¯•æ¬¡æ•°, ä¸åŒ…å«ç¬¬ä¸€æ¬¡è°ƒç”¨, 0 ä»£è¡¨ä¸é‡è¯•<br>å¹‚ç­‰(è®¾ç½®é‡è¯•æ¬¡æ•°)[æŸ¥è¯¢, åˆ é™¤, ä¿®æ”¹] éå¹‚ç­‰(ä¸èƒ½è®¾ç½®é‡è¯•æ¬¡æ•°)[æ–°å¢]</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- retries-&quot;&quot;: é‡è¯•æ¬¡æ•°, ä¸åŒ…å«ç¬¬ä¸€æ¬¡è°ƒç”¨, 0ä»£è¡¨ä¸é‡è¯• --&gt;</span><br><span class="hljs-comment">&lt;!-- å¹‚ç­‰(è®¾ç½®é‡è¯•æ¬¡æ•°)[æŸ¥è¯¢, åˆ é™¤, ä¿®æ”¹] éå¹‚ç­‰(ä¸èƒ½è®¾ç½®é‡è¯•æ¬¡æ•°)[æ–°å¢] --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dubbo:reference</span></span><br><span class="hljs-tag">        <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserService&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">interface</span>=<span class="hljs-string">&quot;com.atguigu.gmall.service.UserService&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;5000&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">retries</span>=<span class="hljs-string">&quot;3&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;dubbo:method name=&quot;getUserAddressList&quot; timeout=&quot;1000&quot;&gt;&lt;/dubbo:method&gt;--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:reference</span>&gt;</span><br></code></pre></td></tr></table></figure><p>é‡è¯•ä¸‰æ¬¡, å¦‚æœæœ‰ä¸‰ä¸ªæä¾›è€…, å°†ä¼šæ¯ä¸ªéƒ½é‡è¯•ä¸€é<br><img src="http://cdn.xiamu.icu//Flvfok_AEYHshAkYio0k7b5veHHu.png"></p><h2 id="é…ç½®-å¤šç‰ˆæœ¬"><a href="#é…ç½®-å¤šç‰ˆæœ¬" class="headerlink" title="é…ç½®-å¤šç‰ˆæœ¬"></a>é…ç½®-å¤šç‰ˆæœ¬</h2><p>provider.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dubbo:service</span> <span class="hljs-attr">interface</span>=<span class="hljs-string">&quot;com.atguigu.gmall.service.UserService&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;UserServiceImpl01&quot;</span></span><br><span class="hljs-tag">               <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;1000&quot;</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;1.0.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dubbo:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;getUserAddressList&quot;</span> <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;1000&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:method</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:service</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dubbo:service</span> <span class="hljs-attr">interface</span>=<span class="hljs-string">&quot;com.atguigu.gmall.service.UserService&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;UserServiceImpl02&quot;</span></span><br><span class="hljs-tag">               <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;1000&quot;</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dubbo:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;getUserAddressList&quot;</span> <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;1000&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:method</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:service</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- å’Œæœ¬åœ°beanä¸€æ ·å®ç°æœåŠ¡ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserServiceImpl01&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.atguigu.gmall.service.impl.UserServiceImpl&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserServiceImpl02&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.atguigu.gmall.service.impl.UserServiceImpl2&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>consumer.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dubbo:reference</span></span><br><span class="hljs-tag">        <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserService&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">interface</span>=<span class="hljs-string">&quot;com.atguigu.gmall.service.UserService&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;5000&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">retries</span>=<span class="hljs-string">&quot;3&quot;</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;*&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;dubbo:method name=&quot;getUserAddressList&quot; timeout=&quot;1000&quot;&gt;&lt;/dubbo:method&gt;--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:reference</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ¶ˆè´¹è€…æŒ‡å®šéœ€è¦ä½¿ç”¨çš„ version<br>version å¯ä»¥å¡« 1.0.0&#x2F;2.0.0&#x2F;* *è¡¨ç¤ºéšæœºçš„æ–°è€ç‰ˆæœ¬<br>ä¸åŒè¿è¡Œç»“æœå¦‚ä¸‹:<br><img src="http://cdn.xiamu.icu//FuwcXwwihNRc2MfQjgBtjX6-lIHW.png"></p><h2 id="é…ç½®-æœ¬åœ°å­˜æ ¹"><a href="#é…ç½®-æœ¬åœ°å­˜æ ¹" class="headerlink" title="é…ç½®-æœ¬åœ°å­˜æ ¹"></a>é…ç½®-æœ¬åœ°å­˜æ ¹</h2><p>UserServiceStub.java</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceStub</span> <span class="hljs-title">implements</span> <span class="hljs-title">UserService</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UserService userService;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ä¼ å…¥çš„æ˜¯userServiceè¿œç¨‹çš„ä»£ç†å¯¹è±¡</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> userService</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> UserServiceStub(UserService userService) &#123;<br>        <span class="hljs-keyword">this</span>.userService = userService;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;UserAddress&gt; getUserAddressList(String userId) &#123;<br>        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">&quot;UserServiceStub...&quot;</span>);<br>        <span class="hljs-keyword">if</span> (!StringUtils.isEmpty(userId)) &#123;<br>            <span class="hljs-keyword">return</span> userService.getUserAddressList(userId);<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>consumer.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dubbo:reference</span></span><br><span class="hljs-tag">        <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserService&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">interface</span>=<span class="hljs-string">&quot;com.atguigu.gmall.service.UserService&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;5000&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">retries</span>=<span class="hljs-string">&quot;3&quot;</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;*&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">stub</span>=<span class="hljs-string">&quot;com.atguigu.gmall.service.UserServiceStub&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;dubbo:method name=&quot;getUserAddressList&quot; timeout=&quot;1000&quot;&gt;&lt;/dubbo:method&gt;--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:reference</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç»™ stub è®¾ç½®åŒ…å</p><h2 id="é…ç½®-SpringBoot-æ•´åˆçš„ä¸‰ç§æ–¹å¼"><a href="#é…ç½®-SpringBoot-æ•´åˆçš„ä¸‰ç§æ–¹å¼" class="headerlink" title="é…ç½®-SpringBoot æ•´åˆçš„ä¸‰ç§æ–¹å¼"></a>é…ç½®-SpringBoot æ•´åˆçš„ä¸‰ç§æ–¹å¼</h2><ol><li>å¯¼å…¥ dubbo-starter, åœ¨ application.properties é…ç½®å±æ€§, ä½¿ç”¨@Service[æš´éœ²æœåŠ¡], ä½¿ç”¨@Reference[å¼•ç”¨æœåŠ¡]</li><li>ä¿ç•™ dubbo.xml é…ç½®æ–‡ä»¶</li></ol><p>å¯¼å…¥ dubbo-starter, ä½¿ç”¨@ImportResource å¯¼å…¥ dubbo çš„é…ç½®æ–‡ä»¶å³å¯</p><ol start="3"><li>ä½¿ç”¨æ³¨è§£ API çš„æ–¹å¼</li></ol><p>å°†æ¯ä¸€ä¸ªç»„ä»¶æ‰‹åŠ¨åˆ›å»ºåˆ°å®¹å™¨ä¸­, è®© dubbo æ¥æ‰«æå…¶ä»–çš„ç»„ä»¶</p><p><strong>xml çš„æ–¹å¼</strong><br>provider.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:dubbo</span>=<span class="hljs-string">&quot;http://dubbo.apache.org/schema/dubbo&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans-4.3.xsd        http://dubbo.apache.org/schema/dubbo        http://dubbo.apache.org/schema/dubbo/dubbo.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- æä¾›æ–¹åº”ç”¨ä¿¡æ¯ï¼Œç”¨äºè®¡ç®—ä¾èµ–å…³ç³» --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dubbo:application</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;boot-user-service-provider&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- ä½¿ç”¨multicastå¹¿æ’­æ³¨å†Œä¸­å¿ƒæš´éœ²æœåŠ¡åœ°å€ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dubbo:registry</span> <span class="hljs-attr">address</span>=<span class="hljs-string">&quot;zookeeper://127.0.0.1:2181&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- ç”¨dubboåè®®åœ¨20880ç«¯å£æš´éœ²æœåŠ¡ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dubbo:protocol</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dubbo&quot;</span> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;20882&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- å’Œæœ¬åœ°beanä¸€æ ·å®ç°æœåŠ¡ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserServiceImpl&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.atguigu.gmall.service.impl.UserServiceImpl&quot;</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- å£°æ˜éœ€è¦æš´éœ²çš„æœåŠ¡æ¥å£ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dubbo:service</span> <span class="hljs-attr">interface</span>=<span class="hljs-string">&quot;com.atguigu.gmall.service.UserService&quot;</span></span><br><span class="hljs-tag">                   <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;UserServiceImpl&quot;</span></span><br><span class="hljs-tag">                   <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;1000&quot;</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;1.0.0&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dubbo:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;getUserAddressList&quot;</span> <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;1000&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:method</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:service</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dubbo:provider</span> <span class="hljs-attr">timeout</span>=<span class="hljs-string">&quot;1000&quot;</span> <span class="hljs-attr">token</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:provider</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- è¿æ¥ç›‘æ§ä¸­å¿ƒ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dubbo:monitor</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">&quot;registry&quot;</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dubbo:monitor</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ª xml æ–‡ä»¶ä¸­æ³¨å…¥äº† bean, UserService å°±ä¸éœ€è¦@Service è¿™ä¸ªæ³¨è§£æš´éœ²æœåŠ¡<br>UserService ä¸­<br>@Service æ˜¯ com.alibaba.dubbo.config.annotation.Service;åŒ…ä¸‹çš„</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-keyword">import</span> com.alibaba.dubbo.config.annotation.Service;<br><br><span class="hljs-comment">//@Service   // æš´éœ²æœåŠ¡</span><br>@Component<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserServiceImpl</span> <span class="hljs-keyword"><span class="hljs-keyword">implements</span> <span class="hljs-type">UserService</span></span> </span>&#123;<br><br>    @Override<br>    <span class="hljs-keyword">public</span> List&lt;UserAddress&gt; getUserAddressList(<span class="hljs-keyword">String</span> userId) &#123;<br>        UserAddress address1 = <span class="hljs-keyword">new</span> <span class="hljs-type">UserAddress</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;åŒ—äº¬å¸‚æ˜Œå¹³åŒºå®ç¦ç§‘æŠ€å›­ç»¼åˆæ¥¼3å±‚&quot;</span>, <span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-string">&quot;æè€å¸ˆ&quot;</span>, <span class="hljs-string">&quot;010-56253825&quot;</span>, <span class="hljs-string">&quot;Y&quot;</span>);<br>        UserAddress address2 = <span class="hljs-keyword">new</span> <span class="hljs-type">UserAddress</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;æ·±åœ³å¸‚å®å®‰åŒºè¥¿éƒ¨ç¡…è°·å¤§å¦Båº§3å±‚ï¼ˆæ·±åœ³åˆ†æ ¡ï¼‰&quot;</span>, <span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-string">&quot;ç‹è€å¸ˆ&quot;</span>, <span class="hljs-string">&quot;010-56253825&quot;</span>, <span class="hljs-string">&quot;N&quot;</span>);<br><br>        <span class="hljs-keyword">return</span> Arrays.asList(address1,address2);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>Application</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-comment">//@EnableDubbo // å¼€å¯åŸºäºæ³¨è§£çš„dubboåŠŸèƒ½</span><br><span class="hljs-variable">@ImportResource</span>(locations = <span class="hljs-string">&quot;classpath:provider.xml&quot;</span>)<br><span class="hljs-variable">@SpringBootApplication</span><br>public class BootUserServiceProviderApplication &#123;<br><br>    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">static</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">main</span>(String[] args) &#123;<br>        <span class="hljs-selector-tag">SpringApplication</span><span class="hljs-selector-class">.run</span>(BootUserServiceProviderApplication.class, args);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨è§£çš„æ–¹å¼</strong><br>MyDubboConfig</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.gmall.config;<br><br><span class="hljs-keyword">import</span> com.alibaba.dubbo.config.*;<br><span class="hljs-keyword">import</span> com.atguigu.gmall.service.UserService;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDubboConfig</span> &#123;<br><br>    <span class="hljs-comment">//    &lt;dubbo:application name=&quot;boot-user-service-provider&quot; /&gt;</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> ApplicationConfig <span class="hljs-title function_">applicationConfig</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">ApplicationConfig</span> <span class="hljs-variable">applicationConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ApplicationConfig</span>();<br>        applicationConfig.setName(<span class="hljs-string">&quot;boot-user-service-provider&quot;</span>);<br>        <span class="hljs-keyword">return</span> applicationConfig;<br>    &#125;<br><br>    <span class="hljs-comment">//    &lt;dubbo:registry address=&quot;zookeeper://127.0.0.1:2181&quot; /&gt;</span><br><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> RegistryConfig <span class="hljs-title function_">registryConfig</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">RegistryConfig</span> <span class="hljs-variable">registryConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegistryConfig</span>();<br>        registryConfig.setAddress(<span class="hljs-string">&quot;zookeeper://127.0.0.1:2181&quot;</span>);<br>        <span class="hljs-keyword">return</span> registryConfig;<br>    &#125;<br><br>    <span class="hljs-comment">//    &lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20882&quot; /&gt;</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> ProtocolConfig <span class="hljs-title function_">protocolConfig</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">ProtocolConfig</span> <span class="hljs-variable">protocolConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtocolConfig</span>();<br>        protocolConfig.setName(<span class="hljs-string">&quot;dubbo&quot;</span>);<br>        protocolConfig.setPort(<span class="hljs-number">20882</span>);<br>        <span class="hljs-keyword">return</span> protocolConfig;<br>    &#125;<br><br>    <span class="hljs-comment">//    &lt;dubbo:service interface=&quot;com.atguigu.gmall.service.UserService&quot;</span><br>    <span class="hljs-comment">//                   ref=&quot;UserServiceImpl&quot;</span><br>    <span class="hljs-comment">//                   timeout=&quot;1000&quot; version=&quot;1.0.0&quot;&gt;</span><br>    <span class="hljs-comment">//        &lt;dubbo:method name=&quot;getUserAddressList&quot; timeout=&quot;1000&quot;&gt;&lt;/dubbo:method&gt;</span><br>    <span class="hljs-comment">//    &lt;/dubbo:service&gt;</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> ServiceConfig&lt;UserService&gt; <span class="hljs-title function_">userServiceServiceConfig</span><span class="hljs-params">(UserService userService)</span> &#123;<br>        ServiceConfig&lt;UserService&gt; userServiceServiceConfig = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceConfig</span>&lt;&gt;();<br>        userServiceServiceConfig.setInterface(UserService.class);<br>        userServiceServiceConfig.setRef(userService);<br>        userServiceServiceConfig.setVersion(<span class="hljs-string">&quot;1.0.0&quot;</span>);<br><br>        <span class="hljs-comment">// é…ç½®æ¯ä¸€ä¸ªmethodçš„ä¿¡æ¯</span><br>        <span class="hljs-type">MethodConfig</span> <span class="hljs-variable">methodConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MethodConfig</span>();<br>        methodConfig.setName(<span class="hljs-string">&quot;getUserAddressList&quot;</span>);<br>        methodConfig.setTimeout(<span class="hljs-number">1000</span>);<br><br>        <span class="hljs-comment">// å°†methodçš„è®¾ç½®å…³è”åˆ°serviceé…ç½®ä¸­</span><br>        List&lt;MethodConfig&gt; methodConfigList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        methodConfigList.add(methodConfig);<br>        userServiceServiceConfig.setMethods(methodConfigList);<br>        <span class="hljs-keyword">return</span> userServiceServiceConfig;<br>    &#125;<br><br>    <span class="hljs-comment">//    &lt;dubbo:provider timeout=&quot;1000&quot;&gt;&lt;/dubbo:provider&gt;</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> ProviderConfig <span class="hljs-title function_">providerConfig</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">ProviderConfig</span> <span class="hljs-variable">providerConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProviderConfig</span>();<br>        providerConfig.setTimeout(<span class="hljs-number">1000</span>);<br>        <span class="hljs-keyword">return</span> providerConfig;<br>    &#125;<br><br>    <span class="hljs-comment">//    &lt;dubbo:monitor protocol=&quot;registry&quot; &gt;&lt;/dubbo:monitor&gt;</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> MonitorConfig <span class="hljs-title function_">monitorConfig</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">MonitorConfig</span> <span class="hljs-variable">monitorConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MonitorConfig</span>();<br>        monitorConfig.setProtocol(<span class="hljs-string">&quot;registry&quot;</span>);<br>        <span class="hljs-keyword">return</span> monitorConfig;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>UserService éœ€è¦æš´éœ²æœåŠ¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Service</span>   <span class="hljs-comment">// æš´éœ²æœåŠ¡</span><br><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;UserAddress&gt; <span class="hljs-title function_">getUserAddressList</span><span class="hljs-params">(String userId)</span> &#123;<br>        <span class="hljs-type">UserAddress</span> <span class="hljs-variable">address1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserAddress</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;åŒ—äº¬å¸‚æ˜Œå¹³åŒºå®ç¦ç§‘æŠ€å›­ç»¼åˆæ¥¼3å±‚&quot;</span>, <span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-string">&quot;æè€å¸ˆ&quot;</span>, <span class="hljs-string">&quot;010-56253825&quot;</span>, <span class="hljs-string">&quot;Y&quot;</span>);<br>        <span class="hljs-type">UserAddress</span> <span class="hljs-variable">address2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserAddress</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;æ·±åœ³å¸‚å®å®‰åŒºè¥¿éƒ¨ç¡…è°·å¤§å¦Båº§3å±‚ï¼ˆæ·±åœ³åˆ†æ ¡ï¼‰&quot;</span>, <span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-string">&quot;ç‹è€å¸ˆ&quot;</span>, <span class="hljs-string">&quot;010-56253825&quot;</span>, <span class="hljs-string">&quot;N&quot;</span>);<br><br>        <span class="hljs-keyword">return</span> Arrays.asList(address1,address2);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>Application</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-comment">//@EnableDubbo // å¼€å¯åŸºäºæ³¨è§£çš„dubboåŠŸèƒ½</span><br><span class="hljs-comment">//@ImportResource(locations = &quot;classpath:provider.xml&quot;)</span><br><span class="hljs-variable">@EnableDubbo</span>(scanBasePackages = <span class="hljs-string">&quot;com.atguigu.gmall&quot;</span>)<br><span class="hljs-variable">@SpringBootApplication</span><br>public class BootUserServiceProviderApplication &#123;<br><br>    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">static</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">main</span>(String[] args) &#123;<br>        <span class="hljs-selector-tag">SpringApplication</span><span class="hljs-selector-class">.run</span>(BootUserServiceProviderApplication.class, args);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é«˜å¯ç”¨-ZooKeeper-å®•æœºä¸-Dubbo-ç›´è¿"><a href="#é«˜å¯ç”¨-ZooKeeper-å®•æœºä¸-Dubbo-ç›´è¿" class="headerlink" title="é«˜å¯ç”¨-ZooKeeper å®•æœºä¸ Dubbo ç›´è¿"></a>é«˜å¯ç”¨-ZooKeeper å®•æœºä¸ Dubbo ç›´è¿</h2><p><img src="http://cdn.xiamu.icu//FjaEbiGhM8BJPZ69ZETZ6jFEDrKj.png"><br>æ³¨å†Œä¸­å¿ƒæŒ‚äº†, ä»ç„¶èƒ½æ¶ˆè€—æš´éœ²çš„æœåŠ¡<br>å¥å£®æ€§</p><ul><li>ç›‘æ§ä¸­å¿ƒå®•æ‰ä¸å½±å“ä½¿ç”¨ï¼Œåªæ˜¯ä¸¢å¤±éƒ¨åˆ†é‡‡æ ·æ•°æ®</li><li>æ•°æ®åº“å®•æ‰åï¼Œæ³¨å†Œä¸­å¿ƒä»èƒ½é€šè¿‡ç¼“å­˜æä¾›æœåŠ¡åˆ—è¡¨æŸ¥è¯¢ï¼Œä½†ä¸èƒ½æ³¨å†Œæ–°æœåŠ¡</li><li>æ³¨å†Œä¸­å¿ƒå¯¹ç­‰é›†ç¾¤ï¼Œä»»æ„ä¸€å°å®•æ‰åï¼Œå°†è‡ªåŠ¨åˆ‡æ¢åˆ°å¦ä¸€å°</li><li><strong>æ³¨å†Œä¸­å¿ƒå…¨éƒ¨å®•æ‰åï¼ŒæœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä»èƒ½é€šè¿‡æœ¬åœ°ç¼“å­˜é€šè®¯</strong></li><li>æœåŠ¡æä¾›è€…æ— çŠ¶æ€ï¼Œä»»æ„ä¸€å°å®•æ‰åï¼Œä¸å½±å“ä½¿ç”¨</li><li>æœåŠ¡æä¾›è€…å…¨éƒ¨å®•æ‰åï¼ŒæœåŠ¡æ¶ˆè´¹è€…åº”ç”¨å°†æ— æ³•ä½¿ç”¨ï¼Œå¹¶æ— é™æ¬¡é‡è¿ç­‰å¾…æœåŠ¡æä¾›è€…æ¢å¤</li></ul><p><img src="http://cdn.xiamu.icu//FujPqz_xF60myaTq46SBsQ9inpyS.png"></p><p>dubbo ç›´è¿</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-meta">@Reference(url = <span class="hljs-string">&quot;127.0.0.1:20882&quot;</span>)</span> <span class="hljs-comment">// dubboç›´è¿</span><br></code></pre></td></tr></table></figure><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p><img src="http://cdn.xiamu.icu//FsQEVVw9ry0hR_YJmou6whjy6JGg.png"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Dubbo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ZooKeeper</title>
    <link href="/Java/ZooKeeper/"/>
    <url>/Java/ZooKeeper/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p><a href="https://zookeeper.apache.org/">https://zookeeper.apache.org/</a><br><img src="http://cdn.xiamu.icu//FnfDmz4hkkqKN8B9weL91s63SXeZ.png"><br><a href="https://archive.apache.org/dist/zookeeper/">https://archive.apache.org/dist/zookeeper/</a><br>æˆ‘ä»¬é€‰æ‹©æ¯”è¾ƒç¨³å®šçš„ç‰ˆæœ¬ 3.5.7<br><img src="http://cdn.xiamu.icu//FupCiA_0rnsNAlKf1Vcfe4-JaMrx.png"></p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ä¸Šä¼ åˆ° linux ä¸Š<br><img src="http://cdn.xiamu.icu//FjnI6ho032YEB4qrWT1xppQQOYem.png"><br>è§£å‹ç¼©<br><code>[xiamu@hadoop202 software]$ tar -zxvf apache-zookeeper-3.5.7-bin.tar.gz -C /opt/module/</code><br>ä¿®æ”¹åç§°<br><code>[xiamu@hadoop202 module]$ mv apache-zookeeper-3.5.7-bin/ zookeeper-3.5.7/</code><br>é…ç½®ä¿®æ”¹<br><code>[xiamu@hadoop202 module]$ cd zookeeper-3.5.7/</code><br><code>[xiamu@hadoop202 zookeeper-3.5.7]$ mkdir zkData</code><br><code>[xiamu@hadoop202 zookeeper-3.5.7]$ cd conf/</code><br><code>[xiamu@hadoop202 zookeeper-3.5.7]$ mv zoo_sample.cfg zoo.cfg</code><br><code>[xiamu@hadoop202 conf]$ vim zoo.cfg</code><br>ä¿®æ”¹ dataDir çš„è·¯å¾„ä¸ºåˆšåˆšåˆ›å»ºçš„ zkData çš„è·¯å¾„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">dataDir=/opt/module/zookeeper-3.5.7/zkData<br><br></code></pre></td></tr></table></figure><h2 id="æœ¬åœ°å¯åŠ¨å’Œåœæ­¢"><a href="#æœ¬åœ°å¯åŠ¨å’Œåœæ­¢" class="headerlink" title="æœ¬åœ°å¯åŠ¨å’Œåœæ­¢"></a>æœ¬åœ°å¯åŠ¨å’Œåœæ­¢</h2><p><code>[xiamu@hadoop202 zookeeper-3.5.7]$ bin/zkServer.sh start</code>å¯åŠ¨ zookeeper</p><p><code>[xiamu@hadoop202 zookeeper-3.5.7]$ jps </code>æŸ¥çœ‹è¿›ç¨‹æ˜¯å¦å¯åŠ¨<br>4720 Jps<br>4686 QuorumPeerMain</p><p><code>[xiamu@hadoop202 zookeeper-3.5.7]$ bin/zkServer.sh status</code>æŸ¥çœ‹çŠ¶æ€<br>ZooKeeper JMX enabled by default<br>Using config: &#x2F;opt&#x2F;module&#x2F;zookeeper-3.5.7&#x2F;bin&#x2F;..&#x2F;conf&#x2F;zoo.cfg<br>Client port found: 2181. Client address: localhost.<br>Mode: standalone</p><p><code>[xiamu@hadoop202 zookeeper-3.5.7]$ bin/zkCli.sh </code>å¯åŠ¨å®¢æˆ·ç«¯<br><code>[zk: localhost:2181(CONNECTED) 0] quit</code>é€€å‡ºå®¢æˆ·ç«¯</p><p><code>[xiamu@hadoop202 zookeeper-3.5.7]$ bin/zkServer.sh stop</code>åœæ­¢ ZooKeeper<br>ZooKeeper JMX enabled by default<br>Using config: &#x2F;opt&#x2F;module&#x2F;zookeeper-3.5.7&#x2F;bin&#x2F;..&#x2F;conf&#x2F;zoo.cfg<br>Stopping zookeeper â€¦ STOPPED</p><h2 id="é›†ç¾¤å®‰è£…"><a href="#é›†ç¾¤å®‰è£…" class="headerlink" title="é›†ç¾¤å®‰è£…"></a>é›†ç¾¤å®‰è£…</h2><p>åœ¨åˆ›å»ºå¥½çš„ zkData ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ myid<br><code>[xiamu@hadoop202 zkData]$ vim myid</code><br>2<br><code>[xiamu@hadoop203 zkData]$ vim myid</code><br>3<br><code>[xiamu@hadoop204 zkData]$ vim myid</code><br>4<br>åœ¨ hadoop202(102)ä¸­è®¾ç½® 2<br>åœ¨ hadoop203(103)ä¸­è®¾ç½® 3<br>åœ¨ hadoop204(104)ä¸­è®¾ç½® 4<br>åˆ†å‘è„šæœ¬å‘½ä»¤<code>[xiamu@hadoop202 module]$ xsync zookeeper-3.5.7/</code></p><p>é…ç½®<code>[xiamu@hadoop202 conf]$ vim zoo.cfg </code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#######################cluster##########################</span><br>server.2=hadoop202:2888:3888server.3=hadoop203:2888:3888<br>server.4=hadoop204:2888:3888<br><br></code></pre></td></tr></table></figure><p>é…ç½®å®Œæˆä¹‹ååˆ†å‘<br><code>[xiamu@hadoop202 conf]$ xsync zoo.cfg</code></p><h2 id="é›†ç¾¤å¯åŠ¨"><a href="#é›†ç¾¤å¯åŠ¨" class="headerlink" title="é›†ç¾¤å¯åŠ¨"></a>é›†ç¾¤å¯åŠ¨</h2><p><code>[xiamu@hadoop202 zookeeper-3.5.7]$ bin/zkServer.sh start</code><br><code>[xiamu@hadoop202 zookeeper-3.5.7]$ bin/zkServer.sh status</code><br><img src="http://cdn.xiamu.icu//FhjjYf4MLhdBQPSrFx_A4E1Pc5nF.png"><br>éœ€è¦å¯¹æ¯ä¸€ä¸ªé›†ç¾¤å¼€å¯ zookeeper<br><code>[xiamu@hadoop203 zookeeper-3.5.7]$ bin/zkServer.sh start</code><br><code>[xiamu@hadoop203 zookeeper-3.5.7]$ bin/zkServer.sh status</code><br>Mode: leader<br><code>[xiamu@hadoop204 zookeeper-3.5.7]$ bin/zkServer.sh start</code><br><code>[xiamu@hadoop204 zookeeper-3.5.7]$ bin/zkServer.sh status</code><br>Mode: follower</p><h2 id="ç¬¬ä¸€æ¬¡é€‰ä¸¾æœºåˆ¶"><a href="#ç¬¬ä¸€æ¬¡é€‰ä¸¾æœºåˆ¶" class="headerlink" title="ç¬¬ä¸€æ¬¡é€‰ä¸¾æœºåˆ¶"></a>ç¬¬ä¸€æ¬¡é€‰ä¸¾æœºåˆ¶</h2><p><img src="http://cdn.xiamu.icu//FoY5puhM54WCk6xKhY58Sex_CMnY.png"></p><h2 id="éç¬¬ä¸€æ¬¡é€‰ä¸¾æœºåˆ¶"><a href="#éç¬¬ä¸€æ¬¡é€‰ä¸¾æœºåˆ¶" class="headerlink" title="éç¬¬ä¸€æ¬¡é€‰ä¸¾æœºåˆ¶"></a>éç¬¬ä¸€æ¬¡é€‰ä¸¾æœºåˆ¶</h2><p><img src="http://cdn.xiamu.icu//Fi92EsmwSes32LY3H4wDj6HPNfNE.png"></p><h2 id="ç¼–å†™å¯åŠ¨åœæ­¢è„šæœ¬"><a href="#ç¼–å†™å¯åŠ¨åœæ­¢è„šæœ¬" class="headerlink" title="ç¼–å†™å¯åŠ¨åœæ­¢è„šæœ¬"></a>ç¼–å†™å¯åŠ¨åœæ­¢è„šæœ¬</h2><p>åœ¨&#x2F;home&#x2F;xiamu&#x2F;bin ç›®å½•ä¸‹åˆ›å»º zk.sh è„šæœ¬<code>[xiamu@hadoop202 bin]$ vim zk.sh</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><br><span class="hljs-keyword">case</span> <span class="hljs-variable">$1</span> <span class="hljs-keyword">in</span><br><span class="hljs-string">&quot;start&quot;</span>)&#123;<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> hadoop202 hadoop203 hadoop204<br>        <span class="hljs-keyword">do</span><br>                <span class="hljs-built_in">echo</span> ---------- ZooKeeper <span class="hljs-variable">$i</span> å¯åŠ¨ ----------<br>                ssh <span class="hljs-variable">$i</span> <span class="hljs-string">&quot;/opt/module/zookeeper-3.5.7/bin/zkServer.sh start&quot;</span><br>        <span class="hljs-keyword">done</span><br>&#125;<br>;;<br><span class="hljs-string">&quot;stop&quot;</span>)&#123;<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> hadoop202 hadoop203 hadoop204<br>        <span class="hljs-keyword">do</span><br>                <span class="hljs-built_in">echo</span> ---------- ZooKeeper <span class="hljs-variable">$i</span> åœæ­¢ ----------<br>                ssh <span class="hljs-variable">$i</span> <span class="hljs-string">&quot;/opt/module/zookeeper-3.5.7/bin/zkServer.sh stop&quot;</span><br>        <span class="hljs-keyword">done</span><br>&#125;<br>;;<br><span class="hljs-string">&quot;status&quot;</span>)&#123;<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> hadoop202 hadoop203 hadoop204<br>        <span class="hljs-keyword">do</span><br>                <span class="hljs-built_in">echo</span> ---------- ZooKeeper <span class="hljs-variable">$i</span> çŠ¶æ€ ----------<br>                ssh <span class="hljs-variable">$i</span> <span class="hljs-string">&quot;/opt/module/zookeeper-3.5.7/bin/zkServer.sh status&quot;</span><br>        <span class="hljs-keyword">done</span><br>&#125;<br>;;<br><span class="hljs-keyword">esac</span><br><br></code></pre></td></tr></table></figure><p>ç»™äºˆå¯æ‰§è¡Œæƒé™<code>[xiamu@hadoop202 bin]$ chmod 777 zk.sh</code><br>åˆ†å‘è„šæœ¬<code>[xiamu@hadoop202 bin]$ xsync zk.sh </code><br>ä½¿ç”¨è„šæœ¬å¯åŠ¨&#x2F;æŸ¥çœ‹çŠ¶æ€&#x2F;å…³é—­ ZooKeeper<br><code>[xiamu@hadoop202 bin]$ zk.sh start</code><br><code>[xiamu@hadoop202 bin]$ zk.sh status</code><br><code>[xiamu@hadoop202 bin]$ zk.sh stop</code></p><h2 id="å‘½ä»¤è¡Œ-èŠ‚ç‚¹ä¿¡æ¯"><a href="#å‘½ä»¤è¡Œ-èŠ‚ç‚¹ä¿¡æ¯" class="headerlink" title="å‘½ä»¤è¡Œ-èŠ‚ç‚¹ä¿¡æ¯"></a>å‘½ä»¤è¡Œ-èŠ‚ç‚¹ä¿¡æ¯</h2><p>å‘½ä»¤è¡Œè¯­æ³•</p><table><thead><tr><th>å‘½ä»¤åŸºæœ¬è¯­æ³•</th><th>åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td>help</td><td>æ˜¾ç¤ºæ‰€æœ‰æ“ä½œå‘½ä»¤</td></tr><tr><td>ls path</td><td>ä½¿ç”¨ ls å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰ znode çš„å­èŠ‚ç‚¹[å¯ç›‘å¬]</td></tr></tbody></table><p>-w ç›‘å¬å­èŠ‚ç‚¹å˜åŒ–<br>-s é™„åŠ æ¬¡çº§ä¿¡æ¯ |</p><p>| create | æ™®é€šåˆ›å»º<br>-s å«æœ‰åºåˆ—</p><p>-e ä¸´æ—¶ï¼ˆé‡å¯æˆ–è€…è¶…æ—¶æ¶ˆå¤±ï¼‰ |<br>| â€” | â€” |<br>| get path | è·å¾—èŠ‚ç‚¹çš„å€¼[å¯ç›‘å¬]<br>-w ç›‘å¬èŠ‚ç‚¹å†…å®¹å˜åŒ–<br>-s é™„åŠ æ¬¡çº§ä¿¡æ¯ |<br>| set | è®¾ç½®èŠ‚ç‚¹çš„å…·ä½“å€¼ |<br>| stat | æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€ |<br>| delete | åˆ é™¤èŠ‚ç‚¹ |<br>| deleteall | é€’å½’åˆ é™¤èŠ‚ç‚¹ |</p><p><code>[xiamu@hadoop202 zookeeper-3.5.7]$ bin/zkCli.sh</code>å®¢æˆ·ç«¯ç›´æ¥è¿æ¥<br>[zk: localhost:2181(CONNECTED) 0]<br>æ­¤æ—¶ zk åé¢çš„ä¸»æœºåæ˜¯ localhost, å¯ä»¥ä½¿ç”¨-server å‚æ•°ä¿®æ”¹<br><code>[xiamu@hadoop202 zookeeper-3.5.7]$ bin/zkCli.sh -server hadoop202:2181</code><br><code>[zk: hadoop202:2181(CONNECTED) 0] ls /</code> æŸ¥çœ‹å½“å‰ znode ä¸­æ‰€åŒ…å«çš„å†…å®¹<br><code>[zk: hadoop202:2181(CONNECTED) 1] help</code> æ˜¾ç¤ºæ‰€æœ‰æ“ä½œå‘½ä»¤<br><code>[zk: hadoop202:2181(CONNECTED) 4] ls -s /</code> æŸ¥çœ‹å½“å‰èŠ‚ç‚¹è¯¦ç»†æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zookeeper]cZxid = 0x0<br>ctime = Thu Jan 01 08:00:00 CST 1970<br>mZxid = 0x0<br>mtime = Thu Jan 01 08:00:00 CST 1970<br>pZxid = 0x0<br>cversion = -1<br>dataVersion = 0<br>aclVersion = 0<br>ephemeralOwner = 0x0<br>dataLength = 0<br>numChildren = 1<br></code></pre></td></tr></table></figure><p>ï¼ˆ1ï¼‰czxidï¼šåˆ›å»ºèŠ‚ç‚¹çš„äº‹åŠ¡ zxid<br>æ¯æ¬¡ä¿®æ”¹ ZooKeeper çŠ¶æ€éƒ½ä¼šäº§ç”Ÿä¸€ä¸ª ZooKeeper äº‹åŠ¡ IDã€‚äº‹åŠ¡ ID æ˜¯ ZooKeeper ä¸­æ‰€æœ‰ä¿®æ”¹æ€»çš„æ¬¡åºã€‚æ¯æ¬¡ä¿®æ”¹éƒ½æœ‰å”¯ä¸€çš„ zxidï¼Œå¦‚æœ zxid1 å°äº zxid2ï¼Œé‚£ä¹ˆ zxid1 åœ¨ zxid2 ä¹‹å‰å‘ç”Ÿã€‚<br>ï¼ˆ2ï¼‰ctimeï¼šznode è¢«åˆ›å»ºçš„æ¯«ç§’æ•°ï¼ˆä» 1970 å¹´å¼€å§‹ï¼‰<br>ï¼ˆ3ï¼‰mzxidï¼šznode æœ€åæ›´æ–°çš„äº‹åŠ¡ zxid<br>ï¼ˆ4ï¼‰mtimeï¼šznode æœ€åä¿®æ”¹çš„æ¯«ç§’æ•°ï¼ˆä» 1970 å¹´å¼€å§‹ï¼‰<br>ï¼ˆ5ï¼‰pZxidï¼šznode æœ€åæ›´æ–°çš„å­èŠ‚ç‚¹ zxid<br>ï¼ˆ6ï¼‰cversionï¼šznode å­èŠ‚ç‚¹å˜åŒ–å·ï¼Œznode å­èŠ‚ç‚¹ä¿®æ”¹æ¬¡æ•°<br>ï¼ˆ7ï¼‰dataversionï¼šznode æ•°æ®å˜åŒ–å·<br>ï¼ˆ8ï¼‰aclVersionï¼šznode è®¿é—®æ§åˆ¶åˆ—è¡¨çš„å˜åŒ–å·<br>ï¼ˆ9ï¼‰ephemeralOwnerï¼šå¦‚æœæ˜¯ä¸´æ—¶èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ˜¯ znode æ‹¥æœ‰è€…çš„ session idã€‚å¦‚æœä¸æ˜¯ä¸´æ—¶èŠ‚ç‚¹åˆ™æ˜¯ 0ã€‚<br>ï¼ˆ10ï¼‰dataLengthï¼šznode çš„æ•°æ®é•¿åº¦<br>ï¼ˆ11ï¼‰numChildrenï¼šznode å­èŠ‚ç‚¹æ•°é‡</p><h2 id="å‘½ä»¤è¡Œ-èŠ‚ç‚¹ç±»å‹-æŒä¹…-x2F-çŸ­æš‚-x2F-æœ‰åºå·-x2F-æ— åºå·"><a href="#å‘½ä»¤è¡Œ-èŠ‚ç‚¹ç±»å‹-æŒä¹…-x2F-çŸ­æš‚-x2F-æœ‰åºå·-x2F-æ— åºå·" class="headerlink" title="å‘½ä»¤è¡Œ-èŠ‚ç‚¹ç±»å‹(æŒä¹…&#x2F;çŸ­æš‚&#x2F;æœ‰åºå·&#x2F;æ— åºå·)"></a>å‘½ä»¤è¡Œ-èŠ‚ç‚¹ç±»å‹(æŒä¹…&#x2F;çŸ­æš‚&#x2F;æœ‰åºå·&#x2F;æ— åºå·)</h2><h3 id="åˆ›å»ºæ°¸ä¹…èŠ‚ç‚¹"><a href="#åˆ›å»ºæ°¸ä¹…èŠ‚ç‚¹" class="headerlink" title="åˆ›å»ºæ°¸ä¹…èŠ‚ç‚¹"></a>åˆ›å»ºæ°¸ä¹…èŠ‚ç‚¹</h3><p>åˆ›å»ºæ™®é€šèŠ‚ç‚¹(é»˜è®¤åˆ›å»ºçš„æ˜¯ä¸å¸¦åºå·çš„æ°¸ä¹…èŠ‚ç‚¹)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop202:2181(CONNECTED) 0] <span class="hljs-built_in">ls</span> /<br>[zookeeper]<br>[zk: hadoop202:2181(CONNECTED) 1] create /sanguo <span class="hljs-string">&quot;diaochan&quot;</span><br>Created /sanguo<br>[zk: hadoop202:2181(CONNECTED) 2] <span class="hljs-built_in">ls</span> /<br>[sanguo, zookeeper]<br>[zk: hadoop202:2181(CONNECTED) 3]<br><br>[zk: hadoop202:2181(CONNECTED) 5] create /sanguo/shuguo <span class="hljs-string">&quot;liubei&quot;</span><br>Created /sanguo/shuguo<br>[zk: hadoop202:2181(CONNECTED) 7] <span class="hljs-built_in">ls</span> /sanguo<br>[shuguo]<br><br></code></pre></td></tr></table></figure><p>è·å–èŠ‚ç‚¹ä¸­çš„å€¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop202:2181(CONNECTED) 8] get -s /sanguo<br>diaochan<br>cZxid = 0x30000000a<br>ctime = Wed Feb 01 20:12:01 CST 2023<br>mZxid = 0x30000000a<br>mtime = Wed Feb 01 20:12:01 CST 2023<br>pZxid = 0x30000000b<br>cversion = 1<br>dataVersion = 0<br>aclVersion = 0<br>ephemeralOwner = 0x0<br>dataLength = 8<br>numChildren = 1<br><br>[zk: hadoop202:2181(CONNECTED) 9] get -s /sanguo/shuguo<br>liubei<br>cZxid = 0x30000000b<br>ctime = Wed Feb 01 20:14:02 CST 2023<br>mZxid = 0x30000000b<br>mtime = Wed Feb 01 20:14:02 CST 2023<br>pZxid = 0x30000000b<br>cversion = 0<br>dataVersion = 0<br>aclVersion = 0<br>ephemeralOwner = 0x0<br>dataLength = 6<br>numChildren = 0<br><br></code></pre></td></tr></table></figure><p>åˆ›å»ºå¸¦åºå·çš„èŠ‚ç‚¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>[zk: hadoop202:2181(CONNECTED) 12] create -s /sanguo/weiguo/zhangliao <span class="hljs-string">&quot;zhangliao&quot;</span><br>Created /sanguo/weiguo/zhangliao0000000000<br>[zk: hadoop202:2181(CONNECTED) 13] <span class="hljs-built_in">ls</span> /<br>[sanguo, zookeeper]<br>[zk: hadoop202:2181(CONNECTED) 14] <span class="hljs-built_in">ls</span> /sanguo/weiguo<br>[zhangliao0000000000]<br>[zk: hadoop202:2181(CONNECTED) 15]<br><br><br></code></pre></td></tr></table></figure><p>å¸¦åºå·çš„æ°¸ä¹…èŠ‚ç‚¹ç¬¬äºŒæ¬¡åˆ›å»ºä¼šè‡ªåŠ¨åŠ ä¸Šåºå·, è€Œä¸å¸¦åºå·çš„æ°¸ä¹…èŠ‚ç‚¹å†æ¬¡åˆ›å»ºä¼šæŠ¥é”™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop202:2181(CONNECTED) 15] create -s /sanguo/weiguo/zhangliao <span class="hljs-string">&quot;zhangliao&quot;</span><br>Created /sanguo/weiguo/zhangliao0000000001<br><br>[zk: hadoop202:2181(CONNECTED) 10] create /sanguo/weiguo <span class="hljs-string">&quot;caocao&quot;</span><br>Created /sanguo/weiguo<br>[zk: hadoop202:2181(CONNECTED) 16] create /sanguo/weiguo <span class="hljs-string">&quot;caocao&quot;</span><br>Node already exists: /sanguo/weiguo<br><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<code>quit</code>é€€å‡ºå®¢æˆ·ç«¯, å†æ¬¡è¿æ¥, å‘ç°ä¹‹å‰åˆ›å»ºçš„èŠ‚ç‚¹ä»ç„¶å­˜åœ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop202:2181(CONNECTED) 17] quit<br>[xiamu@hadoop202 zookeeper-3.5.7]$ bin/zkCli.sh -server hadoop202:2181<br><br>[zk: hadoop202:2181(CONNECTED) 0] <span class="hljs-built_in">ls</span> /sanguo<br>[shuguo, weiguo]<br>[zk: hadoop202:2181(CONNECTED) 1] <span class="hljs-built_in">ls</span> /sanguo/weiguo<br>[zhangliao0000000000, zhangliao0000000001]<br><br></code></pre></td></tr></table></figure><h3 id="åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹"><a href="#åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹" class="headerlink" title="åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹"></a>åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹</h3><p>åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹åªéœ€è¦åŠ ä¸Šå‚æ•°-e å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop202:2181(CONNECTED) 2] create -e /sanguo/wuguo <span class="hljs-string">&quot;zhouyu&quot;</span><br>Created /sanguo/wuguo<br><br>æŸ¥çœ‹å´å›½, å´å›½åˆ›å»ºæˆåŠŸ<br>[zk: hadoop202:2181(CONNECTED) 3] <span class="hljs-built_in">ls</span> /sanguo<br>[shuguo, weiguo, wuguo]<br><br></code></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªå¸¦åºå·çš„ä¸´æ—¶èŠ‚ç‚¹<br>åªéœ€è¦åŠ ä¸Šå‚æ•°-s å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop202:2181(CONNECTED) 4] create -e -s /sanguo/wuguo <span class="hljs-string">&quot;zhouyu&quot;</span><br>Created /sanguo/wuguo0000000003<br><br>æŸ¥çœ‹åˆšåˆšåˆ›å»ºçš„èŠ‚ç‚¹<br>[zk: hadoop202:2181(CONNECTED) 5] <span class="hljs-built_in">ls</span> /sanguo<br>[shuguo, weiguo, wuguo, wuguo0000000003]<br><br></code></pre></td></tr></table></figure><p>æ–­å¼€<code>quit</code>è¿æ¥ä¹‹å, å´å›½(wuguo)å°±æ²¡æœ‰äº†, å› ä¸ºå´å›½åˆ›å»ºçš„æ—¶å€™æœ‰-e, -e è¡¨ç¤ºæ˜¯ä¸´æ—¶èŠ‚ç‚¹, ä¸´æ—¶èŠ‚ç‚¹æ–­å¼€è¿æ¥ä¹‹åå°±åˆ é™¤äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop202:2181(CONNECTED) 6] quit<br>[xiamu@hadoop202 zookeeper-3.5.7]$ bin/zkCli.sh -server hadoop202:2181<br><br>[zk: hadoop202:2181(CONNECTED) 0] <span class="hljs-built_in">ls</span> /sanguo<br>[shuguo, weiguo]<br><br></code></pre></td></tr></table></figure><p>**æ€»ç»“: **<br>-s è¡¨ç¤ºå¸¦åºå·<br>-e è¡¨ç¤ºä¸´æ—¶èŠ‚ç‚¹</p><h3 id="ä¿®æ”¹èŠ‚ç‚¹çš„å€¼"><a href="#ä¿®æ”¹èŠ‚ç‚¹çš„å€¼" class="headerlink" title="ä¿®æ”¹èŠ‚ç‚¹çš„å€¼"></a>ä¿®æ”¹èŠ‚ç‚¹çš„å€¼</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop202:2181(CONNECTED) 2] get -s /sanguo/weiguo<br>caocao<br>cZxid = 0x30000000c<br>ctime = Wed Feb 01 20:15:52 CST 2023<br>mZxid = 0x30000000c<br>mtime = Wed Feb 01 20:15:52 CST 2023<br>pZxid = 0x30000000e<br>cversion = 2<br>dataVersion = 0<br>aclVersion = 0<br>ephemeralOwner = 0x0<br>dataLength = 6<br>numChildren = 2<br>[zk: hadoop202:2181(CONNECTED) 4] <span class="hljs-built_in">set</span> /sanguo/weiguo <span class="hljs-string">&quot;simayi&quot;</span><br>[zk: hadoop202:2181(CONNECTED) 5] get -s /sanguo/weiguo<br>simayi<br>cZxid = 0x30000000c<br>ctime = Wed Feb 01 20:15:52 CST 2023<br>mZxid = 0x300000016<br>mtime = Wed Feb 01 20:29:31 CST 2023<br>pZxid = 0x30000000e<br>cversion = 2<br>dataVersion = 1<br>aclVersion = 0<br>ephemeralOwner = 0x0<br>dataLength = 6<br>numChildren = 2<br><br><br>[zk: hadoop202:2181(CONNECTED) 8] get /sanguo/weiguo<br>simayi<br><br></code></pre></td></tr></table></figure><h2 id="ç›‘å¬å™¨åŠèŠ‚ç‚¹åˆ é™¤"><a href="#ç›‘å¬å™¨åŠèŠ‚ç‚¹åˆ é™¤" class="headerlink" title="ç›‘å¬å™¨åŠèŠ‚ç‚¹åˆ é™¤"></a>ç›‘å¬å™¨åŠèŠ‚ç‚¹åˆ é™¤</h2><h3 id="ç›‘å¬èŠ‚ç‚¹çš„å€¼"><a href="#ç›‘å¬èŠ‚ç‚¹çš„å€¼" class="headerlink" title="ç›‘å¬èŠ‚ç‚¹çš„å€¼"></a>ç›‘å¬èŠ‚ç‚¹çš„å€¼</h3><p>åœ¨ hadoop204 ä¸­, <code>get -s /sanguo</code>æŸ¥çœ‹ sanguo çš„å€¼, å¹¶ä¸”ä½¿ç”¨<code>get -w /sanguo</code>ç›‘æ§ sanguo</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop204(CONNECTED) 0] get -s /sanguo<br>diaochan<br>cZxid = 0x30000000a<br>ctime = Wed Feb 01 20:12:01 CST 2023<br>mZxid = 0x30000000a<br>mtime = Wed Feb 01 20:12:01 CST 2023<br>pZxid = 0x300000014<br>cversion = 6<br>dataVersion = 0<br>aclVersion = 0<br>ephemeralOwner = 0x0<br>dataLength = 8<br>numChildren = 2<br>[zk: hadoop204(CONNECTED) 1] get -w /sanguo<br>diaochan<br><br><br></code></pre></td></tr></table></figure><p>åœ¨ hadoop203 ä¸­ä¿®æ”¹ sanguo çš„å€¼, åœ¨ hadoop204 çš„é€‰é¡¹å¡ä¼šå‡ºç°ä¸€ä¸ªæ„Ÿå¹å·<br>åªæœ‰ hadoop203 ç¬¬ä¸€æ¬¡ä¿®æ”¹çš„æ—¶å€™ hadoop204 ä¼šå‡ºç°ä¸€ä¸ªæ„Ÿå¹å·,<br>hadoop203 ä¿®æ”¹å¤šæ¬¡, hadoop204 åªä¼šå‡ºç°ä¸€ä¸ªæ„Ÿå¹å·, å› ä¸º hadoop204 åªç›‘å¬ä¸€æ¬¡<br>å¦‚æœæƒ³å†æ¬¡ç›‘å¬, éœ€è¦å†æ¬¡åœ¨ hadoop204 æ³¨å†Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop203(CONNECTED) 3] <span class="hljs-built_in">set</span> /sanguo <span class="hljs-string">&quot;xisi&quot;</span><br>[zk: hadoop203(CONNECTED) 4] <span class="hljs-built_in">set</span> /sanguo <span class="hljs-string">&quot;yangfeiyan&quot;</span><br><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fmq-1qc0phaQob9poEpyU5X5Sd2X.png"></p><h3 id="ç›‘å¬èŠ‚ç‚¹çš„è·¯å¾„å˜åŒ–"><a href="#ç›‘å¬èŠ‚ç‚¹çš„è·¯å¾„å˜åŒ–" class="headerlink" title="ç›‘å¬èŠ‚ç‚¹çš„è·¯å¾„å˜åŒ–"></a>ç›‘å¬èŠ‚ç‚¹çš„è·¯å¾„å˜åŒ–</h3><p>åœ¨ hadoop204 ä¸­ä½¿ç”¨<code>ls -w /sanguo</code>ç›‘å¬ sanguo çš„è·¯å¾„å˜åŒ–<br>åœ¨ hadoop203 ä¸­æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹, hadoop204 ä¸­å‡ºç°å¹å·, åŒæ ·ä¹Ÿæ˜¯æ³¨å†Œä¸€æ¬¡ç”Ÿæ•ˆä¸€æ¬¡, åˆ›å»ºå¤šä¸ªèŠ‚ç‚¹ä¹Ÿå°±åªä¼šå‡ºç°ä¸€ä¸ªå¹å·, é™¤éå†æ¬¡å¼€å¯ç›‘å¬<br><img src="http://cdn.xiamu.icu//FqbwPnz9Ln1HD3-Q8OjdbDZuOp2D.png"></p><h3 id="åˆ é™¤èŠ‚ç‚¹"><a href="#åˆ é™¤èŠ‚ç‚¹" class="headerlink" title="åˆ é™¤èŠ‚ç‚¹"></a>åˆ é™¤èŠ‚ç‚¹</h3><p>åˆ é™¤èŠ‚ç‚¹å’Œé€’å½’åˆ é™¤èŠ‚ç‚¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop204(CONNECTED) 7] <span class="hljs-built_in">ls</span> /<br>[sanguo, zookeeper]<br>[zk: hadoop204(CONNECTED) 8] <span class="hljs-built_in">ls</span> /sanguo<br>[jin, jin1, shuguo, weiguo]<br>[zk: hadoop204(CONNECTED) 9] delete /sanguo/jin<br>[zk: hadoop204(CONNECTED) 10] <span class="hljs-built_in">ls</span> /sanguo<br>[jin1, shuguo, weiguo]<br>[zk: hadoop204(CONNECTED) 12] delete /sanguo<br>Node not empty: /sanguo<br>[zk: hadoop204(CONNECTED) 13] deleteall /sanguo<br>[zk: hadoop204(CONNECTED) 14] <span class="hljs-built_in">ls</span> /sanguo<br>Node does not exist: /sanguo<br>[zk: hadoop204(CONNECTED) 15] <span class="hljs-built_in">ls</span> /<br>[zookeeper]<br><br></code></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€"><a href="#æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€"></a>æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€</h3><p>æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€, ä½†æ˜¯ä¸æŸ¥çœ‹å€¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">[zk: hadoop204(CONNECTED) 21] <span class="hljs-built_in">stat</span> /sanguo<br>cZxid = 0x30000002d<br>ctime = Wed Feb 01 21:07:20 CST 2023<br>mZxid = 0x30000002d<br>mtime = Wed Feb 01 21:07:20 CST 2023<br>pZxid = 0x30000002d<br>cversion = 0<br>dataVersion = 0<br>aclVersion = 0<br>ephemeralOwner = 0x0<br>dataLength = 9<br>numChildren = 0<br><br></code></pre></td></tr></table></figure><h2 id="å®¢æˆ·ç«¯-åˆ›å»ºèŠ‚ç‚¹"><a href="#å®¢æˆ·ç«¯-åˆ›å»ºèŠ‚ç‚¹" class="headerlink" title="å®¢æˆ·ç«¯-åˆ›å»ºèŠ‚ç‚¹"></a>å®¢æˆ·ç«¯-åˆ›å»ºèŠ‚ç‚¹</h2><p>åˆ›å»º maven é¡¹ç›®<code>zookeeper</code><br>åœ¨ pom.xml å¯¼å…¥ä¾èµ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;dependencies&gt;<br>    &lt;dependency&gt;<br>        &lt;groupId&gt;junit&lt;/groupId&gt;<br>        &lt;artifactId&gt;junit&lt;/artifactId&gt;<br>        &lt;version&gt;RELEASE&lt;/version&gt;<br>    &lt;/dependency&gt;<br><br>    &lt;dependency&gt;<br>        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;<br>        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;<br>        &lt;version&gt;2.8.2&lt;/version&gt;<br>    &lt;/dependency&gt;<br><br>    &lt;dependency&gt;<br>        &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;<br>        &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;<br>        &lt;version&gt;3.5.7&lt;/version&gt;<br>    &lt;/dependency&gt;<br>&lt;/dependencies&gt;<br></code></pre></td></tr></table></figure><p>åœ¨ resource æ·»åŠ  log4j.properties é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">log4j.rootLogger=INFO, stdout<br>log4j.appender.stdout=org.apache.log4j.ConsoleAppender<br>log4j.appender.stdout.layout=org.apache.log4j.PatternLayout<br>log4j.appender.stdout.layout.ConversionPattern=%d %p [%c] - %m%n<br>log4j.appender.logfile=org.apache.log4j.FileAppender<br>log4j.appender.logfile.File=target/spring.log<br>log4j.appender.logfile.layout=org.apache.log4j.PatternLayout<br>log4j.appender.logfile.layout.ConversionPattern=%d %p [%c] - %m%n<br></code></pre></td></tr></table></figure><p>åˆ›å»ºåŒ…å<code>com.atguigu.zk</code><br>åˆ›å»ºç±»åç§°<code>zkClient</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash">public class zkClient &#123;<br><br>    // æ³¨æ„, é€—å·å·¦å³ä¸èƒ½æœ‰ç©ºæ ¼<br>    private String connectString = <span class="hljs-string">&quot;hadoop202:2181,hadoop203:2181,hadoop204:2181&quot;</span>;<br>    private int sessionTimeout = 2000;<br>    private ZooKeeper zooKeeper;<br><br>    // è¿æ¥zookeeper<br>    @Before<br>    public void init() throws IOException &#123;<br>        zooKeeper = new ZooKeeper(connectString, sessionTimeout, new <span class="hljs-function"><span class="hljs-title">Watcher</span></span>() &#123;<br>            @Override<br>            public void process(WatchedEvent watchedEvent) &#123;<br><br>            &#125;<br>        &#125;);<br>    &#125;<br><br>    @Test<br>    public void create() throws InterruptedException, KeeperException &#123;<br>        // åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹<br>        String nodeCreated = zooKeeper.create(<span class="hljs-string">&quot;/atguigu&quot;</span>, <span class="hljs-string">&quot;ss.avi&quot;</span>.getBytes(),<br>                ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="å®¢æˆ·ç«¯-ç›‘å¬èŠ‚ç‚¹çš„å˜åŒ–"><a href="#å®¢æˆ·ç«¯-ç›‘å¬èŠ‚ç‚¹çš„å˜åŒ–" class="headerlink" title="å®¢æˆ·ç«¯-ç›‘å¬èŠ‚ç‚¹çš„å˜åŒ–"></a>å®¢æˆ·ç«¯-ç›‘å¬èŠ‚ç‚¹çš„å˜åŒ–</h2><p>getChildren ä¸­ç¬¬äºŒä¸ªå‚æ•°ä¸º true ä¼šè°ƒç”¨ init ä¸­ new Watch(){â€¦}</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash">  @Before<br>  public void init() throws IOException &#123;<br>      zooKeeper = new ZooKeeper(connectString, sessionTimeout, new <span class="hljs-function"><span class="hljs-title">Watcher</span></span>() &#123;<br>          @Override<br>          public void process(WatchedEvent watchedEvent) &#123;<br>              List&lt;String&gt; children = null;<br>              try &#123;<br>                  children = zooKeeper.getChildren(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-literal">true</span>);<br>              &#125; catch (KeeperException e) &#123;<br>                  e.printStackTrace();<br>              &#125; catch (InterruptedException e) &#123;<br>                  e.printStackTrace();<br>              &#125;<br>              System.out.println(<span class="hljs-string">&quot;------------------&quot;</span>);<br>              <span class="hljs-keyword">for</span> (String child : children) &#123;<br>                  System.out.println(child);<br>              &#125;<br>              System.out.println(<span class="hljs-string">&quot;------------------&quot;</span>);<br>          &#125;<br>      &#125;);<br>  &#125;<br><br><br>@Test<br>  public void getChildren() throws InterruptedException, KeeperException &#123;<br>      List&lt;String&gt; children = zooKeeper.getChildren(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-literal">true</span>);<br><br>      Thread.<span class="hljs-built_in">sleep</span>(Long.MAX_VALUE);<br>  &#125;<br></code></pre></td></tr></table></figure><p>ç›‘å¬çš„åŒæ—¶, åœ¨ linux ä¸­æ·»åŠ &#x2F;åˆ é™¤èŠ‚ç‚¹, idea èƒ½ç›‘å¬å¾—åˆ°<br><img src="http://cdn.xiamu.icu//FtXhjPVhA1Tys_otpR_uijfuukAo.png"><br><img src="http://cdn.xiamu.icu//FsZm6TzE8INSUkqTrmtmQVIA2lY5.png"></p><h2 id="å®¢æˆ·ç«¯-åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨"><a href="#å®¢æˆ·ç«¯-åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨" class="headerlink" title="å®¢æˆ·ç«¯-åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨"></a>å®¢æˆ·ç«¯-åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">// åˆ¤æ–­Znodeæ˜¯å¦å­˜åœ¨<br>@Test<br>public void exist() throws InterruptedException, KeeperException &#123;<br>    Stat <span class="hljs-built_in">stat</span> = zooKeeper.exists(<span class="hljs-string">&quot;/atguigu&quot;</span>, <span class="hljs-literal">false</span>);<br>    System.out.println(<span class="hljs-built_in">stat</span> == null ? <span class="hljs-string">&quot;not exist&quot;</span> : <span class="hljs-string">&quot;exist&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å†™æ•°æ®åŸç†"><a href="#å†™æ•°æ®åŸç†" class="headerlink" title="å†™æ•°æ®åŸç†"></a>å†™æ•°æ®åŸç†</h2><p>ack è¡¨ç¤ºåº”ç­”<br>write è¡¨ç¤ºå†™æ“ä½œ<br><img src="http://cdn.xiamu.icu//FuK7zbV66YRHxh8BmN3wRG832Aul.png"><br><img src="http://cdn.xiamu.icu//FjOze3LIfkv2-WEGdNURdrdW2-0i.png"></p><h2 id="æœåŠ¡å™¨åŠ¨æ€ä¸Šä¸‹çº¿"><a href="#æœåŠ¡å™¨åŠ¨æ€ä¸Šä¸‹çº¿" class="headerlink" title="æœåŠ¡å™¨åŠ¨æ€ä¸Šä¸‹çº¿"></a>æœåŠ¡å™¨åŠ¨æ€ä¸Šä¸‹çº¿</h2><p><img src="http://cdn.xiamu.icu//FqILmd_t_GMvf-oidgQUnL-Sj_ON.png"></p><p>æ“ä½œä¸Šçº¿<br><img src="http://cdn.xiamu.icu//FqH9kCAQfDTwVBTeIS9C-vYZM14l.png"><br>æ“ä½œä¸‹çº¿<br><img src="http://cdn.xiamu.icu//FgsUd_bwbql-VQZMJ1J-CDfXp9Xy.png"></p><p>DistributeServer ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs bash">package com.atguigu.case1;<br><br>import org.apache.zookeeper.*;<br><br>import java.io.IOException;<br><br>public class DistributeServer &#123;<br>    private String connectString = <span class="hljs-string">&quot;hadoop202:2181,hadoop203:2181,hadoop204:2181&quot;</span>;<br>    private int sessionTimeout = 2000;<br>    private ZooKeeper zooKeeper;<br><br>    public static void main(String[] args) throws IOException, InterruptedException, KeeperException &#123;<br>        DistributeServer server = new DistributeServer();<br>        // è·å–zkè¿æ¥<br>        server.getConnect();<br><br>        // æ³¨å†ŒæœåŠ¡å™¨åˆ°zké›†ç¾¤<br>        server.register(args[0]);<br><br>        // å¯åŠ¨ä¸šåŠ¡é€»è¾‘(ç¡è§‰)<br>        server.bussiness();<br>    &#125;<br><br>    private void bussiness() throws InterruptedException &#123;<br>        Thread.<span class="hljs-built_in">sleep</span>(Long.MAX_VALUE);<br>    &#125;<br><br>    private void register(String hostname) throws InterruptedException, KeeperException &#123;<br>        String create = zooKeeper.create(<span class="hljs-string">&quot;/servers/&quot;</span> + hostname, hostname.getBytes(),<br>                ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.EPHEMERAL_SEQUENTIAL);<br><br>        System.out.println(hostname + <span class="hljs-string">&quot; is online&quot;</span>);<br>    &#125;<br><br>    private void getConnect() throws IOException &#123;<br>        zooKeeper = new ZooKeeper(connectString, sessionTimeout, new <span class="hljs-function"><span class="hljs-title">Watcher</span></span>() &#123;<br>            @Override<br>            public void process(WatchedEvent event) &#123;<br><br>            &#125;<br>        &#125;);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>DistributeClient ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs bash">package com.atguigu.case1;<br><br>import org.apache.zookeeper.KeeperException;<br>import org.apache.zookeeper.WatchedEvent;<br>import org.apache.zookeeper.Watcher;<br>import org.apache.zookeeper.ZooKeeper;<br><br>import java.io.IOException;<br>import java.util.ArrayList;<br>import java.util.List;<br><br>public class DistributeClient &#123;<br>    private String connectString = <span class="hljs-string">&quot;hadoop202:2181,hadoop203:2181,hadoop204:2181&quot;</span>;<br>    private int sessionTimeout = 2000;<br>    private ZooKeeper zooKeeper;<br><br><br>    public static void main(String[] args) throws InterruptedException, IOException, KeeperException &#123;<br>        DistributeClient client = new DistributeClient();<br><br>        // è·å–zkè¿æ¥<br>        client.getConnect();<br><br>        // ç›‘å¬/serversä¸‹é¢å­èŠ‚ç‚¹çš„å¢åŠ å’Œåˆ é™¤<br>        client.getServerList();<br><br>        // ä¸šåŠ¡é€»è¾‘(ç¡è§‰)<br>        client.bussiness();<br>    &#125;<br><br>    private void bussiness() throws InterruptedException &#123;<br>        Thread.<span class="hljs-built_in">sleep</span>(Long.MAX_VALUE);<br>    &#125;<br><br>    private void getServerList() throws InterruptedException, KeeperException &#123;<br>        List&lt;String&gt; children = zooKeeper.getChildren(<span class="hljs-string">&quot;/servers&quot;</span>, <span class="hljs-literal">true</span>);<br>        ArrayList&lt;String&gt; servers = new ArrayList&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (String child : children) &#123;<br>            byte[] data = zooKeeper.getData(<span class="hljs-string">&quot;/servers/&quot;</span> + child, <span class="hljs-literal">false</span>, null);<br>            servers.add(new String(data));<br>        &#125;<br><br>        System.out.println(servers);<br>    &#125;<br><br>    private void getConnect() throws IOException &#123;<br>        zooKeeper = new ZooKeeper(connectString, sessionTimeout, new <span class="hljs-function"><span class="hljs-title">Watcher</span></span>() &#123;<br>            @Override<br>            public void process(WatchedEvent event) &#123;<br>                try &#123;<br>                    getServerList();<br>                &#125; catch (Exception e) &#123;<br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fq4oqdyS3utMXF2Ad_7n4xC9T3mZ.png"><br>tips:<br>è¿è¡Œ main çš„æ—¶å€™éœ€è¦ä¼ å…¥å‚æ•°, åœ¨ idea ä¸­ä¼ å…¥å‚æ•°çš„æ–¹å¼å¦‚ä¸‹<br>åœ¨ Program arguments ä¸­å¡«å†™ä¼ å…¥çš„å‚æ•°<br><img src="http://cdn.xiamu.icu//Fus9z-vjmtEyREnMCAaVzRq2SHj-.png"></p><h2 id="åˆ†å¸ƒå¼é”"><a href="#åˆ†å¸ƒå¼é”" class="headerlink" title="åˆ†å¸ƒå¼é”"></a>åˆ†å¸ƒå¼é”</h2><p>ä»€ä¹ˆå«åšåˆ†å¸ƒå¼é”å‘¢ï¼Ÿ<br>æ¯”å¦‚è¯´â€è¿›ç¨‹ 1â€åœ¨ä½¿ç”¨è¯¥èµ„æºçš„æ—¶å€™ï¼Œä¼šå…ˆå»è·å¾—é”ï¼Œâ€è¿›ç¨‹ 1â€è·å¾—é”ä»¥åä¼šå¯¹è¯¥èµ„æºä¿æŒç‹¬å ï¼Œè¿™æ ·å…¶ä»–è¿›ç¨‹å°±æ— æ³•è®¿é—®è¯¥èµ„æºï¼Œâ€è¿›ç¨‹ 1â€ç”¨å®Œè¯¥èµ„æºä»¥åå°±å°†é”é‡Šæ”¾æ‰ï¼Œè®©å…¶ä»–è¿›ç¨‹æ¥è·å¾—é”ï¼Œé‚£ä¹ˆé€šè¿‡è¿™ä¸ªé”æœºåˆ¶ï¼Œæˆ‘ä»¬å°±èƒ½ä¿è¯äº†åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¤šä¸ªè¿›ç¨‹èƒ½å¤Ÿæœ‰åºçš„è®¿é—®è¯¥ä¸´ç•Œèµ„æºã€‚é‚£ä¹ˆæˆ‘ä»¬æŠŠè¿™ä¸ªåˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„è¿™ä¸ªé”å«ä½œåˆ†å¸ƒå¼é”ã€‚<br><img src="http://cdn.xiamu.icu//FmbrP7XR5ORbghM8M4vzOa_vY777.png"><br>DistributedLock ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs bash">package com.atguigu.case2;<br><br>import org.apache.zookeeper.*;<br>import org.apache.zookeeper.data.Stat;<br><br>import java.io.IOException;<br>import java.util.Collections;<br>import java.util.List;<br>import java.util.concurrent.CountDownLatch;<br><br>public class DistributedLock &#123;<br><br>    private final String connectString = <span class="hljs-string">&quot;hadoop202:2181,hadoop203:2181,hadoop204:2181&quot;</span>;<br>    private final int sessionTimeout = 2000;<br>    private final ZooKeeper zooKeeper;<br><br>    private CountDownLatch countDownLatch = new CountDownLatch(1);<br>    private CountDownLatch waitLatch = new CountDownLatch(1);<br>    private String currentMode;<br>    private String waitPath;<br><br>    public DistributedLock() throws IOException, InterruptedException, KeeperException &#123;<br>        // è·å–è¿æ¥<br>        zooKeeper = new ZooKeeper(connectString, sessionTimeout, new <span class="hljs-function"><span class="hljs-title">Watcher</span></span>() &#123;<br>            @Override<br>            public void process(WatchedEvent watchedEvent) &#123;<br>                // connectLatch å¦‚æœè¿æ¥ä¸Šzk å¯ä»¥é‡Šæ”¾<br>                <span class="hljs-keyword">if</span> (watchedEvent.getState() == Event.KeeperState.SyncConnected) &#123;<br>                    countDownLatch.countDown();<br>                &#125;<br><br>                // waitLatch éœ€è¦é‡Šæ”¾<br>                <span class="hljs-keyword">if</span> (watchedEvent.getType() == Event.EventType.NodeDeleted<br>                        &amp;&amp; watchedEvent.getPath().equals(waitPath)) &#123;<br>                    waitLatch.countDown();<br>                &#125;<br>            &#125;<br>        &#125;);<br><br>        // ç­‰å¾…zkæ­£å¸¸è¿æ¥å, å¾€ä¸‹èµ°ç¨‹åº<br>        countDownLatch.await();<br><br>        // åˆ¤æ–­æ ¹èŠ‚ç‚¹/locksæ˜¯å¦å­˜åœ¨<br>        Stat <span class="hljs-built_in">stat</span> = zooKeeper.exists(<span class="hljs-string">&quot;/locks&quot;</span>, <span class="hljs-literal">false</span>);<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">stat</span> == null) &#123;<br>            // åˆ›å»ºä¸€ä¸‹æ ¹èŠ‚ç‚¹<br>            zooKeeper.create(<span class="hljs-string">&quot;/locks&quot;</span>, <span class="hljs-string">&quot;locks&quot;</span>.getBytes(), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);<br>        &#125;<br>    &#125;<br><br>    // å¯¹zkåŠ é”<br>    public void <span class="hljs-function"><span class="hljs-title">zkLock</span></span>() &#123;<br>        // åˆ›å»ºå¯¹åº”çš„ä¸´æ—¶å¸¦åºå·èŠ‚ç‚¹<br>        try &#123;<br>            currentMode = zooKeeper.create(<span class="hljs-string">&quot;/locks/&quot;</span> + <span class="hljs-string">&quot;seq-&quot;</span>, null, ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.EPHEMERAL_SEQUENTIAL);<br><br>            // åˆ¤æ–­åˆ›å»ºçš„èŠ‚ç‚¹æ˜¯å¦æ˜¯æœ€å°åºå·èŠ‚ç‚¹, å¦‚æœæ˜¯è·å–åˆ°é”, å¦‚æœä¸æ˜¯, ç›‘å¬åºå·å‰ä¸€ä¸ªèŠ‚ç‚¹<br>            List&lt;String&gt; children = zooKeeper.getChildren(<span class="hljs-string">&quot;/locks&quot;</span>, <span class="hljs-literal">false</span>);<br><br>            // å¦‚æœchildren åªæœ‰ä¸€ä¸ªå€¼, é‚£å°±ç›´æ¥è·å–é”, å¦‚æœæœ‰å¤šä¸ªèŠ‚ç‚¹, éœ€è¦åˆ¤æ–­, è°æœ€å°<br>            <span class="hljs-keyword">if</span> (children.size() == 1) &#123;<br>                <span class="hljs-built_in">return</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                Collections.<span class="hljs-built_in">sort</span>(children);<br><br>                // è·å–èŠ‚ç‚¹åç§° seq-00000000<br>                String thisNode = currentMode.substring(<span class="hljs-string">&quot;/locks/&quot;</span>.length());<br>                // é€šè¿‡seq-00000000è·å–è¯¥èŠ‚ç‚¹åœ¨childrenç»“åˆçš„ä½ç½®<br>                int index = children.indexOf(thisNode);<br><br>                // åˆ¤æ–­<br>                <span class="hljs-keyword">if</span> (index == -1) &#123;<br>                    System.out.println(<span class="hljs-string">&quot;æ•°æ®å¼‚å¸¸&quot;</span>);<br>                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index == 0) &#123;<br>                    // å°±ä¸€ä¸ªèŠ‚ç‚¹, å¯ä»¥è·å–é”äº†<br>                    <span class="hljs-built_in">return</span>;<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    // éœ€è¦ç›‘å¬ä»–å‰ä¸€ä¸ªèŠ‚ç‚¹å˜åŒ–<br>                    waitPath = <span class="hljs-string">&quot;/locks/&quot;</span> + children.get(index - 1);<br>                    zooKeeper.getData(waitPath, <span class="hljs-literal">true</span>, null);<br><br>                    // ç­‰å¾…ç›‘å¬<br>                    waitLatch.await();<br><br>                    <span class="hljs-built_in">return</span>;<br>                &#125;<br>            &#125;<br><br>        &#125; catch (KeeperException e) &#123;<br>            e.printStackTrace();<br>        &#125; catch (InterruptedException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br><br>    // è§£é”<br>    public void <span class="hljs-function"><span class="hljs-title">unZkLock</span></span>() &#123;<br>        // åˆ é™¤èŠ‚ç‚¹<br>        try &#123;<br>            zooKeeper.delete(currentMode, -1);<br>        &#125; catch (InterruptedException e) &#123;<br>            e.printStackTrace();<br>        &#125; catch (KeeperException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>DistributedLockTest ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs bash">package com.atguigu.case2;<br><br>import org.apache.zookeeper.KeeperException;<br><br>import java.io.IOException;<br><br>public class DistributedLockTest &#123;<br>    public static void main(String[] args) throws IOException, InterruptedException, KeeperException &#123;<br>        final DistributedLock lock1 = new DistributedLock();<br>        final DistributedLock lock2 = new DistributedLock();<br><br>        new Thread(new <span class="hljs-function"><span class="hljs-title">Runnable</span></span>() &#123;<br>            @Override<br>            public void <span class="hljs-function"><span class="hljs-title">run</span></span>() &#123;<br>                try &#123;<br>                    lock1.zkLock();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹1å¯åŠ¨ è·å–åˆ°é”&quot;</span>);<br>                    Thread.<span class="hljs-built_in">sleep</span>(5 * 1000);<br><br>                    lock1.unZkLock();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹1 é‡Šæ”¾é”&quot;</span>);<br>                &#125; catch (InterruptedException e) &#123;<br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;).start();<br><br>        new Thread(new <span class="hljs-function"><span class="hljs-title">Runnable</span></span>() &#123;<br>            @Override<br>            public void <span class="hljs-function"><span class="hljs-title">run</span></span>() &#123;<br>                try &#123;<br>                    lock2.zkLock();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹2å¯åŠ¨ è·å–åˆ°é”&quot;</span>);<br>                    Thread.<span class="hljs-built_in">sleep</span>(5 * 1000);<br><br>                    lock2.unZkLock();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹2 é‡Šæ”¾é”&quot;</span>);<br>                &#125; catch (InterruptedException e) &#123;<br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;).start();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹:<br>çº¿ç¨‹ 2 å…ˆè·å–é”, å½“é”é‡Šæ”¾æ‰ä¹‹å, æ‰ä¼šç»™å…¶ä»–çº¿ç¨‹ä¸Šé”<br><img src="http://cdn.xiamu.icu//FgVm80ZOqotskMbUSOO63uoZCNoL.png"></p><h2 id="Curator-æ¡†æ¶å®ç°åˆ†å¸ƒå¼é”æ¡ˆä¾‹"><a href="#Curator-æ¡†æ¶å®ç°åˆ†å¸ƒå¼é”æ¡ˆä¾‹" class="headerlink" title="Curator æ¡†æ¶å®ç°åˆ†å¸ƒå¼é”æ¡ˆä¾‹"></a>Curator æ¡†æ¶å®ç°åˆ†å¸ƒå¼é”æ¡ˆä¾‹</h2><p>pom.xml å¯¼å…¥ä¾èµ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;dependency&gt;<br>    &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;<br>    &lt;artifactId&gt;curator-framework&lt;/artifactId&gt;<br>    &lt;version&gt;4.3.0&lt;/version&gt;<br>&lt;/dependency&gt;<br>&lt;dependency&gt;<br>    &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;<br>    &lt;artifactId&gt;curator-recipes&lt;/artifactId&gt;<br>    &lt;version&gt;4.3.0&lt;/version&gt;<br>&lt;/dependency&gt;<br>&lt;dependency&gt;<br>    &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;<br>    &lt;artifactId&gt;curator-client&lt;/artifactId&gt;<br>    &lt;version&gt;4.3.0&lt;/version&gt;<br>&lt;/dependency&gt;<br></code></pre></td></tr></table></figure><p>CuratorLockTest ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs bash">package com.atguigu.case3;<br><br>import org.apache.curator.framework.CuratorFramework;<br>import org.apache.curator.framework.CuratorFrameworkFactory;<br>import org.apache.curator.framework.recipes.locks.InterProcessMutex;<br>import org.apache.curator.retry.ExponentialBackoffRetry;<br><br>public class CuratorLockTest &#123;<br>    public static void main(String[] args) &#123;<br>        // åˆ›å»ºåˆ†å¸ƒå¼é”1<br>        InterProcessMutex lock1 = new InterProcessMutex(getCuratorFramework(), <span class="hljs-string">&quot;/locks&quot;</span>);<br><br>        // åˆ›å»ºåˆ†å¸ƒå¼é”2<br>        InterProcessMutex lock2 = new InterProcessMutex(getCuratorFramework(), <span class="hljs-string">&quot;/locks&quot;</span>);<br><br>        new Thread(new <span class="hljs-function"><span class="hljs-title">Runnable</span></span>() &#123;<br>            @Override<br>            public void <span class="hljs-function"><span class="hljs-title">run</span></span>() &#123;<br>                try &#123;<br>                    lock1.acquire();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹1 è·å–åˆ°é”&quot;</span>);<br><br>                    lock1.acquire();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹1 å†æ¬¡è·å–åˆ°é”&quot;</span>);<br><br>                    Thread.<span class="hljs-built_in">sleep</span>(5 * 1000);<br><br>                    lock1.release();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹1 é‡Šæ”¾é”&quot;</span>);<br><br>                    lock1.release();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹1 å†æ¬¡é‡Šæ”¾é”&quot;</span>);<br><br>                &#125; catch (Exception e) &#123;<br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;).start();<br><br>        new Thread(new <span class="hljs-function"><span class="hljs-title">Runnable</span></span>() &#123;<br>            @Override<br>            public void <span class="hljs-function"><span class="hljs-title">run</span></span>() &#123;<br>                try &#123;<br>                    lock2.acquire();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹2 è·å–åˆ°é”&quot;</span>);<br><br>                    lock2.acquire();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹2 å†æ¬¡è·å–åˆ°é”&quot;</span>);<br><br>                    Thread.<span class="hljs-built_in">sleep</span>(5 * 1000);<br><br>                    lock2.release();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹2 é‡Šæ”¾é”&quot;</span>);<br><br>                    lock2.release();<br>                    System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹2 å†æ¬¡é‡Šæ”¾é”&quot;</span>);<br><br>                &#125; catch (Exception e) &#123;<br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;).start();<br>    &#125;<br><br>    private static CuratorFramework <span class="hljs-function"><span class="hljs-title">getCuratorFramework</span></span>() &#123;<br><br>        ExponentialBackoffRetry policy = new ExponentialBackoffRetry(3000, 3);<br><br>        CuratorFramework client = CuratorFrameworkFactory.builder()<br>                .connectString(<span class="hljs-string">&quot;hadoop202:2181,hadoop203:2181,hadoop204:2181&quot;</span>)<br>                .connectionTimeoutMs(2000)<br>                .sessionTimeoutMs(2000)<br>                .retryPolicy(policy)<br>                .build();<br><br>        // å¯åŠ¨å®¢æˆ·ç«¯<br>        client.start();<br><br>        System.out.println(<span class="hljs-string">&quot;zookeeper å¯åŠ¨æˆåŠŸ&quot;</span>);<br><br>        <span class="hljs-built_in">return</span> client;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>è¯´æ˜åŒä¸€ä¸ªçº¿ç¨‹ä¸­é”æ˜¯å¯ä»¥å¤šæ¬¡è·å–çš„<br><img src="http://cdn.xiamu.icu//FlypVeE8541AHqPHg1zJJQbnGTWQ.png"></p><h2 id="ä¼ä¸šé¢è¯•çœŸé¢˜ï¼ˆé¢è¯•é‡ç‚¹ï¼‰"><a href="#ä¼ä¸šé¢è¯•çœŸé¢˜ï¼ˆé¢è¯•é‡ç‚¹ï¼‰" class="headerlink" title="ä¼ä¸šé¢è¯•çœŸé¢˜ï¼ˆé¢è¯•é‡ç‚¹ï¼‰"></a>ä¼ä¸šé¢è¯•çœŸé¢˜ï¼ˆé¢è¯•é‡ç‚¹ï¼‰</h2><h3 id="é€‰ä¸¾æœºåˆ¶"><a href="#é€‰ä¸¾æœºåˆ¶" class="headerlink" title="é€‰ä¸¾æœºåˆ¶"></a>é€‰ä¸¾æœºåˆ¶</h3><p>åŠæ•°æœºåˆ¶ï¼Œè¶…è¿‡åŠæ•°çš„æŠ•ç¥¨é€šè¿‡ï¼Œå³é€šè¿‡ã€‚<br>ï¼ˆ1ï¼‰ ç¬¬ä¸€æ¬¡å¯åŠ¨é€‰ä¸¾è§„åˆ™ï¼š<br>æŠ•ç¥¨è¿‡åŠæ•°æ—¶ï¼ŒæœåŠ¡å™¨ id å¤§çš„èƒœå‡º<br>ï¼ˆ2ï¼‰ ç¬¬äºŒæ¬¡å¯åŠ¨é€‰ä¸¾è§„åˆ™ï¼š<br>â‘ EPOCH å¤§çš„ç›´æ¥èƒœå‡º<br>â‘¡EPOCH ç›¸åŒï¼Œäº‹åŠ¡ id å¤§çš„èƒœå‡º<br>â‘¢ äº‹åŠ¡ id ç›¸åŒï¼ŒæœåŠ¡å™¨ id å¤§çš„èƒœå‡º</p><h3 id="ç”Ÿäº§é›†ç¾¤å®‰è£…å¤šå°‘-zk-åˆé€‚ï¼Ÿ"><a href="#ç”Ÿäº§é›†ç¾¤å®‰è£…å¤šå°‘-zk-åˆé€‚ï¼Ÿ" class="headerlink" title="ç”Ÿäº§é›†ç¾¤å®‰è£…å¤šå°‘ zk åˆé€‚ï¼Ÿ"></a>ç”Ÿäº§é›†ç¾¤å®‰è£…å¤šå°‘ zk åˆé€‚ï¼Ÿ</h3><p>å®‰è£…å¥‡æ•°å°ã€‚ç”Ÿäº§ç»éªŒï¼š<br>l 10 å°æœåŠ¡å™¨ï¼š3 å° zkï¼›<br>l 20 å°æœåŠ¡å™¨ï¼š5 å° zkï¼›<br>l 100 å°æœåŠ¡å™¨ï¼š11 å° zkï¼›<br>l 200 å°æœåŠ¡å™¨ï¼š11 å° zk<br>æœåŠ¡å™¨å°æ•°å¤šï¼šå¥½å¤„ï¼Œæé«˜å¯é æ€§ï¼›åå¤„ï¼šæé«˜é€šä¿¡å»¶æ—¶</p><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><p>lsã€getã€createã€delete</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>ZooKeeper</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Yarn</title>
    <link href="/Hadoop/Yarn/"/>
    <url>/Hadoop/Yarn/</url>
    
    <content type="html"><![CDATA[<p>æŒ‡å®šå‘ hive å¯¹è±¡æäº¤ä»»åŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 hadoop-3.1.3]$ hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount -D mapreduce.job.queuename=hive /input /output5<br><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥åœ¨æ‰“åŒ…ä¹‹å‰çš„é©±åŠ¨æŒ‡å®šå‘å…¶ä»–é˜Ÿåˆ—æäº¤ä½œä¸š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">public class WcDrvier &#123;<br><br>    public static void main(String[] args) throws IOException, ClassNotFoundException, InterruptedException &#123;<br><br>        Configuration conf = new Configuration();<br><br>        conf.set(<span class="hljs-string">&quot;mapreduce.job.queuename&quot;</span>,<span class="hljs-string">&quot;hive&quot;</span>);<br><br>        //1. è·å–ä¸€ä¸ªJobå®ä¾‹<br>        Job job = Job.getInstance(conf);<br><br>        ã€‚ã€‚ã€‚ ã€‚ã€‚ã€‚<br><br>        //6. æäº¤Job<br>        boolean b = job.waitForCompletion(<span class="hljs-literal">true</span>);<br>        System.<span class="hljs-built_in">exit</span>(b ? 0 : 1);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Hadoop</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hadoop</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MapReduce</title>
    <link href="/Hadoop/MapReduce/"/>
    <url>/Hadoop/MapReduce/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¼–å†™-WordCount"><a href="#ç¼–å†™-WordCount" class="headerlink" title="ç¼–å†™ WordCount"></a>ç¼–å†™ WordCount</h2><p>WordCountMapper ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">/**<br> * KEYIN, mapé˜¶æ®µè¾“å…¥çš„keyçš„ç±»å‹: LongWritable<br> * VALUEIN, mapé˜¶æ®µè¾“å…¥valueç±»å‹: Text<br> * KEYOUT, mapé˜¶æ®µè¾“å‡ºçš„Keyç±»å‹: Text<br> * VALUEOUT, mapé˜¶æ®µè¾“å‡ºçš„valueç±»å‹: IntWritable<br> */<br>public class WordCountMapper extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; &#123;<br><br>    private Text outK = new Text();<br>    private IntWritable outV = new IntWritable(1);<br><br>    @Override<br>    protected void map(LongWritable key, Text value, Mapper&lt;LongWritable, Text, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException &#123;<br>        // 1.è·å–ä¸€è¡Œ<br>        String line = key.toString();<br><br>        // 2.åˆ‡å‰²<br>        String[] words = line.split(<span class="hljs-string">&quot; &quot;</span>);<br><br>        // 3.å¾ªç¯å†™å‡º<br>        <span class="hljs-keyword">for</span> (String word : words) &#123;<br>            outK.<span class="hljs-built_in">set</span>(word);<br>            context.write(outK, outV);<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>WordCountDriver</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs bash">public class WordCountDriver &#123;<br>    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException &#123;<br>        // 1.è·å–job<br>        Configuration conf = new Configuration();<br>        Job job = Job.getInstance(conf);<br><br>        // 2.è®¾ç½®jaråŒ…è·¯å¾„<br>        job.setJarByClass(WordCountDriver.class);<br><br>        // 3.å…³è”mapperå’Œreducer<br>        job.setMapperClass(WordCountMapper.class);<br>        job.setReducerClass(WordCountReducer.class);<br><br>        // 4.è®¾ç½®mapè¾“å‡ºçš„kvç±»å‹<br>        job.setMapOutputKeyClass(Text.class);<br>        job.setOutputValueClass(IntWritable.class);<br><br>        // 5.è®¾ç½®æœ€ç»ˆè¾“å‡ºçš„kvç±»å‹<br>        job.setOutputKeyClass(Text.class);<br>        job.setOutputValueClass(IntWritable.class);<br><br>        // 6.è®¾ç½®è¾“å…¥è·¯å¾„å’Œè¾“å‡ºè·¯å¾„<br>        FileInputFormat.addInputPath(job, new Path(<span class="hljs-string">&quot;E:\\hadoop\\input&quot;</span>));<br>        FileOutputFormat.setOutputPath(job, new Path(<span class="hljs-string">&quot;E:\\hadoop\\output666&quot;</span>));<br><br>        // 7.æäº¤job<br>        boolean result = job.waitForCompletion(<span class="hljs-literal">true</span>);<br><br>        System.<span class="hljs-built_in">exit</span>(result ? 0 : 1);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>WordCountMapper</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash">/**<br> * KEYIN, reduceé˜¶æ®µè¾“å…¥çš„keyçš„ç±»å‹: LongWritable<br> * VALUEIN, reduceé˜¶æ®µè¾“å…¥valueç±»å‹: Text<br> * KEYOUT, reduceé˜¶æ®µè¾“å‡ºçš„Keyç±»å‹: Text<br> * VALUEOUT, reduceé˜¶æ®µè¾“å‡ºçš„valueç±»å‹: IntWritable<br> */<br>public class WordCountReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; &#123;<br><br>    private IntWritable outV = new IntWritable();<br><br>    @Override<br>    protected void reduce(Text key, Iterable&lt;IntWritable&gt; values, Reducer&lt;Text, IntWritable, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException &#123;<br><br>        int <span class="hljs-built_in">sum</span> = 0;<br>        // ç´¯åŠ <br>        <span class="hljs-keyword">for</span> (IntWritable value : values) &#123;<br>            <span class="hljs-built_in">sum</span> += value.get();<br>        &#125;<br><br>        outV.<span class="hljs-built_in">set</span>(<span class="hljs-built_in">sum</span>);<br><br>        // å†™å‡º<br>        context.write(key, outV);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>å°†ä»£ç æ‰“åŒ…ä¸Šä¼ åˆ° hadoop, ç„¶åè¿›è¡Œæµ‹è¯•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 hadoop-3.1.3]$ hadoop jar wc.jar com.atguigu.mapreduce.wordcount2.WordCountDriver /input /output<br><br></code></pre></td></tr></table></figure><h2 id="Partition-åˆ†åŒº"><a href="#Partition-åˆ†åŒº" class="headerlink" title="Partition åˆ†åŒº"></a>Partition åˆ†åŒº</h2><p>åˆ†åŒºæ€»ç»“<br>(1) å¦‚æœ ReduceTask çš„æ•°é‡&gt;getPartition çš„ç»“æœæ•°, åˆ™ä¼šå¤šäº§ç”Ÿå‡ ä¸ªç©ºçš„è¾“å‡ºæ–‡ä»¶ part-r-000xx;<br>(2) å¦‚æœ 1&lt;ReduceTask çš„æ•°é‡&lt;getPartition çš„ç»“æœæ•°, åˆ™æœ‰ä¸€éƒ¨åˆ†åˆ†åŒºæ•°æ®æ— å¤„å®‰æ”¾, ä¼š Exception<br>(3) å¦‚æœ ReduceTask çš„æ•°é‡&#x3D;1, åˆ™ä¸ç®¡ MapTask ç«¯è¾“å‡ºå¤šå°‘ä¸ªåˆ†åŒºæ–‡ä»¶, æœ€ç»ˆç»“æœéƒ½äº¤ç»™è¿™ä¸€ä¸ª ReduceTask, æœ€ç»ˆä¹Ÿå°±åªä¼šäº§ç”Ÿä¸€ä¸ªç»“æœæ–‡ä»¶ part-r-00000;<br>(4) åˆ†åŒºå·å¿…é¡»ä»é›¶å¼€å§‹, é€ä¸€ç´¯åŠ </p><p>ä¾‹å¦‚: å‡è®¾è‡ªå®šä¹‰åˆ†åŒºæ•°ä¸º 5, åˆ™<br>(1) job.setNumReduceTasks(1); ä¼šæ­£å¸¸è¿è¡Œ, åªä¸è¿‡ä¼šäº§ç”Ÿä¸€ä¸ªè¾“å‡ºæ–‡ä»¶<br>(2) job.setNumReduceTasks(2); ä¼šæŠ¥é”™<br>(3) job.setNumReduceTasks(6);</p><h2 id="MapTask-å·¥ä½œæœºåˆ¶"><a href="#MapTask-å·¥ä½œæœºåˆ¶" class="headerlink" title="MapTask å·¥ä½œæœºåˆ¶"></a>MapTask å·¥ä½œæœºåˆ¶</h2><p>Read é˜¶æ®µ, Map é˜¶æ®µ, Collect é˜¶æ®µ, æº¢å†™é˜¶æ®µ, Merge é˜¶æ®µ<br><img src="http://cdn.xiamu.icu//Fmgj8p7YRsjOuSq9B-FBLhgimq1H.png"></p><h2 id="ReduceTask-å·¥ä½œæœºåˆ¶"><a href="#ReduceTask-å·¥ä½œæœºåˆ¶" class="headerlink" title="ReduceTask å·¥ä½œæœºåˆ¶"></a>ReduceTask å·¥ä½œæœºåˆ¶</h2><p>copy é˜¶æ®µ, sort é˜¶æ®µ, reduce é˜¶æ®µ<br><img src="http://cdn.xiamu.icu//Fu2MTtWXDbV1NN-8GBWdsiZY_Qkm.png"></p>]]></content>
    
    
    <categories>
      
      <category>Hadoop</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hadoop</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Snipaste</title>
    <link href="/uncategorized/Snipaste/"/>
    <url>/uncategorized/Snipaste/</url>
    
    <content type="html"><![CDATA[<p>ä¸‹è½½è§£å‹, ç„¶ååŒå‡» Snipaste.exe<br><img src="http://cdn.xiamu.icu//FipZXg0zxs2Nux79s5h8SuNeRnk5.png"></p><p>æŒ‰<code>F1</code>å¼€å§‹æˆªå›¾<br>æŒ‰<code>F3</code>(è´´å›¾)æŠŠæˆªå›¾ç²˜è´´åˆ°æµ®åŠ¨çª—å£<br>ä¹Ÿå¯ä»¥æŠŠå‰ªåˆ‡æ¿ä¸­çš„å›¾ç‰‡æˆ–è€…æ–‡ä»¶ç²˜è´´åˆ°æµ®åŠ¨çª—å£<br>ç¼©æ”¾ (<code>é¼ æ ‡æ»šåŠ¨</code>æˆ–è€…<code>+</code>&#x2F;<code>-</code>)<br>æ—‹è½¬(<code>1</code>&#x2F;<code>2</code>)<br>ç¿»è½¬(<code>3</code>&#x2F;<code>4</code>)<br>è®¾ç½®é€æ˜åº¦(<code>Ctrl</code> + <code>é¼ æ ‡æ»šåŠ¨</code> æˆ–è€… <code>Ctrl</code>+<code>+</code>&#x2F;<code>-</code> )<br>å›¾ç‰‡ç¼–è¾‘(<code>Space</code>)<br>ç¼©ç•¥å›¾æ¨¡å¼(<code>Shift</code>+<code>é¼ æ ‡åŒå‡»</code>)<br>éšè—(<code>é¼ æ ‡åŒå‡»</code>)</p><p>å›æ”¾æˆªå›¾è®°å½•<br>æŒ‰<code>,</code>æˆ–<code>.</code></p><p>æ”¾å¤§é•œ<code>Alt</code><br>åœ¨æ”¾å¤§é•œæ¨¡å¼ä¸‹æŒ‰<code>C</code>å–è‰²</p><p>è°ƒæ•´ç”»ç¬”å®½åº¦<br><code>é¼ æ ‡æ»šè½®</code><br><code>1``2</code></p><p><code>-</code></p><p>é«˜çº§æŠ€å·§<br>æŒ‰ä½ Shift æ‹–åŠ¨è´´å›¾, å¯ä»¥å¯¹é½</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>node-sass</title>
    <link href="/uncategorized/node-sass/"/>
    <url>/uncategorized/node-sass/</url>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨ npm i å®‰è£…æŠ¥é”™,</p><ul><li>gyp err xxx</li><li>gyp verb check python checking for Python executable â€œpython2â€ in the PATH</li></ul><p>å‚è€ƒåœ°å€: <a href="https://github.com/lenve/VBlog/issues/79">https://github.com/lenve/VBlog/issues/79</a><br><img src="http://cdn.xiamu.icu//Fm_lYcgPpu2YKBwBO5mt_z88xRcs.png"></p><p>åªéœ€è¦åˆ é™¤ package.json ä¸­çš„<br>â€œnode-sassâ€: â€œ^4.14.1â€,<br>â€œsass-loaderâ€: â€œ^6.0.6â€,<br><img src="http://cdn.xiamu.icu//FjKiYsfbhwAkX2KD7oGZzcTu4zaY.png"></p><p>å¦‚æœé¡µé¢å‡ºç°æœ‰ can not resolve sass-loader, æŠŠå¯¹åº”çš„ scss åˆ é™¤æ‰<br><img src="http://cdn.xiamu.icu//FuOR3d7bxRk5YBQUWFiXldSjQLb5.png"><br><img src="http://cdn.xiamu.icu//FkQLuqF7PC7McDveSOV5H84spebQ.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>HDFS</title>
    <link href="/Hadoop/HDFS/"/>
    <url>/Hadoop/HDFS/</url>
    
    <content type="html"><![CDATA[<h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>HDFS(Hadoop Distributed File System), å®ƒæ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ, ç”¨äºå­˜å‚¨æ–‡ä»¶, é€šè¿‡ç›®å½•æ ‘æ¥å®šä½æ–‡ä»¶;<br>å…¶æ¬¡, å®ƒæ˜¯åˆ†å¸ƒå¼, ç”±å¾ˆå¤šæœåŠ¡å™¨è”åˆèµ·æ¥å®ç°å…¶åŠŸèƒ½, é›†ç¾¤ä¸­çš„æœåŠ¡å™¨æœ‰å„è‡ªçš„è§’è‰².<br>HDFS çš„ä½¿ç”¨åœºæ™¯, é€‚åˆä¸€æ¬¡å†™å…¥, å¤šæ¬¡è¯»ä¹¦çš„åœºæ™¯. ä¸€ä¸ªæ–‡ä»¶ç»è¿‡åˆ›å»º, å†™å…¥å’Œå…³é—­ä¹‹åå°±ä¸éœ€è¦æ”¹å˜.<br>æ€è€ƒ:<br>NameNode åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¸€èˆ¬æ˜¯ 128G çš„å†…å­˜, èƒ½å­˜å¤šå°‘æ–‡ä»¶? ä¸€ä¸ªæ–‡ä»¶å—å ç”¨ 150 ä¸ªå­—èŠ‚, 128G çš„å†…å­˜èƒ½å­˜å‚¨ 9 äº¿ä¸ªæ–‡ä»¶å—<br>è®¡ç®—è¿‡ç¨‹:<br>128G &#x3D; 128 _ 1024M &#x3D; 128 _ 1024 _ 1024KB &#x3D; 128 _ 1024 _ 1024 _ 1024Byte &#x3D; 237 Byte&#x3D; 137438953472Byte<br>ä¸€ä¸ªæ–‡ä»¶å—å¤§å°æ˜¯ 150Byte<br>é‚£ä¹ˆèƒ½å¤Ÿå­˜å‚¨çš„æ–‡ä»¶æ•°é‡æ˜¯<img src="http://cdn.xiamu.icu//FlWOZrsKo2OsLAt3VWdGWtsrh8Q0.svg"> &#x3D; 916259689.813 â‰ˆ 9 äº¿<br>tip: Byte æ˜¯å­—èŠ‚, bit æ˜¯ä½<br><img src="http://cdn.xiamu.icu//FnLhxL-nLpsKfnLXUnTFJZs3Bg03.png"></p><h2 id="ç»„æˆæ¶æ„"><a href="#ç»„æˆæ¶æ„" class="headerlink" title="ç»„æˆæ¶æ„"></a>ç»„æˆæ¶æ„</h2><p><img src="http://cdn.xiamu.icu//FtLQb21-vvOhMJCiByp5KMPfEwug.png"><img src="http://cdn.xiamu.icu//FkY_HVQkK3jwniJiAoHfb0Fk7wP-.png"><br>åœ¨ hdfs åˆ›å»ºæ–‡ä»¶å¤¹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 bin]$ hadoop fs -<span class="hljs-built_in">mkdir</span> /aaa<br><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fo4vA7ntCA7kvfpxshHEulcIVCSx.png"></p><h2 id="æ–‡ä»¶å—å¤§å°"><a href="#æ–‡ä»¶å—å¤§å°" class="headerlink" title="æ–‡ä»¶å—å¤§å°"></a>æ–‡ä»¶å—å¤§å°</h2><p>HDFS ä¸­çš„æ–‡ä»¶åœ¨ç‰©ç†ä¸Šæ˜¯åˆ†å—å­˜å‚¨(Block), å—çš„å¤§å°å¯ä»¥é€šè¿‡é…ç½®å‚æ•°(dfs.blocksize)æ¥è§„å®š, é»˜è®¤å¤§å°åœ¨ Hadoop2.x&#x2F;3.x ç‰ˆæœ¬ä¸­æ˜¯ 128M, 1.x ç‰ˆæœ¬ä¸­æ˜¯ 64M</p><p>æ€»ç»“: HDFS å—çš„å¤§å°è®¾ç½®ä¸»è¦å–å†³äºç£ç›˜ä¼ è¾“é€Ÿç‡</p><h2 id="HDFS-çš„-Shell-æ“ä½œ-å¼€å‘é‡ç‚¹"><a href="#HDFS-çš„-Shell-æ“ä½œ-å¼€å‘é‡ç‚¹" class="headerlink" title="HDFS çš„ Shell æ“ä½œ(å¼€å‘é‡ç‚¹)"></a>HDFS çš„ Shell æ“ä½œ(å¼€å‘é‡ç‚¹)</h2><p>hadoop fs å…·ä½“å‘½ä»¤ OR hdfs dfs å…·ä½“å‘½ä»¤<br>ä¸¤ä¸ªæ˜¯å®Œå…¨ç›¸åŒçš„</p><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><p>å¯åŠ¨ Hadoop é›†ç¾¤<br><code>[xiamu@hadoop202 bin]$ myhadoop.sh start</code><br>-help: æŸ¥çœ‹å‘½ä»¤å¦‚ä½•ä½¿ç”¨<br><code>[xiamu@hadoop202 bin]$ hadoop fs -help rm</code><br>åˆ›å»ºæ–‡ä»¶å¤¹<br><code>[xiamu@hadoop202 bin]$ hadoop fs -mkdir /sanguo</code></p><h3 id="ä¸Šä¼ "><a href="#ä¸Šä¼ " class="headerlink" title="ä¸Šä¼ "></a>ä¸Šä¼ </h3><ol><li>moveFromLocal çš„ä½¿ç”¨:</li></ol><p>æ–°å»ºæ–‡ä»¶, ä¸Šä¼ æ–‡ä»¶(å‰ªåˆ‡æ–‡ä»¶)<br><code>[xiamu@hadoop202 hadoop-3.1.3]$ vim shuguo.txt</code><br><code>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -moveFromLocal ./shuguo.txt /sanguo</code></p><ol start="2"><li>copyFromLocal çš„ä½¿ç”¨</li></ol><p>æ–°å»ºæ–‡ä»¶, æ‹·è´æ–‡ä»¶(æœ¬åœ°çš„æ–‡ä»¶ä»ç„¶å­˜åœ¨)<br><code>[xiamu@hadoop202 hadoop-3.1.3]$ vim weiguo.txt</code><br><code>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -copyFromLocal weiguo.txt /sanguo</code></p><ol start="3"><li>put çº¦åŒäº copyFromLocal, ç”Ÿäº§ç¯å¢ƒæ›´ä¹ æƒ¯ç”¨ put</li></ol><p><code>[xiamu@hadoop202 hadoop-3.1.3]$ vim wuguo.txt</code><br><code>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -put wuguo.txt /sanguo</code></p><ol start="4"><li>appendToFile è¿½åŠ ä¸€ä¸ªæ–‡ä»¶åˆ°å·²ç»å­˜åœ¨çš„æ–‡ä»¶æœ«å°¾</li></ol><p><code>[xiamu@hadoop202 hadoop-3.1.3]$ vim liubei.txt</code><br><code>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -appendToFile liubei.txt /sanguo/shuguo.txt</code></p><p>HDFS çš„ç‰¹æ€§, åªèƒ½è¿½åŠ å†…å®¹, ä¸èƒ½ä¿®æ”¹åŸæœ‰çš„å†…å®¹</p><h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h3><ol><li>copyToLocal, ä» HDFS æ‹·è´åˆ°æœ¬åœ°</li></ol><p><code>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -copyToLocal /sanguo/shuguo.txt ./</code></p><ol start="2"><li>ç­‰åŒäº copyToLocalï¼Œç”Ÿäº§ç¯å¢ƒæ›´ä¹ æƒ¯ç”¨ get</li></ol><p><code>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -get /sanguo/shuguo.txt ./shuguo2.txt</code></p><h3 id="HDFS-ç›´æ¥æ“ä½œ"><a href="#HDFS-ç›´æ¥æ“ä½œ" class="headerlink" title="HDFS ç›´æ¥æ“ä½œ"></a><strong>HDFS ç›´æ¥æ“ä½œ</strong></h3><ol><li>-ls: æ˜¾ç¤ºç›®å½•ä¿¡æ¯</li></ol><p><code>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -ls /sanguo</code></p><ol start="2"><li>-cat: æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</li></ol><p><code>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -cat /sanguo/shuguo.txt</code></p><ol start="3"><li>-chgrpã€-chmodã€-chownï¼šLinux æ–‡ä»¶ç³»ç»Ÿä¸­çš„ç”¨æ³•ä¸€æ ·ï¼Œä¿®æ”¹æ–‡ä»¶æ‰€å±æƒé™</li></ol><p><code>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -chown xiamu:xiamu /sanguo/shuguo.txt</code></p><ol start="4"><li>-mkdirï¼šåˆ›å»ºè·¯å¾„</li></ol><p><code>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -mkdir /jinguo</code></p><ol start="5"><li>-cpï¼šä» HDFS çš„ä¸€ä¸ªè·¯å¾„æ‹·è´åˆ° HDFS çš„å¦ä¸€ä¸ªè·¯å¾„</li></ol><p><code>[xiamu@hadoop202 ~]$ hadoop fs -cp /sanguo/shuguo.txt /jinguo</code></p><ol start="6"><li>-mvï¼šåœ¨ HDFS ç›®å½•ä¸­ç§»åŠ¨æ–‡ä»¶</li></ol><p><code>[xiamu@hadoop202 ~]$ hadoop fs -mv /sanguo/weiguo.txt /jinguo</code><br><code>[xiamu@hadoop202 ~]$ hadoop fs -mv /sanguo/wuguo.txt /jinguo</code></p><ol start="7"><li>-tailï¼šæ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶çš„æœ«å°¾ 1kb çš„æ•°æ®</li></ol><p><code>[xiamu@hadoop202 ~]$ hadoop fs -tail /jinguo/shuguo.txt</code></p><ol start="8"><li>-rmï¼šåˆ é™¤æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</li></ol><p><code>[xiamu@hadoop202 ~]$ hadoop fs -rm /sanguo/shuguo.txt</code></p><ol start="9"><li>-rm -rï¼šé€’å½’åˆ é™¤ç›®å½•åŠç›®å½•é‡Œé¢å†…å®¹</li></ol><p><code>[xiamu@hadoop202 ~]$ hadoop fs -rm -r /sanguo</code></p><ol start="10"><li>-du ç»Ÿè®¡æ–‡ä»¶å¤¹çš„å¤§å°ä¿¡æ¯</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 ~]$ hadoop fs -<span class="hljs-built_in">du</span> -s -h /jinguo<br>27  81  /jinguo<br>[xiamu@hadoop202 ~]$ hadoop fs -<span class="hljs-built_in">du</span> -h /jinguo<br>14  42  /jinguo/shuguo.txt<br>7   21  /jinguo/weiguo.txt<br>6   18  /jinguo/wuguo.txt<br><br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼š27 è¡¨ç¤ºæ–‡ä»¶å¤§å°ï¼›81 è¡¨ç¤º 27*3 ä¸ªå‰¯æœ¬ï¼›&#x2F;jinguo è¡¨ç¤ºæŸ¥çœ‹çš„ç›®å½•</p><ol start="11"><li>-setrepï¼šè®¾ç½® HDFS ä¸­æ–‡ä»¶çš„å‰¯æœ¬æ•°é‡</li></ol><p><img src="http://cdn.xiamu.icu//FgdVVj393LyomxwYyA-hVQosFQav.png"><br>è¿™é‡Œè®¾ç½®çš„å‰¯æœ¬æ•°åªæ˜¯è®°å½•åœ¨ NameNode çš„å…ƒæ•°æ®ä¸­ï¼Œæ˜¯å¦çœŸçš„ä¼šæœ‰è¿™ä¹ˆå¤šå‰¯æœ¬ï¼Œè¿˜å¾—çœ‹ DataNode çš„æ•°é‡ã€‚å› ä¸ºç›®å‰åªæœ‰ 3 å°è®¾å¤‡ï¼Œæœ€å¤šä¹Ÿå°± 3 ä¸ªå‰¯æœ¬ï¼Œåªæœ‰èŠ‚ç‚¹æ•°çš„å¢åŠ åˆ° 10 å°æ—¶ï¼Œå‰¯æœ¬æ•°æ‰èƒ½è¾¾åˆ° 10ã€‚</p><h2 id="Windows-é…ç½®ç¯å¢ƒå˜é‡"><a href="#Windows-é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="Windows é…ç½®ç¯å¢ƒå˜é‡"></a>Windows é…ç½®ç¯å¢ƒå˜é‡</h2><p><img src="http://cdn.xiamu.icu//FkqeuFjPQmThE9fj0P9bATkT_Yfm.png"><br><img src="http://cdn.xiamu.icu//FmcdxzXcv1zf9rHHlA7orm4Gm17k.png"><br>é…ç½®å®Œæˆä¹‹ååŒå‡» winutils.exe, ä¸€é—ªè€Œè¿‡è¯´æ˜é…ç½®ç¯å¢ƒå˜é‡æˆåŠŸ<br><img src="http://cdn.xiamu.icu//FlCG6IctmbpIE3rKetkJF-P4Xk4c.png"></p><h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><p><strong>åœ¨ IDEA ä¸­åˆ›å»ºä¸€ä¸ª Maven å·¥ç¨‹ HdfsClientDemoï¼Œå¹¶å¯¼å…¥ç›¸åº”çš„ä¾èµ–åæ ‡+æ—¥å¿—æ·»åŠ </strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;dependencies&gt;<br>    &lt;dependency&gt;<br>        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;<br>        &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;<br>        &lt;version&gt;3.1.3&lt;/version&gt;<br>    &lt;/dependency&gt;<br>    &lt;dependency&gt;<br>        &lt;groupId&gt;junit&lt;/groupId&gt;<br>        &lt;artifactId&gt;junit&lt;/artifactId&gt;<br>        &lt;version&gt;4.12&lt;/version&gt;<br>    &lt;/dependency&gt;<br>    &lt;dependency&gt;<br>        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;<br>        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;<br>        &lt;version&gt;1.7.30&lt;/version&gt;<br>    &lt;/dependency&gt;<br>&lt;/dependencies&gt;<br></code></pre></td></tr></table></figure><p>åœ¨é¡¹ç›®çš„ src&#x2F;main&#x2F;resources ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸ºâ€œlog4j.propertiesâ€ï¼Œåœ¨æ–‡ä»¶ä¸­å¡«å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">log4j.rootLogger=INFO, stdout<br>log4j.appender.stdout=org.apache.log4j.ConsoleAppender<br>log4j.appender.stdout.layout=org.apache.log4j.PatternLayout<br>log4j.appender.stdout.layout.ConversionPattern=%d %p [%c] - %m%n<br>log4j.appender.logfile=org.apache.log4j.FileAppender<br>log4j.appender.logfile.File=target/spring.log<br>log4j.appender.logfile.layout=org.apache.log4j.PatternLayout<br>log4j.appender.logfile.layout.ConversionPattern=%d %p [%c] - %m%n<br></code></pre></td></tr></table></figure><p><strong>åˆ›å»ºåŒ…åï¼šcom.atguigu.hdfs</strong><br><strong>åˆ›å»º HdfsClient ç±»</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">public class HdfsClient &#123;<br><br>    @Test<br>    public void testMkdirs() throws IOException, URISyntaxException, InterruptedException &#123;<br><br>        // 1 è·å–æ–‡ä»¶ç³»ç»Ÿ<br>        Configuration configuration = new Configuration();<br><br>        // FileSystem fs = FileSystem.get(new URI(<span class="hljs-string">&quot;hdfs://hadoop102:8020&quot;</span>), configuration);<br>        FileSystem fs = FileSystem.get(new URI(<span class="hljs-string">&quot;hdfs://hadoop102:8020&quot;</span>), configuration,<span class="hljs-string">&quot;atguigu&quot;</span>);<br><br>        // 2 åˆ›å»ºç›®å½•<br>        fs.mkdirs(new Path(<span class="hljs-string">&quot;/xiyou/huaguoshan/&quot;</span>));<br><br>        // 3 å…³é—­èµ„æº<br>        fs.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="HDFS-API-åˆ›å»ºæ–‡ä»¶å¤¹"><a href="#HDFS-API-åˆ›å»ºæ–‡ä»¶å¤¹" class="headerlink" title="HDFS_API åˆ›å»ºæ–‡ä»¶å¤¹"></a>HDFS_API åˆ›å»ºæ–‡ä»¶å¤¹</h2><p>ä¸ºäº†æ–¹ä¾¿, æ¯ä¸€ä¸ªæµ‹è¯•ç±»ä¸­éƒ½ä¼šå­˜åœ¨è·å–æ–‡ä»¶ç³»ç»Ÿ, å…³é—­èµ„æºè¿™ä¸¤ä¸ªæ“ä½œ, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ‡é¢æŠ½å–å‡ºæ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash">private FileSystem fs;<br><br>@Before<br>public void init() throws URISyntaxException, IOException, InterruptedException &#123;<br>    // è¿æ¥çš„é›†ç¾¤nnåœ°å€<br>    URI uri = new URI(<span class="hljs-string">&quot;hdfs://hadoop202:8020&quot;</span>);<br><br>    // åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶<br>    Configuration configuration = new Configuration();<br><br>    // ç”¨æˆ·<br>    String user = <span class="hljs-string">&quot;xiamu&quot;</span>;<br><br>    // è·å–åˆ°å®¢æˆ·ç«¯å¯¹è±¡<br>    fs = FileSystem.get(uri, configuration, user);<br>&#125;<br><br>@After<br>public void close() throws IOException &#123;<br><br>    // å…³é—­èµ„æº<br>    fs.close();<br>&#125;<br><br></code></pre></td></tr></table></figure><p>åˆ›å»ºç›®å½•ä»£ç , ç›¸æ¯”äºä¹‹å‰çš„ä»£ç , ç¬é—´ç²¾ç®€äº†å¾ˆå¤š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">// åˆ›å»ºç›®å½•<br>@Test<br>public void testMkdirs() throws IOException, URISyntaxException, InterruptedException &#123;<br><br>    // æ‰§è¡Œç›¸å…³çš„æ“ä½œå‘½ä»¤<br>    fs.mkdirs(new Path(<span class="hljs-string">&quot;/xiyou/huaguoshan1&quot;</span>));<br><br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="HDFS-API-ä¸Šä¼ "><a href="#HDFS-API-ä¸Šä¼ " class="headerlink" title="HDFS_API ä¸Šä¼ "></a>HDFS_API ä¸Šä¼ </h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">// ä¸Šä¼ æ“ä½œ<br>@Test<br>public void testPut() throws IOException &#123;<br>    // å‚æ•°è§£è¯»: å‚æ•°ä¸€delSrc: è¡¨ç¤ºåˆ é™¤åŸæ•°æ®<br>    // å‚æ•°äºŒoverwrite: æ˜¯å¦å…è®¸è¦†ç›–<br>    // å‚æ•°ä¸‰src: åŸæ•°æ®è·¯å¾„<br>    // å‚æ•°å››dst: ç›®æ ‡æ•°æ®è·¯å¾„<br>    fs.copyFromLocalFile(<br>            <span class="hljs-literal">true</span>,<br>            <span class="hljs-literal">true</span>,<br>            new Path(<span class="hljs-string">&quot;E:\\sunwukong.txt&quot;</span>),<br>            new Path(<span class="hljs-string">&quot;hdfs://hadoop202/xiyou/huaguoshan&quot;</span>)<br>    );<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="HDFS-API-å‚æ•°çš„ä¼˜å…ˆçº§"><a href="#HDFS-API-å‚æ•°çš„ä¼˜å…ˆçº§" class="headerlink" title="HDFS_API å‚æ•°çš„ä¼˜å…ˆçº§"></a>HDFS_API å‚æ•°çš„ä¼˜å…ˆçº§</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">/**<br> * å‚æ•°ä¼˜å…ˆçº§<br> * hdfs-default.xml =&gt; hdfs-site.xml =&gt; åœ¨é¡¹ç›®èµ„æºç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ =&gt; ä»£ç é‡Œé¢çš„é…ç½®<br> * @throws IOException<br> */<br>@Test<br>public void testPut() throws IOException &#123;<br>    // å‚æ•°è§£è¯»: å‚æ•°ä¸€delSrc: è¡¨ç¤ºåˆ é™¤åŸæ•°æ®<br>    // å‚æ•°äºŒoverwrite: æ˜¯å¦å…è®¸è¦†ç›–<br>    // å‚æ•°ä¸‰src: åŸæ•°æ®è·¯å¾„<br>    // å‚æ•°å››dst: ç›®æ ‡æ•°æ®è·¯å¾„<br>    fs.copyFromLocalFile(<br>            <span class="hljs-literal">false</span>,<br>            <span class="hljs-literal">true</span>,<br>            new Path(<span class="hljs-string">&quot;E:\\sunwukong.txt&quot;</span>),<br>            new Path(<span class="hljs-string">&quot;hdfs://hadoop202/xiyou/huaguoshan&quot;</span>)<br>    );<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ resource ä¸­åˆ›å»º hdfs-site.xml, ç„¶åä¸Šä¼ æ–‡ä»¶, å‘ç°å‰¯æœ¬æ•°é‡æ˜¯ 1</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;<br>&lt;?xml-stylesheet <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;text/xsl&quot;</span> href=<span class="hljs-string">&quot;configuration.xsl&quot;</span>?&gt;<br><br>&lt;configuration&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;dfs.replication&lt;/name&gt;<br>        &lt;value&gt;1&lt;/value&gt;<br>    &lt;/property&gt;<br>&lt;/configuration&gt;<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ init å‡½æ•°, configuration ä¸­è®¾ç½® dfs.replication çš„å€¼, ç„¶åå†æ¬¡è¿è¡Œä»£ç , æ­¤æ—¶çš„å‰¯æœ¬æ•°é‡æ˜¯ 2, è¿™å°±è¯´æ˜äº†è¿™æ¬¡è¿è¡Œçš„ dfs.replication çš„å€¼ä¼šè¦†ç›–æ‰ resource ä¸­çš„ hdfs-site.xml é‡Œçš„ dfs.replication ä¸­çš„å€¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash">@Before<br>public void init() throws URISyntaxException, IOException, InterruptedException &#123;<br>    // è¿æ¥çš„é›†ç¾¤nnåœ°å€<br>    URI uri = new URI(<span class="hljs-string">&quot;hdfs://hadoop202:8020&quot;</span>);<br><br>    // åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶<br>    Configuration configuration = new Configuration();<br><br>    configuration.set(<span class="hljs-string">&quot;dfs.replication&quot;</span>, <span class="hljs-string">&quot;2&quot;</span>);<br><br>    // ç”¨æˆ·<br>    String user = <span class="hljs-string">&quot;xiamu&quot;</span>;<br><br>    // è·å–åˆ°å®¢æˆ·ç«¯å¯¹è±¡<br>    fs = FileSystem.get(uri, configuration, user);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="HDFS-API-æ–‡ä»¶ä¸‹è½½"><a href="#HDFS-API-æ–‡ä»¶ä¸‹è½½" class="headerlink" title="HDFS_API æ–‡ä»¶ä¸‹è½½"></a>HDFS_API æ–‡ä»¶ä¸‹è½½</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">// æ–‡ä»¶ä¸‹è½½<br>@Test<br>public void testGet() throws IOException &#123;<br>    // å‚æ•°è§£è¯»:<br>    // å‚æ•°ä¸€delSrc: ä¸‹è½½å®Œæˆä¹‹å, æ˜¯å¦åˆ é™¤æ‰hdfsä¸­çš„åŸæ–‡ä»¶<br>    // å‚æ•°äºŒsrc: HDFSä¸­åŸæ–‡ä»¶çš„è·¯å¾„<br>    // å‚æ•°ä¸‰dst: å®¢æˆ·ç«¯ç›®æ ‡åœ°å€çš„è·¯å¾„<br>    // å‚æ•°å››useRawLocalFileSystem: æ˜¯å¦å¼€å¯æœ¬åœ°æ–‡ä»¶çš„æ ¡éªŒ<br>    fs.copyToLocalFile(<br>            <span class="hljs-literal">true</span>,<br>            new Path(<span class="hljs-string">&quot;hdfs://hadoop202/xiyou/huaguoshan&quot;</span>),<br>            new Path(<span class="hljs-string">&quot;E:\\huaguosan&quot;</span>),<br>            <span class="hljs-literal">true</span><br>    );<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="HDFS-API-æ–‡ä»¶åˆ é™¤"><a href="#HDFS-API-æ–‡ä»¶åˆ é™¤" class="headerlink" title="HDFS_API æ–‡ä»¶åˆ é™¤"></a>HDFS_API æ–‡ä»¶åˆ é™¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash">// åˆ é™¤<br>@Test<br>public void testRm() throws IOException &#123;<br>    // å‚æ•°è§£è¯»:<br>    // å‚æ•°ä¸€path: è¡¨ç¤ºè¦åˆ é™¤çš„è·¯å¾„<br>    // å‚æ•°äºŒb: è¡¨ç¤ºæ˜¯å¦é€’å½’åˆ é™¤<br><br>    // åˆ é™¤æ–‡ä»¶<br>    // fs.delete(new Path(<span class="hljs-string">&quot;/jdk-8u212-linux-x64.tar.gz&quot;</span>), <span class="hljs-literal">false</span>);<br><br>    // åˆ é™¤ç©ºç›®å½•<br>    // fs.delete(new Path(<span class="hljs-string">&quot;/xiyou&quot;</span>), <span class="hljs-literal">false</span>);<br><br>    // åˆ é™¤éç©ºç›®å½•<br>    fs.delete(new Path(<span class="hljs-string">&quot;/jinguo&quot;</span>), <span class="hljs-literal">true</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="HDFS-API-æ–‡ä»¶æ›´åå’Œç§»åŠ¨"><a href="#HDFS-API-æ–‡ä»¶æ›´åå’Œç§»åŠ¨" class="headerlink" title="HDFS_API æ–‡ä»¶æ›´åå’Œç§»åŠ¨"></a>HDFS_API æ–‡ä»¶æ›´åå’Œç§»åŠ¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">// æ–‡ä»¶çš„æ›´åå’Œç§»åŠ¨<br>@Test<br>public void testmv() throws IOException &#123;<br>    // å‚æ•°è§£è¯»:<br>    // å‚æ•°ä¸€: åŸæ–‡ä»¶è·¯å¾„<br>    // å‚æ•°äºŒ: ç›®æ ‡æ–‡ä»¶è·¯å¾„<br>    // å¯¹æ–‡ä»¶åç§°çš„ä¿®æ”¹:<br>    // fs.rename(new Path(<span class="hljs-string">&quot;/input/word.txt&quot;</span>), new Path(<span class="hljs-string">&quot;/input/ss.txt&quot;</span>));<br><br>    // æ–‡ä»¶çš„ç§»åŠ¨å’Œæ›´å<br>    // fs.rename(new Path(<span class="hljs-string">&quot;/input/ss.txt&quot;</span>), new Path(<span class="hljs-string">&quot;/cls.txt&quot;</span>));<br><br>    // ç›®å½•çš„æ›´å<br>    fs.rename(new Path(<span class="hljs-string">&quot;/input&quot;</span>), new Path(<span class="hljs-string">&quot;/output&quot;</span>));<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="HDFS-API-æ–‡ä»¶è¯¦ç»†æŸ¥çœ‹"><a href="#HDFS-API-æ–‡ä»¶è¯¦ç»†æŸ¥çœ‹" class="headerlink" title="HDFS_API æ–‡ä»¶è¯¦ç»†æŸ¥çœ‹"></a>HDFS_API æ–‡ä»¶è¯¦ç»†æŸ¥çœ‹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs bash">// è·å–æ–‡ä»¶è¯¦ç»†ä¿¡æ¯<br>@Test<br>public void fileDetail() throws IOException &#123;<br>    // å‚æ•°1 f: è¡¨ç¤ºå“ªä¸€ä¸ªè·¯å¾„<br>    // å‚æ•°2 recursive: è¡¨ç¤ºé€’å½’<br><br>    // è·å–æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯, è¿”å›ä¸€ä¸ªè¿­ä»£å™¨<br>    RemoteIterator&lt;LocatedFileStatus&gt; listFiles = fs.listFiles(new Path(<span class="hljs-string">&quot;/&quot;</span>), <span class="hljs-literal">true</span>);<br>    // éå†è¿­ä»£å™¨<br>    <span class="hljs-keyword">while</span> (listFiles.hasNext()) &#123;<br>        LocatedFileStatus fileStatus = listFiles.next();<br>        System.out.println(<span class="hljs-string">&quot;=======&quot;</span> + fileStatus.getPath() + <span class="hljs-string">&quot;=======&quot;</span>);<br>        System.out.println(fileStatus.getPermission());<br>        System.out.println(fileStatus.getOwner());<br>        System.out.println(fileStatus.getGroup());<br>        System.out.println(fileStatus.getLen());<br>        System.out.println(fileStatus.getModificationTime());<br>        System.out.println(fileStatus.getReplication());<br>        System.out.println(fileStatus.getBlockSize());<br>        System.out.println(fileStatus.getPath().getName());<br><br>        // è·å–å—ä¿¡æ¯<br>        BlockLocation[] blockLocations = fileStatus.getBlockLocations();<br>        System.out.println(Arrays.toString(blockLocations));<br>        /*<span class="hljs-keyword">for</span> (BlockLocation blockLocation : blockLocations) &#123;<br>            System.out.println(blockLocation);<br>        &#125;*/<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœå¦‚ä¸‹<br><img src="http://cdn.xiamu.icu//Fns0ooKq6S0JhwtxSGVzo02-IOsa.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">=======hdfs://hadoop202:8020/hadoop-3.1.3.tar.gz=======<br>rw-r--r--<br>xiamu<br>supergroup<br>338075860<br>1673210373259<br>3<br>134217728<br>hadoop-3.1.3.tar.gz<br>[0,134217728,hadoop202,hadoop204,hadoop203, 134217728,134217728,hadoop202,hadoop204,hadoop203, 268435456,69640404,hadoop204,hadoop202,hadoop203]<br></code></pre></td></tr></table></figure><p>0,134217728 è¡¨ç¤ºä» 0 å­—èŠ‚å¼€å§‹å­˜æ”¾, å­˜æ”¾çš„å¤§å°æ˜¯ 134217728 å­—èŠ‚<br>134217728,134217728 è¡¨ç¤ºä» 134217728 å­—èŠ‚å¼€å§‹å­˜æ”¾, å­˜æ”¾çš„å¤§å°æ˜¯ 134217728 å­—èŠ‚<br>268435456,69640404 è¡¨ç¤ºä» 268435456 å­—èŠ‚å¼€å§‹å­˜æ”¾, å­˜æ”¾çš„å¤§å°æ˜¯ 69640404 å­—èŠ‚</p><h2 id="HDFS-API-æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ¤æ–­"><a href="#HDFS-API-æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ¤æ–­" class="headerlink" title="HDFS_API æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ¤æ–­"></a>HDFS_API æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ¤æ–­</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">    // åˆ¤æ–­æ˜¯æ–‡ä»¶å¤¹è¿˜æ˜¯æ–‡ä»¶<br>    @Test<br>    public void testFile() throws IOException &#123;<br>        FileStatus[] listStatus = fs.listStatus(new Path(<span class="hljs-string">&quot;/&quot;</span>));<br>        <span class="hljs-keyword">for</span> (FileStatus status : listStatus) &#123;<br>            <span class="hljs-keyword">if</span> (status.isFile()) &#123;<br>                System.out.println(<span class="hljs-string">&quot;è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶: &quot;</span> + status.getPath().getName());<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                System.out.println(<span class="hljs-string">&quot;è¿™æ˜¯ä¸€ä¸ªç›®å½•: &quot;</span> + status.getPath().getName());<br>            &#125;<br>        &#125;<br>    &#125;<br><br><br>è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶: cls.txt<br>è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶: hadoop-3.1.3.tar.gz<br>è¿™æ˜¯ä¸€ä¸ªç›®å½•: output<br>è¿™æ˜¯ä¸€ä¸ªç›®å½•: tmp<br></code></pre></td></tr></table></figure><h2 id="ç½‘ç»œæ‹“æ‰‘-èŠ‚ç‚¹è·ç¦»è®¡ç®—"><a href="#ç½‘ç»œæ‹“æ‰‘-èŠ‚ç‚¹è·ç¦»è®¡ç®—" class="headerlink" title="ç½‘ç»œæ‹“æ‰‘-èŠ‚ç‚¹è·ç¦»è®¡ç®—"></a>ç½‘ç»œæ‹“æ‰‘-èŠ‚ç‚¹è·ç¦»è®¡ç®—</h2><pre><code class="hljs">åœ¨HDFSå†™æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼ŒNameNodeä¼šé€‰æ‹©è·ç¦»å¾…ä¸Šä¼ æ•°æ®æœ€è¿‘è·ç¦»çš„DataNodeæ¥æ”¶æ•°æ®ã€‚é‚£ä¹ˆè¿™ä¸ªæœ€è¿‘è·ç¦»æ€ä¹ˆè®¡ç®—å‘¢ï¼Ÿ</code></pre><p>èŠ‚ç‚¹è·ç¦»ï¼šä¸¤ä¸ªèŠ‚ç‚¹åˆ°è¾¾æœ€è¿‘çš„å…±åŒç¥–å…ˆçš„è·ç¦»æ€»å’Œã€‚<br><img src="http://cdn.xiamu.icu//FivDpKj4ztVlHs5uydiybSVIVNjI.png"><br>ä¾‹å¦‚ï¼Œå‡è®¾æœ‰æ•°æ®ä¸­å¿ƒ d1 æœºæ¶ r1 ä¸­çš„èŠ‚ç‚¹ n1ã€‚è¯¥èŠ‚ç‚¹å¯ä»¥è¡¨ç¤ºä¸º&#x2F;d1&#x2F;r1&#x2F;n1ã€‚åˆ©ç”¨è¿™ç§æ ‡è®°ï¼Œè¿™é‡Œç»™å‡ºå››ç§è·ç¦»æè¿°ã€‚<br>å¤§å®¶ç®—ä¸€ç®—æ¯ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚<br>â‘¤ å’Œ â‘¨ è·ç¦»æ˜¯ 3<br>â‘© å’Œ â‘¡ è·ç¦»æ˜¯ 3<br>ç›¸å·®å‡ æ ¹çº¿, è·ç¦»å°±æ˜¯å‡ <br><img src="http://cdn.xiamu.icu//Fij3vmTrShU8PPeWOSPFSpMmB9fA.png"></p><h2 id="oiv-æŸ¥çœ‹-Fsimage-æ–‡ä»¶"><a href="#oiv-æŸ¥çœ‹-Fsimage-æ–‡ä»¶" class="headerlink" title="oiv æŸ¥çœ‹ Fsimage æ–‡ä»¶"></a><strong>oiv æŸ¥çœ‹ Fsimage æ–‡ä»¶</strong></h2><p><img src="http://cdn.xiamu.icu//Fmug3HqvsxWuECjd4_t8GfOkDf3R.png"><br>ï¼ˆ1ï¼‰æŸ¥çœ‹ oiv å’Œ oev å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[atguigu@hadoop102 current]$ hdfs<br>oiv            apply the offline fsimage viewer to an fsimage<br>oev            apply the offline edits viewer to an edits file<br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åŸºæœ¬è¯­æ³•<br><code>hdfs oiv -p æ–‡ä»¶ç±»å‹ -ié•œåƒæ–‡ä»¶ -o è½¬æ¢åæ–‡ä»¶è¾“å‡ºè·¯å¾„</code><br>ï¼ˆ3ï¼‰æ¡ˆä¾‹å®æ“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[atguigu@hadoop102 current]$ <span class="hljs-built_in">pwd</span><br>/opt/module/hadoop-3.1.3/data/dfs/name/current<br><br>[atguigu@hadoop102 current]$ hdfs oiv -p XML -i fsimage_0000000000000000025 -o /opt/module/hadoop-3.1.3/fsimage.xml<br><br>[atguigu@hadoop102 current]$ <span class="hljs-built_in">cat</span> /opt/module/hadoop-3.1.3/fsimage.xml<br><br><span class="hljs-comment"># ä¸Šä¼ å®Œä¹‹åä¸‹è½½</span><br>[atguigu@hadoop102 hadoop-3.1.3]$ sz fsimage.xml<br><br></code></pre></td></tr></table></figure><p>å°†æ˜¾ç¤ºçš„ xml æ–‡ä»¶å†…å®¹æ‹·è´åˆ° Idea ä¸­åˆ›å»ºçš„ xml æ–‡ä»¶ä¸­ï¼Œå¹¶æ ¼å¼åŒ–ã€‚éƒ¨åˆ†æ˜¾ç¤ºç»“æœå¦‚ä¸‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;inode&gt;<br>&lt;<span class="hljs-built_in">id</span>&gt;16386&lt;/id&gt;<br>&lt;<span class="hljs-built_in">type</span>&gt;DIRECTORY&lt;/type&gt;<br>&lt;name&gt;user&lt;/name&gt;<br>&lt;mtime&gt;1512722284477&lt;/mtime&gt;<br>&lt;permission&gt;atguigu:supergroup:rwxr-xr-x&lt;/permission&gt;<br>&lt;nsquota&gt;-1&lt;/nsquota&gt;<br>&lt;dsquota&gt;-1&lt;/dsquota&gt;<br>&lt;/inode&gt;<br>&lt;inode&gt;<br>&lt;<span class="hljs-built_in">id</span>&gt;16387&lt;/id&gt;<br>&lt;<span class="hljs-built_in">type</span>&gt;DIRECTORY&lt;/type&gt;<br>&lt;name&gt;atguigu&lt;/name&gt;<br>&lt;mtime&gt;1512790549080&lt;/mtime&gt;<br>&lt;permission&gt;atguigu:supergroup:rwxr-xr-x&lt;/permission&gt;<br>&lt;nsquota&gt;-1&lt;/nsquota&gt;<br>&lt;dsquota&gt;-1&lt;/dsquota&gt;<br>&lt;/inode&gt;<br>&lt;inode&gt;<br>&lt;<span class="hljs-built_in">id</span>&gt;16389&lt;/id&gt;<br>&lt;<span class="hljs-built_in">type</span>&gt;FILE&lt;/type&gt;<br>&lt;name&gt;wc.input&lt;/name&gt;<br>&lt;replication&gt;3&lt;/replication&gt;<br>&lt;mtime&gt;1512722322219&lt;/mtime&gt;<br>&lt;atime&gt;1512722321610&lt;/atime&gt;<br>&lt;perferredBlockSize&gt;134217728&lt;/perferredBlockSize&gt;<br>&lt;permission&gt;atguigu:supergroup:rw-r--r--&lt;/permission&gt;<br>&lt;blocks&gt;<br>&lt;block&gt;<br>&lt;<span class="hljs-built_in">id</span>&gt;1073741825&lt;/id&gt;<br>&lt;genstamp&gt;1001&lt;/genstamp&gt;<br>&lt;numBytes&gt;59&lt;/numBytes&gt;<br>&lt;/block&gt;<br>&lt;/blocks&gt;<br>&lt;/inode &gt;<br></code></pre></td></tr></table></figure><p>æ€è€ƒï¼šå¯ä»¥çœ‹å‡ºï¼ŒFsimage ä¸­æ²¡æœ‰è®°å½•å—æ‰€å¯¹åº” DataNodeï¼Œä¸ºä»€ä¹ˆï¼Ÿ<br>åœ¨é›†ç¾¤å¯åŠ¨åï¼Œè¦æ±‚ DataNode ä¸ŠæŠ¥æ•°æ®å—ä¿¡æ¯ï¼Œå¹¶é—´éš”ä¸€æ®µæ—¶é—´åå†æ¬¡ä¸ŠæŠ¥ã€‚</p><h2 id="oev-æŸ¥çœ‹-Edits-æ–‡ä»¶"><a href="#oev-æŸ¥çœ‹-Edits-æ–‡ä»¶" class="headerlink" title="oev æŸ¥çœ‹ Edits æ–‡ä»¶"></a>oev æŸ¥çœ‹ Edits æ–‡ä»¶</h2><p>ï¼ˆ1ï¼‰åŸºæœ¬è¯­æ³•<br><code>hdfs oev -p æ–‡ä»¶ç±»å‹ -iç¼–è¾‘æ—¥å¿— -o è½¬æ¢åæ–‡ä»¶è¾“å‡ºè·¯å¾„</code><br>ï¼ˆ2ï¼‰æ¡ˆä¾‹å®æ“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[atguigu@hadoop102 current]$ hdfs oev -p XML -i edits_0000000000000000012-0000000000000000013 -o /opt/module/hadoop-3.1.3/edits.xml<br><br>[atguigu@hadoop102 current]$ <span class="hljs-built_in">cat</span> /opt/module/hadoop-3.1.3/edits.xml<br></code></pre></td></tr></table></figure><p>å°†æ˜¾ç¤ºçš„ xml æ–‡ä»¶å†…å®¹æ‹·è´åˆ° Idea ä¸­åˆ›å»ºçš„ xml æ–‡ä»¶ä¸­ï¼Œå¹¶æ ¼å¼åŒ–ã€‚æ˜¾ç¤ºç»“æœå¦‚ä¸‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;<br>&lt;EDITS&gt;<br>&lt;EDITS_VERSION&gt;-63&lt;/EDITS_VERSION&gt;<br>&lt;RECORD&gt;<br>&lt;OPCODE&gt;OP_START_LOG_SEGMENT&lt;/OPCODE&gt;<br>&lt;DATA&gt;<br>&lt;TXID&gt;129&lt;/TXID&gt;<br>&lt;/DATA&gt;<br>&lt;/RECORD&gt;<br>&lt;RECORD&gt;<br>&lt;OPCODE&gt;OP_ADD&lt;/OPCODE&gt;<br>&lt;DATA&gt;<br>&lt;TXID&gt;130&lt;/TXID&gt;<br>&lt;LENGTH&gt;0&lt;/LENGTH&gt;<br>&lt;INODEID&gt;16407&lt;/INODEID&gt;<br>&lt;PATH&gt;/hello7.txt&lt;/PATH&gt;<br>&lt;REPLICATION&gt;2&lt;/REPLICATION&gt;<br>&lt;MTIME&gt;1512943607866&lt;/MTIME&gt;<br>&lt;ATIME&gt;1512943607866&lt;/ATIME&gt;<br>&lt;BLOCKSIZE&gt;134217728&lt;/BLOCKSIZE&gt;<br>&lt;CLIENT_NAME&gt;DFSClient_NONMAPREDUCE_-1544295051_1&lt;/CLIENT_NAME&gt;<br>&lt;CLIENT_MACHINE&gt;192.168.10.102&lt;/CLIENT_MACHINE&gt;<br>&lt;OVERWRITE&gt;<span class="hljs-literal">true</span>&lt;/OVERWRITE&gt;<br>&lt;PERMISSION_STATUS&gt;<br>&lt;USERNAME&gt;atguigu&lt;/USERNAME&gt;<br>&lt;GROUPNAME&gt;supergroup&lt;/GROUPNAME&gt;<br>&lt;MODE&gt;420&lt;/MODE&gt;<br>&lt;/PERMISSION_STATUS&gt;<br>&lt;RPC_CLIENTID&gt;908eafd4-9aec-4288-96f1-e8011d181561&lt;/RPC_CLIENTID&gt;<br>&lt;RPC_CALLID&gt;0&lt;/RPC_CALLID&gt;<br>&lt;/DATA&gt;<br>&lt;/RECORD&gt;<br>&lt;RECORD&gt;<br>&lt;OPCODE&gt;OP_ALLOCATE_BLOCK_ID&lt;/OPCODE&gt;<br>&lt;DATA&gt;<br>&lt;TXID&gt;131&lt;/TXID&gt;<br>&lt;BLOCK_ID&gt;1073741839&lt;/BLOCK_ID&gt;<br>&lt;/DATA&gt;<br>&lt;/RECORD&gt;<br>&lt;RECORD&gt;<br>&lt;OPCODE&gt;OP_SET_GENSTAMP_V2&lt;/OPCODE&gt;<br>&lt;DATA&gt;<br>&lt;TXID&gt;132&lt;/TXID&gt;<br>&lt;GENSTAMPV2&gt;1016&lt;/GENSTAMPV2&gt;<br>&lt;/DATA&gt;<br>&lt;/RECORD&gt;<br>&lt;RECORD&gt;<br>&lt;OPCODE&gt;OP_ADD_BLOCK&lt;/OPCODE&gt;<br>&lt;DATA&gt;<br>&lt;TXID&gt;133&lt;/TXID&gt;<br>&lt;PATH&gt;/hello7.txt&lt;/PATH&gt;<br>&lt;BLOCK&gt;<br>&lt;BLOCK_ID&gt;1073741839&lt;/BLOCK_ID&gt;<br>&lt;NUM_BYTES&gt;0&lt;/NUM_BYTES&gt;<br>&lt;GENSTAMP&gt;1016&lt;/GENSTAMP&gt;<br>&lt;/BLOCK&gt;<br>&lt;RPC_CLIENTID&gt;&lt;/RPC_CLIENTID&gt;<br>&lt;RPC_CALLID&gt;-2&lt;/RPC_CALLID&gt;<br>&lt;/DATA&gt;<br>&lt;/RECORD&gt;<br>&lt;RECORD&gt;<br>&lt;OPCODE&gt;OP_CLOSE&lt;/OPCODE&gt;<br>&lt;DATA&gt;<br>&lt;TXID&gt;134&lt;/TXID&gt;<br>&lt;LENGTH&gt;0&lt;/LENGTH&gt;<br>&lt;INODEID&gt;0&lt;/INODEID&gt;<br>&lt;PATH&gt;/hello7.txt&lt;/PATH&gt;<br>&lt;REPLICATION&gt;2&lt;/REPLICATION&gt;<br>&lt;MTIME&gt;1512943608761&lt;/MTIME&gt;<br>&lt;ATIME&gt;1512943607866&lt;/ATIME&gt;<br>&lt;BLOCKSIZE&gt;134217728&lt;/BLOCKSIZE&gt;<br>&lt;CLIENT_NAME&gt;&lt;/CLIENT_NAME&gt;<br>&lt;CLIENT_MACHINE&gt;&lt;/CLIENT_MACHINE&gt;<br>&lt;OVERWRITE&gt;<span class="hljs-literal">false</span>&lt;/OVERWRITE&gt;<br>&lt;BLOCK&gt;<br>&lt;BLOCK_ID&gt;1073741839&lt;/BLOCK_ID&gt;<br>&lt;NUM_BYTES&gt;25&lt;/NUM_BYTES&gt;<br>&lt;GENSTAMP&gt;1016&lt;/GENSTAMP&gt;<br>&lt;/BLOCK&gt;<br>&lt;PERMISSION_STATUS&gt;<br>&lt;USERNAME&gt;atguigu&lt;/USERNAME&gt;<br>&lt;GROUPNAME&gt;supergroup&lt;/GROUPNAME&gt;<br>&lt;MODE&gt;420&lt;/MODE&gt;<br>&lt;/PERMISSION_STATUS&gt;<br>&lt;/DATA&gt;<br>&lt;/RECORD&gt;<br>&lt;/EDITS &gt;<br></code></pre></td></tr></table></figure><p>æ€è€ƒï¼šNameNode å¦‚ä½•ç¡®å®šä¸‹æ¬¡å¼€æœºå¯åŠ¨çš„æ—¶å€™åˆå¹¶å“ªäº› Editsï¼Ÿ<br>NameNode å¯åŠ¨çš„æ—¶å€™åˆå¹¶çš„æ˜¯ä¸Šæ¬¡åœæœºå‰æ­£åœ¨å†™å…¥çš„ Editsï¼Œå³ edits_inprogress_xxx<br>æ ¹æ® seen_txid é‡Œé¢è®°å½•æœ€æ–°çš„ Fsimage(é•œåƒæ–‡ä»¶)çš„å€¼å»åˆå¹¶ Edits(ç¼–è¾‘æ—¥å¿—)ã€‚</p><h2 id="CheckPoint-æ—¶é—´è®¾ç½®"><a href="#CheckPoint-æ—¶é—´è®¾ç½®" class="headerlink" title="CheckPoint æ—¶é—´è®¾ç½®"></a><strong>CheckPoint æ—¶é—´è®¾ç½®</strong></h2><p><strong>é€šå¸¸æƒ…å†µä¸‹ï¼ŒSecondaryNameNode æ¯éš”ä¸€å°æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚</strong><br>[hdfs-default.xml]</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;property&gt;<br>&lt;name&gt;dfs.namenode.checkpoint.period&lt;/name&gt;<br>&lt;value&gt;3600s&lt;/value&gt;<br>&lt;/property&gt;<br></code></pre></td></tr></table></figure><p><strong>2ï¼‰ä¸€åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡æ“ä½œæ¬¡æ•°ï¼Œå½“æ“ä½œæ¬¡æ•°è¾¾åˆ° 1 ç™¾ä¸‡æ—¶ï¼ŒSecondaryNameNode æ‰§è¡Œä¸€æ¬¡ã€‚</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;property&gt;<br>&lt;name&gt;dfs.namenode.checkpoint.txns&lt;/name&gt;<br>&lt;value&gt;1000000&lt;/value&gt;<br>&lt;description&gt;æ“ä½œåŠ¨ä½œæ¬¡æ•°&lt;/description&gt;<br>&lt;/property&gt;<br><br>&lt;property&gt;<br>&lt;name&gt;dfs.namenode.checkpoint.check.period&lt;/name&gt;<br>&lt;value&gt;60s&lt;/value&gt;<br>&lt;description&gt; 1åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡æ“ä½œæ¬¡æ•°&lt;/description&gt;<br>&lt;/property&gt;<br></code></pre></td></tr></table></figure><h2 id="DataNode"><a href="#DataNode" class="headerlink" title="DataNode"></a>DataNode</h2><p><img src="http://cdn.xiamu.icu//Fue-R2YVB_F87Xf3L7x52-hSxgK4.png"><br>ï¼ˆ1ï¼‰ä¸€ä¸ªæ•°æ®å—åœ¨ DataNode ä¸Šä»¥æ–‡ä»¶å½¢å¼å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼ŒåŒ…æ‹¬ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯æ•°æ®æœ¬èº«ï¼Œä¸€ä¸ªæ˜¯å…ƒæ•°æ®åŒ…æ‹¬æ•°æ®å—çš„é•¿åº¦ï¼Œå—æ•°æ®çš„æ ¡éªŒå’Œï¼Œä»¥åŠæ—¶é—´æˆ³ã€‚<br>ï¼ˆ2ï¼‰DataNode å¯åŠ¨åå‘ NameNode æ³¨å†Œï¼Œé€šè¿‡åï¼Œå‘¨æœŸæ€§ï¼ˆ6 å°æ—¶ï¼‰çš„å‘ NameNode ä¸ŠæŠ¥æ‰€æœ‰çš„å—ä¿¡æ¯ã€‚<br>DN å‘ NN æ±‡æŠ¥å½“å‰è§£è¯»ä¿¡æ¯çš„æ—¶é—´é—´éš”ï¼Œé»˜è®¤ 6 å°æ—¶ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;property&gt;<br>&lt;name&gt;dfs.blockreport.intervalMsec&lt;/name&gt;<br>&lt;value&gt;21600000&lt;/value&gt;<br>&lt;description&gt;Determines block reporting interval <span class="hljs-keyword">in</span> milliseconds.&lt;/description&gt;<br>&lt;/property&gt;<br></code></pre></td></tr></table></figure><p>DN æ‰«æè‡ªå·±èŠ‚ç‚¹å—ä¿¡æ¯åˆ—è¡¨çš„æ—¶é—´ï¼Œé»˜è®¤ 6 å°æ—¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;property&gt;<br>&lt;name&gt;dfs.datanode.directoryscan.interval&lt;/name&gt;<br>&lt;value&gt;21600s&lt;/value&gt;<br>&lt;description&gt;Interval <span class="hljs-keyword">in</span> seconds <span class="hljs-keyword">for</span> Datanode to scan data directories and reconcile the difference between blocks <span class="hljs-keyword">in</span> memory and on the disk.<br>Support multiple time unit suffix(<span class="hljs-keyword">case</span> insensitive), as described<br><span class="hljs-keyword">in</span> dfs.heartbeat.interval.<br>&lt;/description&gt;<br>&lt;/property&gt;<br></code></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰å¿ƒè·³æ˜¯æ¯ 3 ç§’ä¸€æ¬¡ï¼Œå¿ƒè·³è¿”å›ç»“æœå¸¦æœ‰ NameNode ç»™è¯¥ DataNode çš„å‘½ä»¤å¦‚å¤åˆ¶å—æ•°æ®åˆ°å¦ä¸€å°æœºå™¨ï¼Œæˆ–åˆ é™¤æŸä¸ªæ•°æ®å—ã€‚å¦‚æœè¶…è¿‡ 10 åˆ†é’Ÿæ²¡æœ‰æ”¶åˆ°æŸä¸ª DataNode çš„å¿ƒè·³ï¼Œåˆ™è®¤ä¸ºè¯¥èŠ‚ç‚¹ä¸å¯ç”¨ã€‚<br>ï¼ˆ4ï¼‰é›†ç¾¤è¿è¡Œä¸­å¯ä»¥å®‰å…¨åŠ å…¥å’Œé€€å‡ºä¸€äº›æœºå™¨ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Hadoop</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hadoop</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…¥é—¨</title>
    <link href="/Hadoop/%E5%85%A5%E9%97%A8/"/>
    <url>/Hadoop/%E5%85%A5%E9%97%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p><img src="http://cdn.xiamu.icu//FtfIbSnsIBeP8p-4iI5D1Ig-H_YA.png"><br><img src="http://cdn.xiamu.icu//FnLhxL-nLpsKfnLXUnTFJZs3Bg03.png"><br>å¤§æ•°æ®ä¸»è¦è§£å†³, æµ·é‡æ•°æ®çš„é‡‡é›†, å­˜å‚¨å’Œåˆ†æè®¡ç®—é—®é¢˜</p><h2 id="linux-çš„é…ç½®"><a href="#linux-çš„é…ç½®" class="headerlink" title="linux çš„é…ç½®"></a>linux çš„é…ç½®</h2><p>è®¾ç½®ç»ˆç«¯çš„å­—ä½“å¤§å°<br>setfont sun12x22</p><p>ä¸€äº›åŸºæœ¬çš„é…ç½®<br>æœ€å°å®‰è£…éœ€è¦å®‰è£…ä¸€äº›å·¥å…·åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum install net-tools wget zip unzip vim-enhanced net-tools -y<br></code></pre></td></tr></table></figure><p>å®‰è£…ç”¨äºä¸Šä¼ , ä¸‹è½½æ–‡ä»¶çš„å·¥å…·åŒ…<br>rz ä¸Šä¼ , zs ä¸‹è½½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum install lrzsz -y<br></code></pre></td></tr></table></figure><p>é…ç½®é™æ€ ip<br>[root@hadoop200 ~]# vim &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens33</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">TYPE=<span class="hljs-string">&quot;Ethernet&quot;</span><br>PROXY_METHOD=<span class="hljs-string">&quot;none&quot;</span><br>BROWSER_ONLY=<span class="hljs-string">&quot;no&quot;</span><br>BOOTPROTO=<span class="hljs-string">&quot;static&quot;</span><br>DEFROUTE=<span class="hljs-string">&quot;yes&quot;</span><br>IPV4_FAILURE_FATAL=<span class="hljs-string">&quot;no&quot;</span><br>IPV6INIT=<span class="hljs-string">&quot;yes&quot;</span><br>IPV6_AUTOCONF=<span class="hljs-string">&quot;yes&quot;</span><br>IPV6_DEFROUTE=<span class="hljs-string">&quot;yes&quot;</span><br>IPV6_FAILURE_FATAL=<span class="hljs-string">&quot;no&quot;</span><br>IPV6_ADDR_GEN_MODE=<span class="hljs-string">&quot;stable-privacy&quot;</span><br>NAME=<span class="hljs-string">&quot;ens33&quot;</span><br>UUID=<span class="hljs-string">&quot;a3b13aa9-1510-453c-8dc7-fab53450f73b&quot;</span><br>DEVICE=<span class="hljs-string">&quot;ens33&quot;</span><br>ONBOOT=<span class="hljs-string">&quot;yes&quot;</span><br><br>IPADDR=192.168.1.200<br>GATEWAY=192.168.1.2<br>DNS1=192.168.1.2<br><br></code></pre></td></tr></table></figure><p>[root@hadoop200 ~]# vi &#x2F;etc&#x2F;hostname</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">hadoop200<br><br></code></pre></td></tr></table></figure><p>[root@hadoop200 ~]# vi &#x2F;etc&#x2F;host</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>192.168.1.200 hadoop200<br>192.168.1.201 hadoop201<br>192.168.1.202 hadoop202<br>192.168.1.203 hadoop203<br>192.168.1.204 hadoop204<br>192.168.1.205 hadoop205<br>192.168.1.206 hadoop206<br>192.168.1.207 hadoop207<br>192.168.1.208 hadoop208<br><br></code></pre></td></tr></table></figure><p>windows ä¸­è®¾ç½® host<br>C:\Windows\System32\drivers\etc</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">192.168.1.200 hadoop200<br>192.168.1.201 hadoop201<br>192.168.1.202 hadoop202<br>192.168.1.203 hadoop203<br>192.168.1.204 hadoop204<br>192.168.1.205 hadoop205<br>192.168.1.206 hadoop206<br>192.168.1.207 hadoop207<br>192.168.1.208 hadoop208<br></code></pre></td></tr></table></figure><p>å…³é—­é˜²ç«å¢™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@hadoop200 ~]<span class="hljs-comment"># systemctl stop firewalld</span><br>[root@hadoop200 ~]<span class="hljs-comment"># systemctl disable firewalld.service</span><br><br></code></pre></td></tr></table></figure><p>é…ç½® atguigu ç”¨æˆ·å…·æœ‰ root æƒé™ï¼Œæ–¹ä¾¿åæœŸåŠ  sudo æ‰§è¡Œ root æƒé™çš„å‘½ä»¤<br>[root@hadoop200 ~]# vim &#x2F;etc&#x2F;sudoers<br>ä¿®æ”¹&#x2F;etc&#x2F;sudoers æ–‡ä»¶ï¼Œåœ¨%wheel è¿™è¡Œä¸‹é¢æ·»åŠ ä¸€è¡Œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">root    ALL=(ALL)       ALL<br><span class="hljs-comment">## Allows members of the &#x27;sys&#x27; group to run networking, software,</span><br><span class="hljs-comment">## Allows people in group wheel to run all commands</span><br>%wheel  ALL=(ALL)       ALL<br>xiamu   ALL=(ALL)     NOPASSWD:ALL<br><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šatguigu è¿™ä¸€è¡Œä¸è¦ç›´æ¥æ”¾åˆ° root è¡Œä¸‹é¢ï¼Œå› ä¸ºæ‰€æœ‰ç”¨æˆ·éƒ½å±äº wheel ç»„ï¼Œä½ å…ˆé…ç½®äº† atguigu å…·æœ‰å…å¯†åŠŸèƒ½ï¼Œä½†æ˜¯ç¨‹åºæ‰§è¡Œåˆ°%wheel è¡Œæ—¶ï¼Œè¯¥åŠŸèƒ½åˆè¢«è¦†ç›–å›éœ€è¦å¯†ç ã€‚æ‰€ä»¥ atguigu è¦æ”¾åˆ°%wheel è¿™è¡Œä¸‹é¢ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop200 opt]$ <span class="hljs-built_in">mkdir</span> module/<br>[xiamu@hadoop200 opt]$ <span class="hljs-built_in">mkdir</span> software/<br>[xiamu@hadoop200 opt]$ sudo <span class="hljs-built_in">chown</span> xiamu:xiamu module/ software/<br>[xiamu@hadoop200 opt]$ ll<br>æ€»ç”¨é‡ 0<br>drwxr-xr-x. 2 xiamu xiamu 6 12æœˆ 30 17:03 module<br>drwxr-xr-x. 2 xiamu xiamu 6 12æœˆ 30 17:04 software<br><br></code></pre></td></tr></table></figure><p>åˆ é™¤ java<br>å¦‚æœæœ‰ java è¯·å…ˆåˆ é™¤<br>æ³¨æ„ï¼šå¦‚æœä½ çš„è™šæ‹Ÿæœºæ˜¯æœ€å°åŒ–å®‰è£…ä¸éœ€è¦æ‰§è¡Œè¿™ä¸€æ­¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@hadoop100 ~]<span class="hljs-comment"># rpm -qa | grep -i java</span><br>[root@hadoop100 ~]<span class="hljs-comment"># rpm -qa | grep -i java | xargs -n1 rpm -e --nodeps</span><br></code></pre></td></tr></table></figure><p>é‡å¯ä¹‹åçš„æ£€æŸ¥ hostname, ip, ä»¥åŠèƒ½å¦ ping é€šå¤–ç½‘</p><h2 id="å®‰è£…-jdk"><a href="#å®‰è£…-jdk" class="headerlink" title="å®‰è£… jdk"></a>å®‰è£… jdk</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 software]$ tar -zxvf jdk-8u212-linux-x64.tar.gz -C /opt/module/<br>[xiamu@hadoop202 software]$ <span class="hljs-built_in">cd</span> /opt/module/jdk1.8.0_212/<br><br><span class="hljs-comment"># æŸ¥çœ‹ä¸€ä¸ªè„šæœ¬, è¿™ä¸ªè„šæœ¬ä¸éœ€è¦æ”¹åŠ¨, è¿™ä¸ªè„šæœ¬ä¼šå¾ªç¯éå†profile.dä¸‹çš„æ‰€æœ‰.shæ–‡ä»¶</span><br>[xiamu@hadoop202 jdk1.8.0_212]$ vim /etc/profile<br>[xiamu@hadoop202 jdk1.8.0_212]$ <span class="hljs-built_in">cd</span> /etc/profile.d/<br><br>[xiamu@hadoop202 profile.d]$ sudo vim my_env.sh<br><span class="hljs-comment">#JAVA_HOME</span><br><span class="hljs-built_in">export</span> JAVA_HOME=/opt/module/jdk1.8.0_212<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$JAVA_HOME</span>/bin<br><br><span class="hljs-comment"># é‡æ–°éå†ä¸€æŠŠprofileä¸­çš„æ–‡ä»¶</span><br>[xiamu@hadoop202 profile.d]$ <span class="hljs-built_in">source</span> /etc/profile<br><br>[xiamu@hadoop202 hadoop-3.1.3]$ java -version<br>java version <span class="hljs-string">&quot;1.8.0_212&quot;</span><br><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…-Hadoop"><a href="#å®‰è£…-Hadoop" class="headerlink" title="å®‰è£… Hadoop"></a>å®‰è£… Hadoop</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 software]$ tar -zxvf hadoop-3.1.3.tar.gz -C /opt/module/<br><br>[xiamu@hadoop202 hadoop-3.1.3]$ sudo vim /etc/profile.d/my_env.sh<br><span class="hljs-comment">#HADOOP_HOME</span><br><span class="hljs-built_in">export</span> HADOOP_HOME=/opt/module/hadoop-3.1.3<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$HADOOP_HOME</span>/bin<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$HADOOP_HOME</span>/sbin<br><br>[xiamu@hadoop202 hadoop-3.1.3]$ <span class="hljs-built_in">source</span> /etc/profile<br><br></code></pre></td></tr></table></figure><p>hadoop ç›®å½•<br><img src="http://cdn.xiamu.icu//FlGpj-FH70qApneeEZIV8VgFtjS6.png"><br>bin: å¸¸ç”¨çš„å‘½ä»¤ hdfs, yarn, mapred<br>å¸¸ç”¨çš„æ–‡ä»¶å¤¹ bin, etc, sbin</p><h2 id="æœ¬åœ°è¿è¡Œæ¨¡å¼"><a href="#æœ¬åœ°è¿è¡Œæ¨¡å¼" class="headerlink" title="æœ¬åœ°è¿è¡Œæ¨¡å¼"></a>æœ¬åœ°è¿è¡Œæ¨¡å¼</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>[xiamu@hadoop202 hadoop-3.1.3]$ <span class="hljs-built_in">mkdir</span> wcinput<br>[xiamu@hadoop202 hadoop-3.1.3]$ <span class="hljs-built_in">cd</span> wcinput<br>[xiamu@hadoop202 wcinput]$ vim word.txt<br>ss ss<br>cls cls<br>banzhang<br>bobo<br>yangge<br><br><br><span class="hljs-comment"># ç»Ÿè®¡å•è¯æ•°é‡</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount wcinput/ ./wcoutput<br>[xiamu@hadoop202 hadoop-3.1.3]$ <span class="hljs-built_in">cd</span> wcoutput/<br>[xiamu@hadoop202 wcoutput]$ ll<br>æ€»ç”¨é‡ 4<br>-rw-r--r--. 1 xiamu xiamu 38 12æœˆ 31 01:07 part-r-00000<br>-rw-r--r--. 1 xiamu xiamu  0 12æœˆ 31 01:07 _SUCCESS<br>[xiamu@hadoop202 wcoutput]$ <span class="hljs-built_in">cat</span> part-r-00000<br>banzhang1<br>bobo1<br>cls2<br>ss2<br>yangge1<br><br><span class="hljs-comment"># å†æ¬¡è¿è¡Œå°±ä¼šæŠ¥é”™, åŸå› æ˜¯å› ä¸ºè¾“å‡ºçš„ç›®å½•å·²ç»å­˜åœ¨äº†</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount wcinput/ ./wcoutput<br>org.apache.hadoop.mapred.FileAlreadyExistsException: Output directory file:/opt/module/hadoop-3.1.3/wcoutput already exists<br><br></code></pre></td></tr></table></figure><h2 id="scp-æ‹·è´å‘½ä»¤"><a href="#scp-æ‹·è´å‘½ä»¤" class="headerlink" title="scp æ‹·è´å‘½ä»¤"></a>scp æ‹·è´å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æŠŠhadoop202ä¸­çš„jdk1.8.0_212ç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´åˆ°hadoop203ä¸­å»äº†</span><br>[xiamu@hadoop202 module]$ scp -r jdk1.8.0_212/ xiamu@hadoop203:/opt/module/<br><br><span class="hljs-comment"># æŠŠhadoop202ä¸­çš„hadoop-3.1.3ç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´åˆ°hadoop203ä¸­æ¥äº†</span><br>[xiamu@hadoop203 module]$ scp -r xiamu@hadoop202:/opt/module/hadoop-3.1.3 ./<br><br><span class="hljs-comment"># ç”šè‡³å¯ä»¥æŠŠhadoop202ä¸­çš„ç›®å½•æ‹·è´åˆ°hadoop204ä¸­å»</span><br>[xiamu@hadoop203 module]$ scp -r xiamu@hadoop202:/opt/module/* xiamu@hadoop204:/opt/module/<br><br></code></pre></td></tr></table></figure><h2 id="rsync-å‘½ä»¤"><a href="#rsync-å‘½ä»¤" class="headerlink" title="rsync å‘½ä»¤"></a>rsync å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># åŒæ­¥å‘½ä»¤, ä¿®æ”¹æŸä¸€ä¸ªæ–‡ä»¶, æ‰§è¡Œè¯¥å‘½ä»¤å°±ä¼šæŠŠä¿®æ”¹çš„æ–‡ä»¶è¯¥åŒæ­¥è¿‡å»</span><br><span class="hljs-comment"># å‰ææ˜¯æœåŠ¡å™¨ä¸Šéœ€è¦å®‰è£…rsync</span><br>[xiamu@hadoop202 module]$ sudo yum install rsync<br>[xiamu@hadoop202 module]$ rsync -av hadoop-3.1.3/ xiamu@hadoop203:/opt/module/hadoop-3.1.3/<br><br><br></code></pre></td></tr></table></figure><h2 id="xsync-é›†ç¾¤åˆ†å‘è„šæœ¬"><a href="#xsync-é›†ç¾¤åˆ†å‘è„šæœ¬" class="headerlink" title="xsync é›†ç¾¤åˆ†å‘è„šæœ¬"></a>xsync é›†ç¾¤åˆ†å‘è„šæœ¬</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 ~]$ <span class="hljs-built_in">cd</span> /home/xiamu/<br>[xiamu@hadoop202 ~]$ <span class="hljs-built_in">mkdir</span> bin<br>[xiamu@hadoop202 ~]$ <span class="hljs-built_in">cd</span> bin/<br>[xiamu@hadoop202 bin]$ vim xsync<br><br><br><span class="hljs-comment">#!/bin/bash</span><br><br><span class="hljs-comment">#1. åˆ¤æ–­å‚æ•°ä¸ªæ•°</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$#</span> -lt 1 ]<br><span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> Not Enough Arguement!<br>    <span class="hljs-built_in">exit</span>;<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment">#2. éå†é›†ç¾¤æ‰€æœ‰æœºå™¨</span><br><span class="hljs-keyword">for</span> host <span class="hljs-keyword">in</span> hadoop202 hadoop203 hadoop204<br><span class="hljs-keyword">do</span><br>    <span class="hljs-built_in">echo</span> ====================  <span class="hljs-variable">$host</span>  ====================<br>    <span class="hljs-comment">#3. éå†æ‰€æœ‰ç›®å½•ï¼ŒæŒ¨ä¸ªå‘é€</span><br><br>    <span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> <span class="hljs-variable">$@</span><br>    <span class="hljs-keyword">do</span><br>        <span class="hljs-comment">#4. åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span><br>        <span class="hljs-keyword">if</span> [ -e <span class="hljs-variable">$file</span> ]<br>            <span class="hljs-keyword">then</span><br>                <span class="hljs-comment">#5. è·å–çˆ¶ç›®å½•</span><br>                pdir=$(<span class="hljs-built_in">cd</span> -P $(<span class="hljs-built_in">dirname</span> <span class="hljs-variable">$file</span>); <span class="hljs-built_in">pwd</span>)<br><br>                <span class="hljs-comment">#6. è·å–å½“å‰æ–‡ä»¶çš„åç§°</span><br>                fname=$(<span class="hljs-built_in">basename</span> <span class="hljs-variable">$file</span>)<br>                ssh <span class="hljs-variable">$host</span> <span class="hljs-string">&quot;mkdir -p <span class="hljs-variable">$pdir</span>&quot;</span><br>                rsync -av <span class="hljs-variable">$pdir</span>/<span class="hljs-variable">$fname</span> <span class="hljs-variable">$host</span>:<span class="hljs-variable">$pdir</span><br>            <span class="hljs-keyword">else</span><br>                <span class="hljs-built_in">echo</span> <span class="hljs-variable">$file</span> does not exists!<br>        <span class="hljs-keyword">fi</span><br>    <span class="hljs-keyword">done</span><br><span class="hljs-keyword">done</span><br><br><br><br>ä¿®æ”¹è„šæœ¬ xsync å…·æœ‰æ‰§è¡Œæƒé™<br>[xiamu@hadoop202 bin]$ <span class="hljs-built_in">chmod</span> 777 xsync<br>[xiamu@hadoop202 bin]$ xsync /home/xiamu/bin<br>[xiamu@hadoop202 bin]$ sudo <span class="hljs-built_in">cp</span> xsync /bin/<br>[xiamu@hadoop202 bin]$ sudo ./bin/xsync /etc/profile.d/my_env.sh<br>æ³¨æ„ï¼šå¦‚æœç”¨äº†sudoï¼Œé‚£ä¹ˆxsyncä¸€å®šè¦ç»™å®ƒçš„è·¯å¾„è¡¥å…¨ã€‚<br>è®©ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ<br>[xiamu@hadoop203 ~]$ <span class="hljs-built_in">source</span> /etc/profile<br>[xiamu@hadoop204 ~]$ <span class="hljs-built_in">source</span> /etc/profile<br><br></code></pre></td></tr></table></figure><h2 id="è®¾ç½®-ssh-å…å¯†ç™»å½•"><a href="#è®¾ç½®-ssh-å…å¯†ç™»å½•" class="headerlink" title="è®¾ç½® ssh å…å¯†ç™»å½•"></a>è®¾ç½® ssh å…å¯†ç™»å½•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 .ssh]$ <span class="hljs-built_in">pwd</span><br>/home/xiamu/.ssh<br><span class="hljs-comment"># ç”Ÿæˆå…¬é’¥å’Œç§é’¥</span><br><span class="hljs-comment"># ç„¶åæ•²ï¼ˆä¸‰ä¸ªå›è½¦ï¼‰ï¼Œå°±ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶id_rsaï¼ˆç§é’¥ï¼‰ã€id_rsa.pubï¼ˆå…¬é’¥ï¼‰</span><br>[xiamu@hadoop202 ~]$ ssh-keygen -t rsa<br>[xiamu@hadoop202 ~]$ <span class="hljs-built_in">cd</span> .ssh/<br>[xiamu@hadoop202 .ssh]$ ll<br>æ€»ç”¨é‡ 12<br>-rw-------. 1 xiamu xiamu 1675 12æœˆ 31 04:20 id_rsa<br>-rw-r--r--. 1 xiamu xiamu  397 12æœˆ 31 04:20 id_rsa.pub<br>-rw-r--r--. 1 xiamu xiamu  726 12æœˆ 31 02:22 known_hosts<br><br>[xiamu@hadoop202 .ssh]$ <span class="hljs-built_in">cat</span> id_rsa<br>-----BEGIN RSA PRIVATE KEY-----<br>MIIEowIBAAKCAQEAs27rMM0gTqHTYpPExLsuhvzO2Z3hZPellncDj/pvqFClFCzy<br>...<br>-----END RSA PRIVATE KEY-----<br><br>[xiamu@hadoop202 .ssh]$ <span class="hljs-built_in">cat</span> id_rsa.pub<br>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCzbuswzSBOodNik8TEuy6G/M7ZneFk96WWdwOP+m+oUKUULPKxsadl++5yQLt+rlauC/jNF9S93TbJEasoBJHsxywTdwe4gmxT5Kx73kDTg41y9vn8gduZdxeOEe3bYvmsJKGpSyPw9ZIqz2mrvIjj1SHE9/CZHQzU9a4EnPePoltYHyP4wIzwauThuQcmFa2O3aZZEYxBdUZxLrFZviI02SQd4raHR7h5nMkGbsMWqjAq3Ky4p1i1Pji0P5Uj++L4A7aL2qiIKXcpW3JeUPx/xdvfPB+Q/llNUaMahIayacNVHbnBDGZdJC3e5qXplBzjcst/RB+KzF2nL8XZp0LX xiamu@hadoop202<br><br><span class="hljs-comment"># å°†å…¬é’¥æ‹·è´åˆ°è¦å…å¯†ç™»å½•çš„ç›®æ ‡æœºå™¨ä¸Š</span><br>[xiamu@hadoop202 .ssh]$ ssh-copy-id hadoop202<br>[xiamu@hadoop202 .ssh]$ ssh-copy-id hadoop203<br>[xiamu@hadoop202 .ssh]$ ssh-copy-id hadoop204<br><br>[xiamu@hadoop202 .ssh]$ ll<br>æ€»ç”¨é‡ 16<br>-rw-------. 1 xiamu xiamu  397 12æœˆ 31 04:30 authorized_keys<br>-rw-------. 1 xiamu xiamu 1675 12æœˆ 31 04:20 id_rsa<br>-rw-r--r--. 1 xiamu xiamu  397 12æœˆ 31 04:20 id_rsa.pub<br>-rw-r--r--. 1 xiamu xiamu  726 12æœˆ 31 02:22 known_hosts<br><br>known_hosts è®°å½•sshè®¿é—®è¿‡è®¡ç®—æœºçš„å…¬é’¥ï¼ˆpublic keyï¼‰<br>id_rsa ç”Ÿæˆçš„ç§é’¥<br>id_rsa.pub ç”Ÿæˆçš„å…¬é’¥<br>authorized_keys å­˜æ”¾æˆæƒè¿‡çš„æ— å¯†ç™»å½•æœåŠ¡å™¨å…¬é’¥<br><br>æ³¨æ„ï¼š<br>è¿˜éœ€è¦åœ¨hadoop103ä¸Šé‡‡ç”¨xiamuè´¦å·é…ç½®ä¸€ä¸‹æ— å¯†ç™»å½•åˆ°hadoop202ã€hadoop203ã€hadoop204æœåŠ¡å™¨ä¸Šã€‚<br>è¿˜éœ€è¦åœ¨hadoop104ä¸Šé‡‡ç”¨xiamuè´¦å·é…ç½®ä¸€ä¸‹æ— å¯†ç™»å½•åˆ°hadoop202ã€hadoop203ã€hadoop204æœåŠ¡å™¨ä¸Šã€‚<br>è¿˜éœ€è¦åœ¨hadoop102ä¸Šé‡‡ç”¨rootè´¦å·ï¼Œé…ç½®ä¸€ä¸‹æ— å¯†ç™»å½•åˆ°hadoop202ã€hadoop203ã€hadoop204ï¼›<br></code></pre></td></tr></table></figure><h2 id="é›†ç¾¤é…ç½®"><a href="#é›†ç¾¤é…ç½®" class="headerlink" title="é›†ç¾¤é…ç½®"></a>é›†ç¾¤é…ç½®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 hadoop]$ vim core-site.xml<br>&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;<br>&lt;?xml-stylesheet <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;text/xsl&quot;</span> href=<span class="hljs-string">&quot;configuration.xsl&quot;</span>?&gt;<br><br>&lt;!-- Put site-specific property overrides <span class="hljs-keyword">in</span> this file. --&gt;<br><br>&lt;configuration&gt;<br>    &lt;!-- æŒ‡å®šNameNodeçš„åœ°å€ --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;fs.defaultFS&lt;/name&gt;<br>        &lt;value&gt;hdfs://hadoop202:8020&lt;/value&gt;<br>    &lt;/property&gt;<br><br>    &lt;!-- æŒ‡å®šhadoopæ•°æ®çš„å­˜å‚¨ç›®å½• --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;<br>        &lt;value&gt;/opt/module/hadoop-3.1.3/data&lt;/value&gt;<br>    &lt;/property&gt;<br>    &lt;!-- é…ç½®HDFSç½‘é¡µç™»å½•ä½¿ç”¨çš„é™æ€ç”¨æˆ·ä¸ºxiamu --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;hadoop.http.staticuser.user&lt;/name&gt;<br>        &lt;value&gt;xiamu&lt;/value&gt;<br>    &lt;/property&gt;<br>&lt;/configuration&gt;<br><br>[xiamu@hadoop202 hadoop]$ vim hdfs-site.xml<br>&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;<br>&lt;?xml-stylesheet <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;text/xsl&quot;</span> href=<span class="hljs-string">&quot;configuration.xsl&quot;</span>?&gt;<br><br>&lt;!-- Put site-specific property overrides <span class="hljs-keyword">in</span> this file. --&gt;<br><br>&lt;configuration&gt;<br>    &lt;!-- nn webç«¯è®¿é—®åœ°å€--&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;dfs.namenode.http-address&lt;/name&gt;<br>        &lt;value&gt;hadoop202:9870&lt;/value&gt;<br>    &lt;/property&gt;<br>    &lt;!-- 2nn webç«¯è®¿é—®åœ°å€--&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;<br>        &lt;value&gt;hadoop204:9868&lt;/value&gt;<br>    &lt;/property&gt;<br>&lt;/configuration&gt;<br><br>[xiamu@hadoop202 hadoop]$ vim yarn-site.xml<br>&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span>?&gt;<br>&lt;configuration&gt;<br><br>&lt;!-- æŒ‡å®šMRèµ°shuffle --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;<br>        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;<br>    &lt;/property&gt;<br><br>    &lt;!-- æŒ‡å®šResourceManagerçš„åœ°å€--&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;<br>        &lt;value&gt;hadoop203&lt;/value&gt;<br>    &lt;/property&gt;<br><br>    &lt;!-- ç¯å¢ƒå˜é‡çš„ç»§æ‰¿ --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;<br>        &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt;<br>    &lt;/property&gt;<br><br>&lt;/configuration&gt;<br><br>[xiamu@hadoop202 hadoop]$ vim mapred-site.xml<br>&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span>?&gt;<br>&lt;?xml-stylesheet <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;text/xsl&quot;</span> href=<span class="hljs-string">&quot;configuration.xsl&quot;</span>?&gt;<br><br>&lt;!-- Put site-specific property overrides <span class="hljs-keyword">in</span> this file. --&gt;<br><br>&lt;configuration&gt;<br>    &lt;!-- æŒ‡å®šMapReduceç¨‹åºè¿è¡Œåœ¨Yarnä¸Š --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;<br>        &lt;value&gt;yarn&lt;/value&gt;<br>    &lt;/property&gt;<br>&lt;/configuration&gt;<br><br></code></pre></td></tr></table></figure><h2 id="ç¾¤èµ·é›†ç¾¤"><a href="#ç¾¤èµ·é›†ç¾¤" class="headerlink" title="ç¾¤èµ·é›†ç¾¤"></a>ç¾¤èµ·é›†ç¾¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 hadoop]$ <span class="hljs-built_in">pwd</span><br>/opt/module/hadoop-3.1.3/etc/hadoop<br>[xiamu@hadoop202 hadoop]$ vim workers<br><br>hadoop202<br>hadoop203<br>hadoop204<br><br><span class="hljs-comment"># æ³¨æ„, ä¸Šé¢é…ç½®ä¸‰ä¸ªä¸»æœºåä¸è¦æœ‰ä»»ä½•å¤šä½™çš„ç©ºæ ¼å’Œç©ºè¡Œ</span><br><br><span class="hljs-comment"># å¦‚æœé›†ç¾¤æ˜¯ç¬¬ä¸€æ¬¡å¯åŠ¨ï¼Œéœ€è¦åœ¨hadoop202èŠ‚ç‚¹æ ¼å¼åŒ–NameNode</span><br><span class="hljs-comment"># ï¼ˆæ³¨æ„ï¼šæ ¼å¼åŒ–NameNodeï¼Œä¼šäº§ç”Ÿæ–°çš„é›†ç¾¤idï¼Œå¯¼è‡´NameNodeå’ŒDataNodeçš„é›†ç¾¤idä¸ä¸€è‡´ï¼Œ</span><br><span class="hljs-comment"># é›†ç¾¤æ‰¾ä¸åˆ°å·²å¾€æ•°æ®ã€‚å¦‚æœé›†ç¾¤åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æŠ¥é”™ï¼Œéœ€è¦é‡æ–°æ ¼å¼åŒ–NameNodeçš„è¯ï¼Œ</span><br><span class="hljs-comment"># ä¸€å®šè¦å…ˆåœæ­¢namenodeå’Œdatanodeè¿›ç¨‹ï¼Œå¹¶ä¸”è¦åˆ é™¤æ‰€æœ‰æœºå™¨çš„dataå’Œlogsç›®å½•ï¼Œç„¶åå†è¿›è¡Œæ ¼å¼åŒ–ã€‚ï¼‰</span><br><br><span class="hljs-comment"># ç¬¬ä¸€æ¬¡å¯åŠ¨éœ€è¦åˆå§‹åŒ–</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ hdfs namenode -format<br><span class="hljs-comment"># å¯åŠ¨HDFS</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ sbin/start-dfs.sh<br><br><br><span class="hljs-comment"># åœ¨é…ç½®äº†ResourceManagerçš„èŠ‚ç‚¹ï¼ˆhadoop103ï¼‰å¯åŠ¨YARN</span><br>[xiamu@hadoop203 hadoop-3.1.3]$ sbin/start-yarn.sh<br><br><span class="hljs-comment"># æŸ¥çœ‹å†å²æœåŠ¡å™¨</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ jps<br>1876 DataNode<br>2199 NodeManager<br>2296 Jps<br>1757 NameNode<br>[xiamu@hadoop203 hadoop-3.1.3]$ jps<br>1714 ResourceManager<br>2163 Jps<br>1828 NodeManager<br>1531 DataNode<br>[xiamu@hadoop204 ~]$ jps<br>1520 DataNode<br>1605 SecondaryNameNode<br>1749 NodeManager<br>1850 Jps<br><br></code></pre></td></tr></table></figure><p><a href="http://hadoop202:9870/dfshealth.html#tab-overview">http://hadoop202:9870</a><br>Web ç«¯æŸ¥çœ‹ HDFS çš„ NameNode<br><img src="http://cdn.xiamu.icu//Fv5T3hG1veWZhXYxt-elY2930Vlx.png"><br>Web ç«¯æŸ¥çœ‹ YARN çš„ ResourceManager<br><a href="http://hadoop203:8088/cluster">http://hadoop203:8088/cluster</a><br><img src="http://cdn.xiamu.icu//FupHJug1Gka4Ydq_oqi4h2Dqug5k.png"></p><h2 id="é›†ç¾¤åŸºæœ¬æµ‹è¯•-ä¸Šä¼ æ–‡ä»¶"><a href="#é›†ç¾¤åŸºæœ¬æµ‹è¯•-ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="é›†ç¾¤åŸºæœ¬æµ‹è¯•(ä¸Šä¼ æ–‡ä»¶)"></a><strong>é›†ç¾¤åŸºæœ¬æµ‹è¯•(ä¸Šä¼ æ–‡ä»¶)</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -<span class="hljs-built_in">mkdir</span> /wcinput<br><br><span class="hljs-comment"># ä¸Šä¼ å°æ–‡ä»¶</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -put wcinput/word.txt /wcinput<br><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œæˆä¹‹åé¡µé¢å¤šäº†ä¸€ä¸ªç›®å½•, ç›®å½•ä¸­åŒ…å«ç€ word.txt æ–‡ä»¶<br><img src="http://cdn.xiamu.icu//FpQgXd8kTDTg8ftMn_u6pqENUlBD.png"><br><img src="http://cdn.xiamu.icu//FiaZOsuaVRQsdHpCTkemiNYcTNSD.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><span class="hljs-comment"># ä¸Šä¼ ä¸€ä¸ªå¤§æ–‡ä»¶</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -put /opt/software/jdk-8u212-linux-x64.tar.gz /<br><br><br><span class="hljs-comment"># hdfsæ–‡ä»¶å­˜å‚¨çš„ä½ç½®åœ¨hadoopæ ¹ç›®å½•ä¸­dataç›®å½•ä¸‹</span><br>[xiamu@hadoop202 subdir0]$ <span class="hljs-built_in">pwd</span><br>/opt/module/hadoop-3.1.3/data/dfs/data/current/BP-1090801922-192.168.1.202-1672543197610/current/finalized/subdir0/subdir0<br>[xiamu@hadoop202 subdir0]$ <span class="hljs-built_in">ls</span><br>blk_1073741825            blk_1073741826_1002.meta<br>blk_1073741825_1001.meta  blk_1073741827<br>blk_1073741826            blk_1073741827_1003.meta<br><br>[xiamu@hadoop202 subdir0]$ <span class="hljs-built_in">cat</span> blk_1073741826 &gt;&gt; tmp.tar.gz<br>[xiamu@hadoop202 subdir0]$ <span class="hljs-built_in">cat</span> blk_1073741827 &gt;&gt; tmp.tar.gz<br>[xiamu@hadoop202 subdir0]$ tar -zxvf tmp.tar.gz<br>[xiamu@hadoop202 subdir0]$ <span class="hljs-built_in">ls</span><br>blk_1073741825            blk_1073741826            blk_1073741827            jdk1.8.0_212<br>blk_1073741825_1001.meta  blk_1073741826_1002.meta  blk_1073741827_1003.meta  tmp.tar.gz<br><br><span class="hljs-comment"># è¿™å°±è¯´æ˜äº†blk_1073741826å’Œblk_1073741827å°±æ˜¯jdk</span><br><br><span class="hljs-comment"># æ‰§è¡Œwordcount, ç»Ÿè®¡æ–‡ä»¶çš„è¯æ•°</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount /wcinput /123<br><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FkiEqvU1SveWOTKNlpOG3pmcQiaB.png"></p><h2 id="é›†ç¾¤å´©æºƒé‡å¯æ–¹æ¡ˆ"><a href="#é›†ç¾¤å´©æºƒé‡å¯æ–¹æ¡ˆ" class="headerlink" title="é›†ç¾¤å´©æºƒé‡å¯æ–¹æ¡ˆ"></a>é›†ç¾¤å´©æºƒé‡å¯æ–¹æ¡ˆ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">åˆ é™¤æ‰€æœ‰é›†ç¾¤hadoopæ ¹ç›®å½•ä¸‹çš„data, <span class="hljs-built_in">log</span>ç›®å½•<br>åœæ­¢dfså’Œyarn<br>[xiamu@hadoop202 hadoop-3.1.3]$ stop-dfs.sh<br>[xiamu@hadoop203 hadoop-3.1.3]$ stop-yarn.sh<br><br><span class="hljs-comment"># æ ¼å¼åŒ–namenode</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ hdfs namenode -format<br><br><span class="hljs-comment"># å¯åŠ¨HDFS</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ start-dfs.sh<br><br><span class="hljs-comment"># å¯åŠ¨YARN</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ start-yarn.sh<br></code></pre></td></tr></table></figure><h2 id="é…ç½®å†å²æœåŠ¡å™¨"><a href="#é…ç½®å†å²æœåŠ¡å™¨" class="headerlink" title="é…ç½®å†å²æœåŠ¡å™¨"></a>é…ç½®å†å²æœåŠ¡å™¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 hadoop]$ vim mapred-site.xml<br>&lt;configuration&gt;<br>    &lt;!-- æŒ‡å®šMapReduceç¨‹åºè¿è¡Œåœ¨Yarnä¸Š --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;<br>        &lt;value&gt;yarn&lt;/value&gt;<br>    &lt;/property&gt;<br>    &lt;!-- å†å²æœåŠ¡å™¨ç«¯åœ°å€ --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;<br>        &lt;value&gt;hadoop202:10020&lt;/value&gt;<br>    &lt;/property&gt;<br><br>    &lt;!-- å†å²æœåŠ¡å™¨webç«¯åœ°å€ --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;<br>        &lt;value&gt;hadoop202:19888&lt;/value&gt;<br>    &lt;/property&gt;<br>&lt;/configuration&gt;<br><br><br><span class="hljs-comment"># åˆ†å‘é…ç½®</span><br>[xiamu@hadoop202 hadoop]$ xsync mapred-site.xml<br><br><span class="hljs-comment"># å¯åŠ¨å†å²æœåŠ¡å™¨</span><br>[xiamu@hadoop202 hadoop]$ mapred --daemon start historyserver<br><span class="hljs-comment"># æŸ¥çœ‹å†å²æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨</span><br>[xiamu@hadoop202 hadoop]$ jps<br>4420 NodeManager<br>4117 DataNode<br>4661 Jps<br>4620 JobHistoryServer<br>3998 NameNode<br><br><span class="hljs-comment"># é‡å¯YARN</span><br>[xiamu@hadoop203 hadoop]$ stop-yarn.sh<br>[xiamu@hadoop203 hadoop]$ start-yarn.sh<br><br><span class="hljs-comment"># ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶åˆ°hdfs</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -<span class="hljs-built_in">mkdir</span> /input<br>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop fs -put ./wcinput/word.txt /input<br>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount /input /output<br><br></code></pre></td></tr></table></figure><h2 id="é…ç½®æ—¥å¿—çš„èšé›†"><a href="#é…ç½®æ—¥å¿—çš„èšé›†" class="headerlink" title="é…ç½®æ—¥å¿—çš„èšé›†"></a>é…ç½®æ—¥å¿—çš„èšé›†</h2><p>æ—¥å¿—èšé›†æ¦‚å¿µï¼šåº”ç”¨è¿è¡Œå®Œæˆä»¥åï¼Œå°†ç¨‹åºè¿è¡Œæ—¥å¿—ä¿¡æ¯ä¸Šä¼ åˆ° HDFS ç³»ç»Ÿä¸Šã€‚<br>æ—¥å¿—èšé›†åŠŸèƒ½å¥½å¤„ï¼šå¯ä»¥æ–¹ä¾¿çš„æŸ¥çœ‹åˆ°ç¨‹åºè¿è¡Œè¯¦æƒ…ï¼Œæ–¹ä¾¿å¼€å‘è°ƒè¯•ã€‚<br>æ³¨æ„ï¼šå¼€å¯æ—¥å¿—èšé›†åŠŸèƒ½ï¼Œéœ€è¦é‡æ–°å¯åŠ¨ NodeManager ã€ResourceManager å’Œ HistoryServerã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 hadoop]$ vim yarn-site.xml<br>    &lt;!-- å¼€å¯æ—¥å¿—èšé›†åŠŸèƒ½ --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;yarn.log-aggregation-enable&lt;/name&gt;<br>        &lt;value&gt;<span class="hljs-literal">true</span>&lt;/value&gt;<br>    &lt;/property&gt;<br>    &lt;!-- è®¾ç½®æ—¥å¿—èšé›†æœåŠ¡å™¨åœ°å€ --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;yarn.log.server.url&lt;/name&gt;<br>        &lt;value&gt;http://hadoop202:19888/jobhistory/logs&lt;/value&gt;<br>    &lt;/property&gt;<br>    &lt;!-- è®¾ç½®æ—¥å¿—ä¿ç•™æ—¶é—´ä¸º7å¤© --&gt;<br>    &lt;property&gt;<br>        &lt;name&gt;yarn.log-aggregation.retain-seconds&lt;/name&gt;<br>        &lt;value&gt;604800&lt;/value&gt;<br>    &lt;/property&gt;<br><br><span class="hljs-comment"># åˆ†å‘é…ç½®æ–‡ä»¶</span><br>[xiamu@hadoop202 hadoop]$ xsync yarn-site.xml<br><br><span class="hljs-comment"># é‡å¯yarn</span><br>[xiamu@hadoop203 hadoop]$ stop-yarn.sh<br>[xiamu@hadoop202 hadoop]$ mapred --daemon stop historyserver<br>[xiamu@hadoop203 hadoop]$ start-yarn.sh<br>[xiamu@hadoop202 hadoop]$ mapred --daemon start historyserver<br><br><span class="hljs-comment"># æ‰§è¡Œä¸€ä¸ªç¨‹åº</span><br>[xiamu@hadoop202 hadoop-3.1.3]$ hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount /input /output2<br><br></code></pre></td></tr></table></figure><p>ä»<a href="http://hadoop203:8088/cluster">http://hadoop203:8088/cluster</a>è®¿é—®, æŸ¥çœ‹å½“å‰æ­£åœ¨æ‰§è¡Œçš„ç¨‹åº, æ‰§è¡Œå®Œæˆä¹‹åå°±å¯ä»¥ç‚¹è¿›å»æŸ¥çœ‹æ—¥å¿—</p><h2 id="ç¼–å†™-Hadoop-é›†ç¾¤å¸¸ç”¨è„šæœ¬"><a href="#ç¼–å†™-Hadoop-é›†ç¾¤å¸¸ç”¨è„šæœ¬" class="headerlink" title="ç¼–å†™ Hadoop é›†ç¾¤å¸¸ç”¨è„šæœ¬"></a>ç¼–å†™ Hadoop é›†ç¾¤å¸¸ç”¨è„šæœ¬</h2><p>Hadoop é›†ç¾¤å¯åœè„šæœ¬ï¼ˆåŒ…å« HDFSï¼ŒYarnï¼ŒHistoryserverï¼‰ï¼šmyhadoop.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 ~]$ <span class="hljs-built_in">cd</span> /home/xiamu/bin/<br>[xiamu@hadoop202 bin]$ vim myhadoop.sh<br><br><span class="hljs-comment">#!/bin/bash</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$#</span> -lt 1 ]<br><span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;No Args Input...&quot;</span><br>    <span class="hljs-built_in">exit</span> ;<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">case</span> <span class="hljs-variable">$1</span> <span class="hljs-keyword">in</span><br><span class="hljs-string">&quot;start&quot;</span>)<br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; =================== å¯åŠ¨ hadoopé›†ç¾¤ ===================&quot;</span><br><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- å¯åŠ¨ hdfs ---------------&quot;</span><br>        ssh hadoop202 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/sbin/start-dfs.sh&quot;</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- å¯åŠ¨ yarn ---------------&quot;</span><br>        ssh hadoop203 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/sbin/start-yarn.sh&quot;</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- å¯åŠ¨ historyserver ---------------&quot;</span><br>        ssh hadoop202 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/bin/mapred --daemon start historyserver&quot;</span><br>;;<br><span class="hljs-string">&quot;stop&quot;</span>)<br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; =================== å…³é—­ hadoopé›†ç¾¤ ===================&quot;</span><br><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- å…³é—­ historyserver ---------------&quot;</span><br>        ssh hadoop202 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/bin/mapred --daemon stop historyserver&quot;</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- å…³é—­ yarn ---------------&quot;</span><br>        ssh hadoop203 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/sbin/stop-yarn.sh&quot;</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; --------------- å…³é—­ hdfs ---------------&quot;</span><br>        ssh hadoop202 <span class="hljs-string">&quot;/opt/module/hadoop-3.1.3/sbin/stop-dfs.sh&quot;</span><br>;;<br>*)<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Input Args Error...&quot;</span><br>;;<br><span class="hljs-keyword">esac</span><br><br><br>[xiamu@hadoop202 bin]$ <span class="hljs-built_in">chmod</span> 777 myhadoop.sh<br><br><span class="hljs-comment"># å…³é—­HDFSï¼ŒYarnï¼ŒHistoryserver</span><br>[xiamu@hadoop202 bin]$ myhadoop.sh stop<br><br><span class="hljs-comment"># å¼€å¯HDFSï¼ŒYarnï¼ŒHistoryserver</span><br>[xiamu@hadoop202 ~]$ myhadoop.sh start<br><br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹ä¸‰å°æœåŠ¡å™¨ Java è¿›ç¨‹è„šæœ¬ï¼šjpsall</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 ~]$ <span class="hljs-built_in">cd</span> /home/xiamu/bin<br>[xiamu@hadoop202 bin]$ vim jpsall<br><br><span class="hljs-comment">#!/bin/bash</span><br><br><span class="hljs-keyword">for</span> host <span class="hljs-keyword">in</span> hadoop202 hadoop203 hadoop204<br><span class="hljs-keyword">do</span><br>        <span class="hljs-built_in">echo</span> =============== <span class="hljs-variable">$host</span> ===============<br>        ssh <span class="hljs-variable">$host</span> jps<br><span class="hljs-keyword">done</span><br><br>[xiamu@hadoop202 bin]$ <span class="hljs-built_in">chmod</span> 777 jpsall<br><span class="hljs-comment"># æ‰§è¡Œæ–¹å¼</span><br>[xiamu@hadoop202 bin]$ jpsall<br><br><span class="hljs-comment"># åˆ†å‘è„šæœ¬</span><br>[xiamu@hadoop202 ~]$ xsync /home/xiamu/bin/<br><br></code></pre></td></tr></table></figure><h2 id="å¸¸ç”¨ç«¯å£å·"><a href="#å¸¸ç”¨ç«¯å£å·" class="headerlink" title="å¸¸ç”¨ç«¯å£å·"></a>å¸¸ç”¨ç«¯å£å·</h2><p>hadoop3.x<br>HDFS NameNode å†…éƒ¨é€šä¿¡ç«¯å£: 8020&#x2F;9000&#x2F;9820<br>HDFS NameNode å¯¹ç”¨æˆ·çš„æŸ¥è¯¢ç«¯å£: 9870<br>Yarn æŸ¥çœ‹ä»»åŠ¡è¿è¡Œæƒ…å†µçš„: 8088<br>å†å²æœåŠ¡å™¨: 19888<br>hadoop2.x<br>HDFS NameNode å†…éƒ¨é€šä¿¡ç«¯å£: 8020&#x2F;9000<br>HDFS NameNode å¯¹ç”¨æˆ·çš„æŸ¥è¯¢ç«¯å£: 50070<br>Yarn æŸ¥çœ‹ä»»åŠ¡è¿è¡Œæƒ…å†µçš„: 8088<br>å†å²æœåŠ¡å™¨: 19888</p><h2 id="å¸¸ç”¨çš„é…ç½®æ–‡ä»¶"><a href="#å¸¸ç”¨çš„é…ç½®æ–‡ä»¶" class="headerlink" title="å¸¸ç”¨çš„é…ç½®æ–‡ä»¶"></a>å¸¸ç”¨çš„é…ç½®æ–‡ä»¶</h2><p>3.x core-site.xml hdfs-site.xml yarn-site.xml mapred-site.xml workers<br>2.x core-site.xml hdfs-site.xml yarn-site.xml mapred-site.xml slaves</p><h2 id="é›†ç¾¤çš„æ—¶é—´åŒæ­¥-å¯é€‰"><a href="#é›†ç¾¤çš„æ—¶é—´åŒæ­¥-å¯é€‰" class="headerlink" title="é›†ç¾¤çš„æ—¶é—´åŒæ­¥(å¯é€‰)"></a>é›†ç¾¤çš„æ—¶é—´åŒæ­¥(å¯é€‰)</h2><p>ä¸€èˆ¬æ¥è¯´, é›†ç¾¤è¿æ¥äº†å¤–ç½‘å°±å¯ä»¥ä¸ç”¨é…ç½®<br>è®¾ç½®å®Œæˆä¹‹åä¸çŸ¥é“ä¸ºå•¥ä¼š 1 Jan 22:31:36 ntpdate[1532]: bind() fails: Permission denied</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>[root@hadoop202 xiamu]<span class="hljs-comment"># yum install ntp</span><br>[root@hadoop202 xiamu]<span class="hljs-comment"># systemctl status ntpd</span><br>[root@hadoop202 xiamu]<span class="hljs-comment"># systemctl start ntpd</span><br>[root@hadoop202 xiamu]<span class="hljs-comment"># vim /etc/ntp.conf</span><br><br>1. æŠŠ<br><span class="hljs-comment">#restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap</span><br>ä¿®æ”¹æˆ<br>restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap<br><br>192.168.1.0è¡¨ç¤ºæ˜¯192.168.1è¿™ä¸ªç½‘æ®µçš„<br><br>2.æŠŠ<br>server 0.centos.pool.ntp.org iburst<br>server 1.centos.pool.ntp.org iburst<br>server 2.centos.pool.ntp.org iburst<br>server 3.centos.pool.ntp.org iburst<br>æ³¨é‡Šæ‰<br><span class="hljs-comment"># server 0.centos.pool.ntp.org iburst</span><br><span class="hljs-comment"># server 1.centos.pool.ntp.org iburst</span><br><span class="hljs-comment"># server 2.centos.pool.ntp.org iburst</span><br><span class="hljs-comment"># server 3.centos.pool.ntp.org iburst</span><br><br>3.æ–‡ä»¶æœ«å°¾è¿½åŠ ä¸¤å¥<br>erver 127.127.1.0<br>fudge 127.127.1.0 stratum 10<br><br><br><span class="hljs-comment"># ä¿®æ”¹hadoop202ä¸­çš„ /etc/sysconfig/ntpd æ–‡ä»¶</span><br><span class="hljs-comment"># è¿½åŠ ä¸€è¡Œ</span><br>[root@hadoop202 xiamu]<span class="hljs-comment"># vim /etc/sysconfig/ntpd</span><br>SYNC_HWCLOCK=<span class="hljs-built_in">yes</span><br><span class="hljs-comment"># é‡å¯ntpdæœåŠ¡</span><br>[root@hadoop202 xiamu]<span class="hljs-comment"># systemctl restart ntpd</span><br><span class="hljs-comment"># è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</span><br>[root@hadoop202 xiamu]<span class="hljs-comment"># systemctl enable ntpd</span><br><br><br>hadoop203ä¸»æœº<br>[root@hadoop203 bin]<span class="hljs-comment"># systemctl stop ntpd</span><br>[root@hadoop203 bin]<span class="hljs-comment"># systemctl disable ntpd</span><br>[root@hadoop203 bin]<span class="hljs-comment"># crontab -e</span><br>*/1 * * * * /usr/sbin/ntpdate hadoop202<br><br><span class="hljs-comment"># éšä¾¿ä¿®æ”¹ä¸€ä¸ªæ—¶é—´</span><br>[root@hadoop203 bin]<span class="hljs-comment"># date -s &quot;2021-9-11 11:11:11&quot;</span><br>2021å¹´ 09æœˆ 11æ—¥ æ˜ŸæœŸå…­ 11:11:11 CST<br><span class="hljs-comment"># æŸ¥çœ‹æ—¶é—´</span><br>[root@hadoop203 bin]<span class="hljs-comment"># date</span><br>2021å¹´ 09æœˆ 11æ—¥ æ˜ŸæœŸå…­ 11:11:17 CST<br><br></code></pre></td></tr></table></figure><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[xiamu@hadoop202 ~]$ hadoop fs -put /opt/software/jdk-8u212-linux-x64.tar.gz /<br></code></pre></td></tr></table></figure><p>å—å¤§å°æ˜¯ 128M, ä½†æ˜¯ jdk çš„å¤§å°è¶…è¿‡äº†å—å¤§å°, æ‰€æœ‰ jdk æœ‰ä¸¤ä¸ªå—<br><img src="http://cdn.xiamu.icu//FlyIbgBmkIGXcIlYCFT7rhwZtmxg.png"><br><img src="http://cdn.xiamu.icu//FinOngPmGS4U9708FSpKZTlYBKMY.png"></p>]]></content>
    
    
    <categories>
      
      <category>Hadoop</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hadoop</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Maven ClassNotFoundException MySql</title>
    <link href="/uncategorized/Maven%20ClassNotFoundException%20MySql/"/>
    <url>/uncategorized/Maven%20ClassNotFoundException%20MySql/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ maven å¯¼å…¥ mysql-connector-java çš„æ—¶å€™æŠ¥é”™,<br>java.lang.ClassNotFoundException<br>æ£€æŸ¥å¦‚ä¸‹ä»£ç , æ‰“åŒ…æˆ war åŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>war<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.30<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ElasticSearch</title>
    <link href="/Java/ElasticSearch/"/>
    <url>/Java/ElasticSearch/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½-ElasticSearch"><a href="#ä¸‹è½½-ElasticSearch" class="headerlink" title="ä¸‹è½½ ElasticSearch"></a>ä¸‹è½½ ElasticSearch</h2><p><a href="https://www.elastic.co/cn/">https://www.elastic.co/cn/</a><img src="http://cdn.xiamu.icu//FjWGROR6MJCL8KVHvVaIlec8DKLf.png"><br><img src="http://cdn.xiamu.icu//Fjni9KKdOpq59BzrrR27wYB74nj3.png"><br><a href="https://www.elastic.co/cn/downloads/past-releases/elasticsearch-7-8-0">https://www.elastic.co/cn/downloads/past-releases/elasticsearch-7-8-0</a><br><img src="http://cdn.xiamu.icu//FmPiBKbeQS80K7DBFZ8H2TGID0c2.png"><br>ä¸‹è½½ä¹‹åè§£å‹, æ–‡ä»¶ç›®å½•å¦‚ä¸‹<br><img src="http://cdn.xiamu.icu//FoK8yfG5XZSwsJ0oYH23-x75Jm7G.png"><br>bin å¯æ‰§è¡Œè„šæœ¬ç›®å½•<br> config é…ç½®ç›®å½•<br> jdk å†…ç½® JDK ç›®å½•<br> lib ç±»åº“<br> logs æ—¥å¿—ç›®å½•<br> modules æ¨¡å—ç›®å½•<br> plugins æ’ä»¶ç›®å½•</p><h2 id="å¯åŠ¨-ElasticSearch"><a href="#å¯åŠ¨-ElasticSearch" class="headerlink" title="å¯åŠ¨ ElasticSearch"></a>å¯åŠ¨ ElasticSearch</h2><p>è¦ç¡®ä¿ java -version å’Œ echo %JAVA_HOME% çš„ç‰ˆæœ¬ä¸€è‡´<br><img src="http://cdn.xiamu.icu//Fv4woLVw_gvlfw02Mz04uv30YjmY.png"><br>æ‰“å¼€ bin ç›®å½•, åŒå‡» elasticsearch.bat æ–‡ä»¶, ä¼šå¼¹å‡ºä¸€ä¸ªé»‘æ¡†, æ³¨æ„, ä½ çš„ç¬”è®°æœ¬ç”µè„‘éœ€è¦æœ‰ java ç¯å¢ƒ<br><img src="http://cdn.xiamu.icu//FpXU6YbNXwGw7lTD6Dz9ICEc9xmf.png"><br>åŒå‡»ä¹‹åå…³æ³¨ä¸¤ä¸ªä½ç½®<br><img src="http://cdn.xiamu.icu//FuVbYxfYDlAKsf7L6cStY-9Vv05T.png"><br>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€<a href="http://127.0.0.1:9200/">http://127.0.0.1:9200/</a><br>æ˜¾ç¤ºå¦‚ä¸‹å†…å®¹è¯´æ˜ elasticsearch å¯åŠ¨æˆåŠŸ<br><img src="http://cdn.xiamu.icu//Fs4HZ9JshhNNB_gTWEHsilQsj8Xj.png"></p><h2 id="æ•°æ®æ ¼å¼"><a href="#æ•°æ®æ ¼å¼" class="headerlink" title="æ•°æ®æ ¼å¼"></a>æ•°æ®æ ¼å¼</h2><p>Elasticsearch æ˜¯é¢å‘æ–‡æ¡£å‹æ•°æ®åº“ï¼Œä¸€æ¡æ•°æ®åœ¨è¿™é‡Œå°±æ˜¯ä¸€ä¸ªæ–‡æ¡£ã€‚ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç†è§£ï¼Œ æˆ‘ä»¬å°† Elasticsearch é‡Œå­˜å‚¨æ–‡æ¡£æ•°æ®å’Œå…³ç³»å‹æ•°æ®åº“ MySQL å­˜å‚¨æ•°æ®çš„æ¦‚å¿µè¿›è¡Œä¸€ä¸ªç±»æ¯”<br><img src="http://cdn.xiamu.icu//FvKbkTApum_A_8YGyDAa-INJVeE1.png"><br>ES é‡Œçš„ Index å¯ä»¥çœ‹åšä¸€ä¸ªåº“ï¼Œè€Œ Types ç›¸å½“äºè¡¨ï¼ŒDocuments åˆ™ç›¸å½“äºè¡¨çš„è¡Œã€‚ è¿™é‡Œ Types çš„æ¦‚å¿µå·²ç»è¢«é€æ¸å¼±åŒ–ï¼ŒElasticsearch 6.X ä¸­ï¼Œä¸€ä¸ª index ä¸‹å·²ç»åªèƒ½åŒ…å«ä¸€ä¸ª typeï¼ŒElasticsearch 7.X ä¸­, Type çš„æ¦‚å¿µå·²ç»è¢«åˆ é™¤äº†ã€‚</p><h2 id="ç´¢å¼•æ“ä½œ"><a href="#ç´¢å¼•æ“ä½œ" class="headerlink" title="ç´¢å¼•æ“ä½œ"></a>ç´¢å¼•æ“ä½œ</h2><h3 id="åˆ›å»ºç´¢å¼•"><a href="#åˆ›å»ºç´¢å¼•" class="headerlink" title="åˆ›å»ºç´¢å¼•"></a>åˆ›å»ºç´¢å¼•</h3><p>æ‰“å¼€ postman, ç»™<a href="http://localhost:9200/shopping">http://localhost:9200/shopping</a>å‘é€ PUT è¯·æ±‚<br><img src="http://cdn.xiamu.icu//FrAUA9IPCf0SI4Gw9qHbzwuFuwL0.png"></p><blockquote><p>å¹‚ç­‰ï¼ˆidempotentã€idempotenceï¼‰æ˜¯ä¸€ä¸ªæ•°å­¦ä¸è®¡ç®—æœºå­¦æ¦‚å¿µï¼Œå¸¸è§äºæŠ½è±¡ä»£æ•°ä¸­ã€‚ åœ¨ç¼–ç¨‹ä¸­ä¸€ä¸ªå¹‚ç­‰æ“ä½œçš„ç‰¹ç‚¹æ˜¯å…¶ä»»æ„å¤šæ¬¡æ‰§è¡Œæ‰€äº§ç”Ÿçš„å½±å“å‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒã€‚ å¹‚ç­‰å‡½æ•°ï¼Œæˆ–å¹‚ç­‰æ–¹æ³•ï¼Œæ˜¯æŒ‡å¯ä»¥ä½¿ç”¨ç›¸åŒå‚æ•°é‡å¤æ‰§è¡Œï¼Œå¹¶èƒ½è·å¾—ç›¸åŒç»“æœçš„å‡½æ•°ã€‚</p></blockquote><p>ç®€å•æ¥è¯´, å°±æ˜¯è°ƒç”¨ä¸€æ¬¡, å’Œè°ƒç”¨å¤šæ¬¡å¾—åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„<br>PUT æ˜¯å…·æœ‰å¹‚ç­‰æ€§çš„, åˆ›å»ºå¥½ shopping ä¹‹å, å†æ¬¡å‘é€è¯·æ±‚, å°±ä¼šæç¤º, å·²ç»åˆ›å»ºå¥½äº†<br><img src="http://cdn.xiamu.icu//FqNhWL9_I6qVQb1O2qPjpayjQLBT.png"><br>ä¸èƒ½å¤Ÿå‘é€ POST è¯·æ±‚, å› ä¸º POST è¯·æ±‚ä¸æ˜¯å¹‚ç­‰çš„, ä¸¤æ¬¡çš„æ“ä½œå¯èƒ½ä¸ä¸€æ ·<br><img src="http://cdn.xiamu.icu//Fsbb0KFOTGrVQtYt8VhMLtGNEIHO.png"><br>å…è®¸ä½¿ç”¨çš„åªæœ‰ GET, DELETE, HEAD, PUT</p><h3 id="æŸ¥è¯¢ç´¢å¼•"><a href="#æŸ¥è¯¢ç´¢å¼•" class="headerlink" title="æŸ¥è¯¢ç´¢å¼•"></a>æŸ¥è¯¢ç´¢å¼•</h3><p><strong>æŸ¥è¯¢å•ä¸ªç´¢å¼•</strong>å‘é€ get è¯·æ±‚<a href="http://localhost:9200/shopping">http://localhost:9200/shopping</a><br><img src="http://cdn.xiamu.icu//FroW7u3zV69CC3TRGXZiMioXhEEW.png"><br><img src="http://cdn.xiamu.icu//FuXzk39NyByz_uzSm3muMr5PE6Hy.png"><br><strong>æŸ¥è¯¢æ‰€æœ‰ç´¢å¼•</strong>å‘é€ get è¯·æ±‚<a href="http://localhost:9200/_cat/indices?v">http://localhost:9200/_cat&#x2F;indices?v</a><br><img src="http://cdn.xiamu.icu//FsG7rrnfhIcrtRVMArmD_Kzjh_1_.png"><br><img src="http://cdn.xiamu.icu//FlZpkFDdyb5D0BeGqFkqen-dLofq.png"></p><h3 id="åˆ é™¤ç´¢å¼•"><a href="#åˆ é™¤ç´¢å¼•" class="headerlink" title="åˆ é™¤ç´¢å¼•"></a>åˆ é™¤ç´¢å¼•</h3><p>ä½¿ç”¨ delete å‘é€<a href="http://localhost:9200/shopping">http://localhost:9200/shopping</a>è¯·æ±‚<br><img src="http://cdn.xiamu.icu//Fqj35LBDRZs5wciS2Xk1dNBw2YS7.png"><br><img src="http://cdn.xiamu.icu//FsKv3y50ZgsL6ZXSMLD6uIS1gx__.png"><br>å†æ¬¡æŸ¥è¯¢æ‰€æœ‰ç´¢å¼•, å‘ç°å·²ç»æ²¡æœ‰ shopping ç´¢å¼•äº†<br><img src="http://cdn.xiamu.icu//Fm_bDkVQvXiDC7UyFTQFYRQp-io3.png"></p><h2 id="æ·»åŠ æ•°æ®"><a href="#æ·»åŠ æ•°æ®" class="headerlink" title="æ·»åŠ æ•°æ®"></a>æ·»åŠ æ•°æ®</h2><p>åˆ›å»ºæ–‡æ¡£å¹¶æ·»åŠ æ•°æ®<br>ä½¿ç”¨ Post å‘é€è¯·æ±‚<a href="http://127.0.0.1:9200/shopping/_doc">http://127.0.0.1:9200/shopping/_doc</a><br>åœ¨ Body ä¸­æºå¸¦ JSON æ•°æ®</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;å°ç±³æ‰‹æœº&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;category&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;å°ç±³&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;images&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;http://www.gulixueyuan.com/xm.jpg&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3999.0</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fm5EDLxRxwEYrgtHZj8qyfK2SnO0.png"><br>æ­¤å¤„å‘é€è¯·æ±‚çš„æ–¹å¼å¿…é¡»ä¸º POSTï¼Œä¸èƒ½æ˜¯ PUTï¼Œå¦åˆ™ä¼šå‘ç”Ÿé”™è¯¯<br><img src="http://cdn.xiamu.icu//FnLuI-sJgs19XpT45-xlGbK18n-a.png"><br>ä¸Šé¢çš„æ•°æ®åˆ›å»ºåï¼Œç”±äºæ²¡æœ‰æŒ‡å®šæ•°æ®å”¯ä¸€æ€§æ ‡è¯†ï¼ˆIDï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒES æœåŠ¡å™¨ä¼šéšæœº ç”Ÿæˆä¸€ä¸ªã€‚<br> å¦‚æœæƒ³è¦è‡ªå®šä¹‰å”¯ä¸€æ€§æ ‡è¯†ï¼Œéœ€è¦åœ¨åˆ›å»ºæ—¶æŒ‡å®šï¼š<a href="http://127.0.0.1:9200/shopping/_doc/114514">http://127.0.0.1:9200/shopping/_doc&#x2F;114514</a><br>æ­¤å¤„éœ€è¦æ³¨æ„ï¼šå¦‚æœå¢åŠ æ•°æ®æ—¶æ˜ç¡®æ•°æ®ä¸»é”®ï¼Œé‚£ä¹ˆè¯·æ±‚æ–¹å¼ä¹Ÿå¯ä»¥ä¸º PUT<br><img src="http://cdn.xiamu.icu//FmaRSTKu58ytjq8q6U_FAr3uE_p_.png"></p><h2 id="æŸ¥è¯¢æ•°æ®"><a href="#æŸ¥è¯¢æ•°æ®" class="headerlink" title="æŸ¥è¯¢æ•°æ®"></a>æŸ¥è¯¢æ•°æ®</h2><p><strong>ä¸»é”®æŸ¥è¯¢</strong><br>ä½¿ç”¨ GET å‘é€<a href="http://127.0.0.1:9200/shopping/_doc/114514">http://127.0.0.1:9200/shopping/_doc&#x2F;114514</a><br><img src="http://cdn.xiamu.icu//FpCAZqyD26PjzXz9cKH0398HWdBy.png"><br><strong>æŸ¥è¯¢æ‰€æœ‰æ•°æ®</strong><br>ä½¿ç”¨ GET å‘é€<a href="http://127.0.0.1:9200/shopping/_search">http://127.0.0.1:9200/shopping/_search</a><br><img src="http://cdn.xiamu.icu//FmeZyzU2bX0KPQN3NRZyO5pNEYtN.png"></p><h2 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h2><p><strong>å…¨é‡ä¿®æ”¹</strong><br>ä½¿ç”¨ POST å‘é€<a href="http://127.0.0.1:9200/shopping/_doc/114514">http://127.0.0.1:9200/shopping/_doc&#x2F;114514</a><br>åœ¨ Body æºå¸¦ JSON</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;åä¸ºæ‰‹æœº&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;category&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;åä¸º&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;images&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;http://www.gulixueyuan.com/hw.jpg&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4999.0</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fj_xUcmvfEsIE_bRG720hzJirkEE.png"><br><strong>å±€éƒ¨ä¿®æ”¹</strong><br>åªä¿®æ”¹å½“ä¸­çš„æŸä¸€ä¸ªå±æ€§<br>ä½¿ç”¨ PUT å‘é€<a href="http://127.0.0.1:9200/shopping/_doc/114514">http://127.0.0.1:9200/shopping/_doc&#x2F;114514</a><br>æºå¸¦ JSON å‚æ•°</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;_doc&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5999.00&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FiSPKgdGclga-gVXRrAsvtStjaSQ.png"></p><h2 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h2><p>ä½¿ç”¨ DELETE å‘é€<a href="http://127.0.0.1:9200/shopping/_doc/114514">http://127.0.0.1:9200/shopping/_doc&#x2F;114514</a><br><img src="http://cdn.xiamu.icu//Fv3-hPeCi5cfLYGvS1W62zLV2lCO.png"><br>å†æ¬¡å‘é€ DELETE è¯·æ±‚, åˆ™â€resultâ€:Â â€œnot_foundâ€,<br><img src="http://cdn.xiamu.icu//Fox7lAkH62QwYUlpgXRNfA-OyfDw.png"></p><h2 id="æ¡ä»¶æŸ¥è¯¢"><a href="#æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="æ¡ä»¶æŸ¥è¯¢"></a>æ¡ä»¶æŸ¥è¯¢</h2><p>ç¬¬ä¸€ç§ç›´æ¥åœ¨åœ°å€æ ä¸­å¸¦å‚æ•°<br>ä½¿ç”¨ GET å‘é€è¯·æ±‚ <a href="http://127.0.0.1:9200/shopping/_search?q=category:">http://127.0.0.1:9200/shopping/_search?q&#x3D;category:</a>å°ç±³<br><img src="http://cdn.xiamu.icu//Ft06INnZUqDvMT1g8bHLWATdWG-9.png"><br>ç¬¬äºŒç§: åœ¨è¯·æ±‚å¤´ä¸­å¸¦å‚æ•°, é¿å…çš„åœ°å€æ ä¸­åŒ…å«ä¸­æ–‡ä¼šä¹±ç çš„é—®é¢˜<br>ä½¿ç”¨ GET å‘é€è¯·æ±‚<a href="http://127.0.0.1:9200/shopping/_search">http://127.0.0.1:9200/shopping/_search</a><br>è¯·æ±‚å¤´æºå¸¦ JSON æ ¼å¼</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;query&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;match&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;category&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;å°ç±³&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>åŒæ ·èƒ½å¤ŸæŸ¥è¯¢å‡ºæ¥ category æ˜¯å°ç±³çš„æ•°æ®<br><img src="http://cdn.xiamu.icu//FjHPYyWJZ-vEaDoXC7SlTwKBMwFg.png"></p><p>å…¨æŸ¥è¯¢<br>ä½¿ç”¨ GET å‘é€<a href="http://127.0.0.1:9200/shopping/_search">http://127.0.0.1:9200/shopping/_search</a><br>è¯·æ±‚å¤´æºå¸¦</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;query&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;match_all&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>æœ€åæŸ¥è¯¢çš„ç»“æœæ˜¯æŠŠæ•°æ®å…¨éƒ¨æŸ¥è¯¢å‡ºæ¥<br><img src="http://cdn.xiamu.icu//Fi_BBLYAYqIL3VlNm062QgPra2HA.png"></p><h2 id="åˆ†é¡µæŸ¥è¯¢å’Œæ¡ä»¶æŸ¥è¯¢"><a href="#åˆ†é¡µæŸ¥è¯¢å’Œæ¡ä»¶æŸ¥è¯¢" class="headerlink" title="åˆ†é¡µæŸ¥è¯¢å’Œæ¡ä»¶æŸ¥è¯¢"></a>åˆ†é¡µæŸ¥è¯¢å’Œæ¡ä»¶æŸ¥è¯¢</h2><p>ä½¿ç”¨ GET å‘é€<a href="http://127.0.0.1:9200/shopping/_search">http://127.0.0.1:9200/shopping/_search</a><br>è¯·æ±‚å¤´æºå¸¦ JSON:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;query&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;match_all&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;from&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;size&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;_source&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;title&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;sort&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;price&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br><br>fromæ˜¯èµ·å§‹ä½ç½®<br>from = (é¡µé¢ - <span class="hljs-number">1</span>) * æ¯é¡µæ•°æ®æ¡æ•°<br><br>_sourceæ˜¯æŒ‡å®šå½“å‰åªæŸ¥è¯¢çš„å­—æ®µ<br>sortæ˜¯æŒ‡å®šéœ€è¦å¯¹æŸä¸€ä¸ªå­—æ®µè¿›è¡Œæ’åºæ“ä½œ<br></code></pre></td></tr></table></figure><h2 id="å¤šæ¡ä»¶æŸ¥è¯¢"><a href="#å¤šæ¡ä»¶æŸ¥è¯¢" class="headerlink" title="å¤šæ¡ä»¶æŸ¥è¯¢"></a>å¤šæ¡ä»¶æŸ¥è¯¢</h2><p>ä½¿ç”¨ GET å‘é€<a href="http://127.0.0.1:9200/shopping/_search">http://127.0.0.1:9200/shopping/_search</a><br>è¯·æ±‚å¤´ JSON:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;query&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;bool&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;must&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;match&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;category&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;å°ç±³&quot;</span><br>          <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;match&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3999.0</span><br>          <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><br>      <span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>must è¡¨ç¤º: åŒ¹é…çš„æ¡ä»¶, category æ˜¯å°ç±³, å¹¶ä¸” price ä¹Ÿè¦æ˜¯ 3999<br>must å¯ä»¥æ›¿æ¢æˆ should, è¡¨ç¤º</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs ada">&#123;<br>    <span class="hljs-string">&quot;query&quot;</span> : &#123;<br><span class="hljs-string">&quot;bool&quot;</span> : &#123;<br><span class="hljs-string">&quot;should&quot;</span> : [<br>&#123;<br><span class="hljs-string">&quot;match&quot;</span> : &#123;<br><span class="hljs-string">&quot;category&quot;</span> : &quot;å°ç±³&quot;<br>&#125;<br>&#125;,<br>&#123;<br><span class="hljs-string">&quot;match&quot;</span> : &#123;<br><span class="hljs-string">&quot;category&quot;</span> : &quot;åä¸º&quot;<br>&#125;<br>&#125;<br>]<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åŠ ä¸ŠèŒƒå›´, æŸ¥è¯¢å¤§äº 5000 ä»·æ ¼çš„æ‰‹æœºçš„</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs ada">&#123;<br>Â Â Â Â <span class="hljs-string">&quot;query&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;bool&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;should&quot;</span>Â :Â [<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;match&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;category&quot;</span>Â :Â &quot;å°ç±³&quot;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;,<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;match&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;category&quot;</span>Â :Â &quot;åä¸º&quot;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â ],<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;filter&quot;</span>:Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;range&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;price&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;gt&quot;</span>Â :Â 5000<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å…¨æ–‡æ£€ç´¢-amp-å®Œå…¨åŒ¹é…-amp-é«˜äº®æŸ¥è¯¢"><a href="#å…¨æ–‡æ£€ç´¢-amp-å®Œå…¨åŒ¹é…-amp-é«˜äº®æŸ¥è¯¢" class="headerlink" title="å…¨æ–‡æ£€ç´¢ &amp; å®Œå…¨åŒ¹é… &amp; é«˜äº®æŸ¥è¯¢"></a>å…¨æ–‡æ£€ç´¢ &amp; å®Œå…¨åŒ¹é… &amp; é«˜äº®æŸ¥è¯¢</h2><p><strong>å…¨æ–‡æ£€ç´¢</strong><br>ä½¿ç”¨ GET å‘é€<a href="http://127.0.0.1:9200/shopping/_search">http://127.0.0.1:9200/shopping/_search</a><br>Body æºå¸¦ JSON</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ada">&#123;<br>Â Â Â Â <span class="hljs-string">&quot;query&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;match&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;category&quot;</span>Â :Â &quot;ç±³&quot;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>category ä¸­å¸¦æœ‰ â€œç±³â€ çš„å…³é”®å­—éƒ½ä¼šè¢«æŸ¥è¯¢å‡ºæ¥<br>å¦‚æœ category: â€œåç±³â€, category ä¸­ä¼šæŸ¥è¯¢å‡º â€œåä¸ºâ€ , â€œå°ç±³â€ç­‰ç­‰è¿™ç§å­—æ®µ</p><p><strong>å®Œå…¨åŒ¹é…</strong><br>å¦‚æœä¸æƒ³ä½¿ç”¨è¿™ç§å…¨æ–‡æ£€ç´¢, é‚£ä¹ˆå¯ä»¥é‡‡ç”¨å®Œå…¨åŒ¹é…çš„è§„åˆ™è¿›è¡ŒæŸ¥è¯¢<br>ä½¿ç”¨ GET å‘é€<a href="http://127.0.0.1:9200/shopping/_search">http://127.0.0.1:9200/shopping/_search</a><br>Body æºå¸¦ JSON</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ada">&#123;<br>Â Â Â Â <span class="hljs-string">&quot;query&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;match_phrase&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;category&quot;</span>Â :Â &quot;åç±³&quot;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ ·åŒ¹é…, å°±ä¸ä¼šåŒæ—¶å‡ºç°â€å°ç±³â€ â€œåä¸ºâ€äº†, åªä¼šç²¾å‡†çš„åŒ¹é…åˆ°â€åç±³â€</p><p><strong>é«˜äº®æŸ¥è¯¢</strong><br>ä½¿ç”¨ GET å‘é€<a href="http://127.0.0.1:9200/shopping/_search">http://127.0.0.1:9200/shopping/_search</a><br>Body æºå¸¦ JSON</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs ada">&#123;<br>Â Â Â Â <span class="hljs-string">&quot;query&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;match_phrase&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;category&quot;</span>Â :Â &quot;å°ç±³&quot;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;,<br>Â Â Â Â <span class="hljs-string">&quot;highlight&quot;</span>:Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;fields&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;category&quot;</span>Â :Â &#123;&#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;<br>&#125;<br><br><br>è¿”å›çš„æ•°æ®å¦‚ä¸‹: ä¼šåœ¨highlightä¸­åŠ ä¸Šé«˜äº®çš„æ•ˆæœ<br>&#123;<br>    <span class="hljs-string">&quot;_index&quot;</span>: <span class="hljs-string">&quot;shopping&quot;</span>,<br>    <span class="hljs-string">&quot;_type&quot;</span>: <span class="hljs-string">&quot;_doc&quot;</span>,<br>    <span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-string">&quot;1009&quot;</span>,<br>    <span class="hljs-string">&quot;_score&quot;</span>: <span class="hljs-number">0.5156582</span>,<br>    <span class="hljs-string">&quot;_source&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;å°ç±³æ‰‹æœº&quot;</span>,<br>        <span class="hljs-string">&quot;category&quot;</span>: <span class="hljs-string">&quot;å°ç±³&quot;</span>,<br>        <span class="hljs-string">&quot;images&quot;</span>: <span class="hljs-string">&quot;http://www.gulixueyuan.com/hw.jpg&quot;</span>,<br>        <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">9999.00</span><br>    &#125;,<br>    <span class="hljs-string">&quot;highlight&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;category&quot;</span>: [<br>            <span class="hljs-string">&quot;&lt;em&gt;å°&lt;/em&gt;&lt;em&gt;ç±³&lt;/em&gt;&quot;</span><br>        ]<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="èšåˆæŸ¥è¯¢"><a href="#èšåˆæŸ¥è¯¢" class="headerlink" title="èšåˆæŸ¥è¯¢"></a>èšåˆæŸ¥è¯¢</h2><p>ä½¿ç”¨ GET å‘é€<a href="http://127.0.0.1:9200/shopping/_search">http://127.0.0.1:9200/shopping/_search</a><br>Body æºå¸¦ JSON</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs awk">&#123;<br>Â Â Â Â <span class="hljs-string">&quot;aggs&quot;</span>Â :Â &#123;Â <span class="hljs-regexp">//</span>Â èšåˆæ“ä½œ<br>Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;price_group&quot;</span>Â :Â &#123;Â <span class="hljs-regexp">//</span>Â åç§°:Â éšæ„èµ·å<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;terms&quot;</span>Â :Â &#123;Â <span class="hljs-regexp">//</span>Â åˆ†ç»„<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;field&quot;</span>Â :Â <span class="hljs-string">&quot;price&quot;</span>Â <span class="hljs-regexp">//</span>Â åˆ†ç»„å­—æ®µ<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;,<br>Â Â Â Â <span class="hljs-string">&quot;size&quot;</span>Â :Â <span class="hljs-number">0</span>Â <span class="hljs-regexp">//</span>Â ä¸æŸ¥è¯¢åŸæ•°æ®<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FkEGeT2C5rDG4DeyHlXJ4Fb41d1R.png"><br>ä½¿ç”¨ GET å‘é€<a href="http://127.0.0.1:9200/shopping/_search">http://127.0.0.1:9200/shopping/_search</a><br>Body æºå¸¦ JSON</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs awk">&#123;<br>Â Â Â Â <span class="hljs-string">&quot;aggs&quot;</span>Â :Â &#123;Â <span class="hljs-regexp">//</span>Â èšåˆæ“ä½œ<br>Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;price_avg&quot;</span>Â :Â &#123;Â <span class="hljs-regexp">//</span>Â åç§°:Â éšæ„èµ·å<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;avg&quot;</span>Â :Â &#123;Â <span class="hljs-regexp">//</span>Â å¹³å‡å€¼<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;field&quot;</span>Â :Â <span class="hljs-string">&quot;price&quot;</span>Â <span class="hljs-regexp">//</span>Â åˆ†ç»„å­—æ®µ<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;,<br>Â Â Â Â <span class="hljs-string">&quot;size&quot;</span>Â :Â <span class="hljs-number">0</span>Â <span class="hljs-regexp">//</span>Â ä¸æŸ¥è¯¢åŸæ•°æ®<br>&#125;<br></code></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœå¦‚ä¸‹:<br><img src="http://cdn.xiamu.icu//FkrOyZkDpL_zKS85RIVjPpyoNdYd.png"></p><h2 id="æ˜ å°„å…³ç³»"><a href="#æ˜ å°„å…³ç³»" class="headerlink" title="æ˜ å°„å…³ç³»"></a>æ˜ å°„å…³ç³»</h2><p>å…ˆä½¿ç”¨ PUT å‘é€<a href="http://localhost:9200/user">http://localhost:9200/user</a><br>åˆ›å»º user ç´¢å¼•<br>Body æºå¸¦ JSON</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ada">&#123;<br>Â Â Â Â <span class="hljs-string">&quot;properties&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;name&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;type&quot;</span>Â :Â &quot;<span class="hljs-type">text</span><span class="hljs-string">&quot;,</span><br><span class="hljs-string">Â Â Â Â Â Â Â Â Â Â Â Â &quot;</span>index<span class="hljs-string">&quot;Â :Â true</span><br><span class="hljs-string">Â Â Â Â Â Â Â Â &#125;,</span><br><span class="hljs-string">Â Â Â Â Â Â Â Â &quot;</span>sex<span class="hljs-string">&quot;Â :Â &#123;</span><br><span class="hljs-string">Â Â Â Â Â Â Â Â Â Â Â Â &quot;</span><span class="hljs-keyword">type</span><span class="hljs-string">&quot;Â :Â &quot;</span>keyword<span class="hljs-string">&quot;,</span><br><span class="hljs-string">Â Â Â Â Â Â Â Â Â Â Â Â &quot;</span>index<span class="hljs-string">&quot;Â :Â true</span><br><span class="hljs-string">Â Â Â Â Â Â Â Â &#125;,</span><br><span class="hljs-string">Â Â Â Â Â Â Â Â &quot;</span>tel<span class="hljs-string">&quot;Â :Â &#123;</span><br><span class="hljs-string">Â Â Â Â Â Â Â Â Â Â Â Â &quot;</span><span class="hljs-keyword">type</span><span class="hljs-string">&quot;Â :Â &quot;</span>keyword<span class="hljs-string">&quot;,</span><br><span class="hljs-string">Â Â Â Â Â Â Â Â Â Â Â Â &quot;</span>index<span class="hljs-string">&quot;Â :Â false</span><br><span class="hljs-string">Â Â Â Â Â Â Â Â &#125;</span><br><span class="hljs-string">Â Â Â Â &#125;</span><br><span class="hljs-string">&#125;</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ PUT å‘é€<a href="http://localhost:9200/user/_create/1001">http://localhost:9200/user/_create&#x2F;1001</a><br>æ·»åŠ ä¸€æ¡æ•°æ®<br>Body æºå¸¦ JSON</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>Â Â Â Â <span class="hljs-attr">&quot;name&quot;</span>Â <span class="hljs-punctuation">:</span>Â <span class="hljs-string">&quot;å°ç±³&quot;</span><span class="hljs-punctuation">,</span><br>Â Â Â Â <span class="hljs-attr">&quot;sex&quot;</span>Â <span class="hljs-punctuation">:</span>Â <span class="hljs-string">&quot;ç”·çš„&quot;</span><span class="hljs-punctuation">,</span><br>Â Â Â Â <span class="hljs-attr">&quot;tel&quot;</span>Â <span class="hljs-punctuation">:</span>Â <span class="hljs-string">&quot;1111&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>typeï¼šç±»å‹ï¼ŒElasticsearch ä¸­æ”¯æŒçš„æ•°æ®ç±»å‹éå¸¸ä¸°å¯Œï¼Œè¯´å‡ ä¸ªå…³é”®çš„ï¼š<br> String ç±»å‹ï¼Œåˆåˆ†ä¸¤ç§ï¼š<br> textï¼šå¯åˆ†è¯<br> keywordï¼šä¸å¯åˆ†è¯ï¼Œæ•°æ®ä¼šä½œä¸ºå®Œæ•´å­—æ®µè¿›è¡ŒåŒ¹é…<br> Numericalï¼šæ•°å€¼ç±»å‹ï¼Œåˆ†ä¸¤ç±»<br>åŸºæœ¬æ•°æ®ç±»å‹ï¼šlongã€integerã€shortã€byteã€doubleã€floatã€half_float<br>æµ®ç‚¹æ•°çš„é«˜ç²¾åº¦ç±»å‹ï¼šscaled_float<br> Dateï¼šæ—¥æœŸç±»å‹<br> Arrayï¼šæ•°ç»„ç±»å‹<br> Objectï¼šå¯¹è±¡<br> indexï¼šæ˜¯å¦ç´¢å¼•ï¼Œé»˜è®¤ä¸º trueï¼Œä¹Ÿå°±æ˜¯è¯´ä½ ä¸è¿›è¡Œä»»ä½•é…ç½®ï¼Œæ‰€æœ‰å­—æ®µéƒ½ä¼šè¢«ç´¢å¼•ã€‚<br> trueï¼šå­—æ®µä¼šè¢«ç´¢å¼•ï¼Œåˆ™å¯ä»¥ç”¨æ¥è¿›è¡Œæœç´¢<br>falseï¼šå­—æ®µä¸ä¼šè¢«ç´¢å¼•ï¼Œä¸èƒ½ç”¨æ¥æœç´¢<br>ä½¿ç”¨ GET å‘é€<a href="http://localhost:9200/user/_search">http://localhost:9200/user/_search</a></p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ada">&#123;<br>    <span class="hljs-string">&quot;query&quot;</span> : &#123;<br>        <span class="hljs-string">&quot;match&quot;</span> : &#123;<br>            <span class="hljs-string">&quot;name&quot;</span> : &quot;å°&quot;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FlmbFuIDaTKA55yefS5jWOMFlCu2.png"></p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ada">&#123;<br>Â Â Â Â <span class="hljs-string">&quot;query&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;match&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;sex&quot;</span>Â :Â &quot;ç”·&quot;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FpO_H265akNhemkYxFB2clR1HYje.png"></p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ada">&#123;<br>Â Â Â Â <span class="hljs-string">&quot;query&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;match&quot;</span>Â :Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">&quot;tel&quot;</span>Â :Â &quot;1111&quot;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FnpmoUBRTpRw76tnQPEp_XtdYC3o.png"></p><h2 id="åœ¨-Java-é¡¹ç›®ä¸­ä½¿ç”¨-ElasticSearch"><a href="#åœ¨-Java-é¡¹ç›®ä¸­ä½¿ç”¨-ElasticSearch" class="headerlink" title="åœ¨ Java é¡¹ç›®ä¸­ä½¿ç”¨ ElasticSearch"></a>åœ¨ Java é¡¹ç›®ä¸­ä½¿ç”¨ ElasticSearch</h2><h3 id="ERROR-StatusLogger-No-log4j2-configuration-file-found-Using-default-configuration-logging-only-errors-to-the-console-Set-system-property-â€˜org-apache-logging-log4j-simplelog-StatusLogger-levelâ€™-to-TRACE-to-show-Log4j2-internal-initialization-logging"><a href="#ERROR-StatusLogger-No-log4j2-configuration-file-found-Using-default-configuration-logging-only-errors-to-the-console-Set-system-property-â€˜org-apache-logging-log4j-simplelog-StatusLogger-levelâ€™-to-TRACE-to-show-Log4j2-internal-initialization-logging" class="headerlink" title="ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console. Set system property â€˜org.apache.logging.log4j.simplelog.StatusLogger.levelâ€™ to TRACE to show Log4j2 internal initialization logging."></a>ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console. Set system property â€˜org.apache.logging.log4j.simplelog.StatusLogger.levelâ€™ to TRACE to show Log4j2 internal initialization logging.</h3><p>åœ¨ resource ç›®å½•ä¸‹åˆ›å»º log4j2.xml æ–‡ä»¶<br><img src="http://cdn.xiamu.icu//FiR42Svqj5-RCGkbrORRZBiBp5T9.png"></p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Configuration</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Appenders</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Console</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;STDOUT&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">PatternLayout</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;%d %-5p [%t] %C</span></span></span><span class="hljs-template-variable">&#123;2&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string"> (%F:%L) - %m%n&quot;</span>/&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">Console</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">RollingFile</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;RollingFile&quot;</span> <span class="hljs-attr">fileName</span>=<span class="hljs-string">&quot;logs/strutslog1.log&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">                     <span class="hljs-attr">filePattern</span>=<span class="hljs-string">&quot;logs/$$</span></span></span><span class="hljs-template-variable">&#123;date:yyyy-MM&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">/app-%d</span></span></span><span class="hljs-template-variable">&#123;MM-dd-yyyy&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">-%i.log.gz&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">PatternLayout</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">Pattern</span>&gt;</span>%d</span><span class="hljs-template-variable">&#123;MM-dd-yyyy&#125;</span><span class="language-xml"> %p %c</span><span class="hljs-template-variable">&#123;1.&#125;</span><span class="language-xml"> [%t] -%M-%L- %m%n<span class="hljs-tag">&lt;/<span class="hljs-name">Pattern</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">PatternLayout</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Policies</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">TimeBasedTriggeringPolicy</span> /&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">SizeBasedTriggeringPolicy</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;1 KB&quot;</span>/&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">Policies</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">DefaultRolloverStrategy</span> <span class="hljs-attr">fileIndex</span>=<span class="hljs-string">&quot;max&quot;</span> <span class="hljs-attr">max</span>=<span class="hljs-string">&quot;2&quot;</span>/&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">RollingFile</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Appenders</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Loggers</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.opensymphony.xwork2&quot;</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;WAN&quot;</span>/&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;org.apache.struts2&quot;</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;WAN&quot;</span>/&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;warn&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">AppenderRef</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;STDOUT&quot;</span>/&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">Root</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Loggers</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Configuration</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h3 id="è¿æ¥-ES"><a href="#è¿æ¥-ES" class="headerlink" title="è¿æ¥ ES"></a>è¿æ¥ ES</h3><p>åˆ›å»ºä¸€ä¸ª maven é¡¹ç›®<br><img src="http://cdn.xiamu.icu//FjtJntAl5gAKG9hL-g7DU0i5KSdG.png"><br>å¯¼å…¥å¦‚ä¸‹ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.elasticsearch<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>elasticsearch<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>7.8.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- elasticsearch çš„å®¢æˆ·ç«¯ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.elasticsearch.client<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>elasticsearch-rest-high-level-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>7.8.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- elasticsearch ä¾èµ– 2.x çš„ log4j --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.8.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.8.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- junit å•å…ƒæµ‹è¯• --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»è¿è¡Œå¦‚ä¸‹ä»£ç , å¹¶æ²¡æœ‰æŠ¥é”™, è¯´æ˜ä»£ç æ²¡æœ‰é”™è¯¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ESTest_Client</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">// åˆ›å»ºESå®¢æˆ·ç«¯</span><br>        <span class="hljs-type">RestHighLevelClient</span> <span class="hljs-variable">esClient</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RestHighLevelClient</span>(<br>                RestClient.builder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpHost</span>(<span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-number">9200</span>, <span class="hljs-string">&quot;http&quot;</span>))<br>        );<br>        <span class="hljs-comment">// å…³é—­ESå®¢æˆ·ç«¯</span><br>        esClient.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="åˆ›å»ºç´¢å¼•-1"><a href="#åˆ›å»ºç´¢å¼•-1" class="headerlink" title="åˆ›å»ºç´¢å¼•"></a>åˆ›å»ºç´¢å¼•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.indices.CreateIndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.indices.CreateIndexResponse;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ESTest_Index_Create</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">RestHighLevelClient</span> <span class="hljs-variable">esClient</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RestHighLevelClient</span>(<br>                RestClient.builder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpHost</span>(<span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-number">9200</span>, <span class="hljs-string">&quot;http&quot;</span>))<br>        );<br><br>        <span class="hljs-comment">// åˆ›å»ºç´¢å¼•</span><br>        <span class="hljs-type">CreateIndexRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CreateIndexRequest</span>(<span class="hljs-string">&quot;user&quot;</span>);<br>        <span class="hljs-type">CreateIndexResponse</span> <span class="hljs-variable">createIndexResponse</span> <span class="hljs-operator">=</span> esClient.indices().create(request, RequestOptions.DEFAULT);<br><br>        <span class="hljs-comment">// å“åº”çŠ¶æ€</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">acknowledged</span> <span class="hljs-operator">=</span> createIndexResponse.isAcknowledged();<br>        System.out.println(<span class="hljs-string">&quot;ç´¢å¼•æ“ä½œ: &quot;</span> + acknowledged);<br><br>        esClient.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Flh1Efs2Vjq4M6J8HsqY9K7f_zI4.png"></p><h3 id="æŸ¥è¯¢ç´¢å¼•-1"><a href="#æŸ¥è¯¢ç´¢å¼•-1" class="headerlink" title="æŸ¥è¯¢ç´¢å¼•"></a>æŸ¥è¯¢ç´¢å¼•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.index.IndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.indices.CreateIndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.indices.CreateIndexResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.indices.GetIndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.indices.GetIndexResponse;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ESTest_Index_Search</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">RestHighLevelClient</span> <span class="hljs-variable">esClient</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RestHighLevelClient</span>(<br>                RestClient.builder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpHost</span>(<span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-number">9200</span>, <span class="hljs-string">&quot;http&quot;</span>))<br>        );<br><br>        <span class="hljs-comment">// æŸ¥è¯¢ç´¢å¼•</span><br>        <span class="hljs-type">GetIndexRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">GetIndexRequest</span>(<span class="hljs-string">&quot;user&quot;</span>);<br>        <span class="hljs-type">GetIndexResponse</span> <span class="hljs-variable">getIndexResponse</span> <span class="hljs-operator">=</span> esClient.indices().get(request, RequestOptions.DEFAULT);<br><br>        <span class="hljs-comment">// å“åº”çŠ¶æ€</span><br>        System.out.println(getIndexResponse.getAliases());<br>        System.out.println(getIndexResponse.getMappings());<br>        System.out.println(getIndexResponse.getSettings());<br><br>        esClient.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœå¦‚ä¸‹:</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><br>&#123;<span class="hljs-keyword">user</span>=[]&#125;<br>&#123;<span class="hljs-keyword">user</span>=org.elasticsearch.<span class="hljs-keyword">cluster</span>.metadata.MappingMetadata@<span class="hljs-number">87817</span>eaa&#125;<br>&#123;<span class="hljs-keyword">user</span>=&#123;&quot;index.creation_date&quot;:&quot;1672228548499&quot;,&quot;index.number_of_replicas&quot;:&quot;1&quot;,&quot;index.number_of_shards&quot;:&quot;1&quot;,&quot;index.provided_name&quot;:&quot;user&quot;,&quot;index.uuid&quot;:&quot;JtqLrkGnT2ONWQ0JqfWY2A&quot;,&quot;index.version.created&quot;:&quot;7080099&quot;&#125;&#125;<br><br><br></code></pre></td></tr></table></figure><h3 id="åˆ é™¤ç´¢å¼•-1"><a href="#åˆ é™¤ç´¢å¼•-1" class="headerlink" title="åˆ é™¤ç´¢å¼•"></a>åˆ é™¤ç´¢å¼•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.admin.indices.delete.DeleteIndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.index.IndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.support.master.AcknowledgedResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.indices.GetIndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.indices.GetIndexResponse;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ESTest_Index_Delete</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">RestHighLevelClient</span> <span class="hljs-variable">esClient</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RestHighLevelClient</span>(<br>                RestClient.builder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpHost</span>(<span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-number">9200</span>, <span class="hljs-string">&quot;http&quot;</span>))<br>        );<br><br>        <span class="hljs-comment">// åˆ é™¤ç´¢å¼•</span><br>        <span class="hljs-type">DeleteIndexRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DeleteIndexRequest</span>(<span class="hljs-string">&quot;user&quot;</span>);<br>        <span class="hljs-type">AcknowledgedResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> esClient.indices().delete(request, RequestOptions.DEFAULT);<br><br>        <span class="hljs-comment">// å“åº”çŠ¶æ€</span><br>        System.out.println(response.isAcknowledged());<br><br>        esClient.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;<br><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">admin</span>.indices.<span class="hljs-keyword">delete</span>.DeleteIndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">index</span>.IndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">index</span>.IndexResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.support.master.AcknowledgedResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.common.xcontent.XContentType;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Index_Insert &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // æ·»åŠ æ•°æ®<br>        IndexRequest request = <span class="hljs-built_in">new</span> IndexRequest();<br>        request.<span class="hljs-keyword">index</span>(&quot;user&quot;).id(&quot;1001&quot;);<br><br>        <span class="hljs-keyword">User</span> <span class="hljs-keyword">user</span> = <span class="hljs-built_in">new</span> <span class="hljs-keyword">User</span>();<br>        <span class="hljs-keyword">user</span>.setName(&quot;å¼ ä¸‰&quot;);<br>        <span class="hljs-keyword">user</span>.setAge(<span class="hljs-number">20</span>);<br>        <span class="hljs-keyword">user</span>.setSex(&quot;ç”·&quot;);<br><br>        ObjectMapper mapper = <span class="hljs-built_in">new</span> ObjectMapper();<br>        String userJson = mapper.writeValueAsString(<span class="hljs-keyword">user</span>);<br>        request.source(userJson, XContentType.JSON);<br><br>        IndexResponse response = esClient.<span class="hljs-keyword">index</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getResult());<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ä¿®æ”¹æ•°æ®-1"><a href="#ä¿®æ”¹æ•°æ®-1" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;<br><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">index</span>.IndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">index</span>.IndexResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">update</span>.UpdateRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">update</span>.UpdateResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.common.xcontent.XContentType;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Index_Update &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // ä¿®æ”¹æ•°æ®<br>        UpdateRequest request = <span class="hljs-built_in">new</span> UpdateRequest();<br>        request.<span class="hljs-keyword">index</span>(&quot;user&quot;).id(&quot;1001&quot;);<br><br>        request.doc(XContentType.JSON, &quot;sex&quot;, &quot;å¥³&quot;);<br><br>        UpdateResponse <span class="hljs-keyword">update</span> = esClient.<span class="hljs-keyword">update</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(<span class="hljs-keyword">update</span>.getResult());<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢æ•°æ®-1"><a href="#æŸ¥è¯¢æ•°æ®-1" class="headerlink" title="æŸ¥è¯¢æ•°æ®"></a>æŸ¥è¯¢æ•°æ®</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">update</span>.UpdateRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">update</span>.UpdateResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.common.xcontent.XContentType;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Get &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // æŸ¥è¯¢æ•°æ®<br>        GetRequest request = <span class="hljs-built_in">new</span> GetRequest();<br>        request.<span class="hljs-keyword">index</span>(&quot;user&quot;).id(&quot;1001&quot;);<br>        GetResponse response = esClient.<span class="hljs-keyword">get</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getSourceAsString());<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="åˆ é™¤æ•°æ®-1"><a href="#åˆ é™¤æ•°æ®-1" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;<br><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">delete</span>.DeleteRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">delete</span>.DeleteResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">index</span>.IndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">index</span>.IndexResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.common.xcontent.XContentType;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Delete &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // åˆ é™¤æ•°æ®<br>        DeleteRequest request = <span class="hljs-built_in">new</span> DeleteRequest();<br>        request.<span class="hljs-keyword">index</span>(&quot;user&quot;).id(&quot;1001&quot;);<br><br>        DeleteResponse response = esClient.<span class="hljs-keyword">delete</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.toString());<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ‰¹é‡æ·»åŠ "><a href="#æ‰¹é‡æ·»åŠ " class="headerlink" title="æ‰¹é‡æ·»åŠ "></a>æ‰¹é‡æ·»åŠ </h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;<br><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.bulk.BulkRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.bulk.BulkResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">index</span>.IndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">index</span>.IndexResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.common.xcontent.XContentType;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Insert_Batch &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // æ‰¹é‡æ·»åŠ æ•°æ®<br>        BulkRequest request = <span class="hljs-built_in">new</span> BulkRequest();<br><br>        request.<span class="hljs-keyword">add</span>(<span class="hljs-built_in">new</span> IndexRequest().<span class="hljs-keyword">index</span>(&quot;user&quot;).id(&quot;1001&quot;).source(XContentType.JSON, &quot;name&quot;, &quot;zhangsan&quot;));<br>        request.<span class="hljs-keyword">add</span>(<span class="hljs-built_in">new</span> IndexRequest().<span class="hljs-keyword">index</span>(&quot;user&quot;).id(&quot;1002&quot;).source(XContentType.JSON, &quot;name&quot;, &quot;lisi&quot;));<br>        request.<span class="hljs-keyword">add</span>(<span class="hljs-built_in">new</span> IndexRequest().<span class="hljs-keyword">index</span>(&quot;user&quot;).id(&quot;1003&quot;).source(XContentType.JSON, &quot;name&quot;, &quot;wangwu&quot;));<br><br>        BulkResponse response = esClient.bulk(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getItems());<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ‰¹é‡åˆ é™¤"><a href="#æ‰¹é‡åˆ é™¤" class="headerlink" title="æ‰¹é‡åˆ é™¤"></a>æ‰¹é‡åˆ é™¤</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.bulk.BulkRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.bulk.BulkResponse;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">delete</span>.DeleteRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">index</span>.IndexRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.common.xcontent.XContentType;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Delete_Batch &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // æ‰¹é‡æ·»åŠ æ•°æ®<br>        BulkRequest request = <span class="hljs-built_in">new</span> BulkRequest();<br><br>        request.<span class="hljs-keyword">add</span>(<span class="hljs-built_in">new</span> DeleteRequest().<span class="hljs-keyword">index</span>(&quot;user&quot;).id(&quot;1001&quot;));<br>        request.<span class="hljs-keyword">add</span>(<span class="hljs-built_in">new</span> DeleteRequest().<span class="hljs-keyword">index</span>(&quot;user&quot;).id(&quot;1002&quot;));<br>        request.<span class="hljs-keyword">add</span>(<span class="hljs-built_in">new</span> DeleteRequest().<span class="hljs-keyword">index</span>(&quot;user&quot;).id(&quot;1003&quot;));<br><br>        BulkResponse response = esClient.bulk(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getItems());<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢æ‰€æœ‰æ•°æ®"><a href="#æŸ¥è¯¢æ‰€æœ‰æ•°æ®" class="headerlink" title="æŸ¥è¯¢æ‰€æœ‰æ•°æ®"></a>æŸ¥è¯¢æ‰€æœ‰æ•°æ®</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchRequest;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.QueryBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHit;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHits;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.builder.SearchSourceBuilder;<br><br> <span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Query &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // <span class="hljs-number">1.</span>æŸ¥è¯¢ç´¢å¼•ä¸­å…¨éƒ¨çš„æ•°æ®<br>        SearchRequest request = <span class="hljs-built_in">new</span> SearchRequest();<br>        request.indices(&quot;user&quot;);<br><br>        request.source(<span class="hljs-built_in">new</span> SearchSourceBuilder().query(QueryBuilders.matchAllQuery()));<br><br>        SearchResponse response = esClient.<span class="hljs-keyword">search</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        SearchHits hits = response.getHits();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hits.getHits());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">for</span> (SearchHit hit : hits) &#123;<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hit.getSourceAsString());<br>        &#125;<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ¡ä»¶æŸ¥è¯¢-1"><a href="#æ¡ä»¶æŸ¥è¯¢-1" class="headerlink" title="æ¡ä»¶æŸ¥è¯¢"></a>æ¡ä»¶æŸ¥è¯¢</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"> <span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchRequest;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.QueryBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHit;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHits;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.builder.SearchSourceBuilder;<br><br> <span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Query &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // <span class="hljs-number">2.</span>æ¡ä»¶æŸ¥è¯¢<br>        SearchRequest request = <span class="hljs-built_in">new</span> SearchRequest();<br>        request.indices(&quot;user&quot;);<br><br>        request.source(<span class="hljs-built_in">new</span> SearchSourceBuilder().query(QueryBuilders.termQuery(&quot;age&quot;, &quot;30&quot;)));<br><br>        SearchResponse response = esClient.<span class="hljs-keyword">search</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        SearchHits hits = response.getHits();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hits.getHits());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">for</span> (SearchHit hit : hits) &#123;<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hit.getSourceAsString());<br>        &#125;<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="åˆ†é¡µæŸ¥è¯¢"><a href="#åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="åˆ†é¡µæŸ¥è¯¢"></a>åˆ†é¡µæŸ¥è¯¢</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchRequest;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.QueryBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHit;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHits;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.builder.SearchSourceBuilder;<br><br> <span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Query &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // <span class="hljs-number">3.</span>åˆ†é¡µæŸ¥è¯¢<br>        SearchRequest request = <span class="hljs-built_in">new</span> SearchRequest();<br>        request.indices(&quot;user&quot;);<br><br>        SearchSourceBuilder builder = <span class="hljs-built_in">new</span> SearchSourceBuilder().query(QueryBuilders.matchAllQuery());<br>        builder.<span class="hljs-keyword">from</span>(<span class="hljs-number">0</span>);<br>        builder.size(<span class="hljs-number">2</span>);<br>        request.source(builder);<br><br>        SearchResponse response = esClient.<span class="hljs-keyword">search</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        SearchHits hits = response.getHits();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hits.getHits());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">for</span> (SearchHit hit : hits) &#123;<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hit.getSourceAsString());<br>        &#125;<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢æ’åº"><a href="#æŸ¥è¯¢æ’åº" class="headerlink" title="æŸ¥è¯¢æ’åº"></a>æŸ¥è¯¢æ’åº</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchRequest;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.QueryBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHit;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHits;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.builder.SearchSourceBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.sort.SortOrder;<br><br> <span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Query &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br><br>        // <span class="hljs-number">4.</span>æŸ¥è¯¢æ’åº<br>        SearchRequest request = <span class="hljs-built_in">new</span> SearchRequest();<br>        request.indices(&quot;user&quot;);<br><br>        SearchSourceBuilder builder = <span class="hljs-built_in">new</span> SearchSourceBuilder().query(QueryBuilders.matchAllQuery());<br>        builder.sort(&quot;age&quot;, SortOrder.<span class="hljs-keyword">DESC</span>);<br>        request.source(builder);<br><br>        SearchResponse response = esClient.<span class="hljs-keyword">search</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        SearchHits hits = response.getHits();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hits.getHits());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">for</span> (SearchHit hit : hits) &#123;<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hit.getSourceAsString());<br>        &#125;<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è¿‡æ»¤å­—æ®µ"><a href="#è¿‡æ»¤å­—æ®µ" class="headerlink" title="è¿‡æ»¤å­—æ®µ"></a>è¿‡æ»¤å­—æ®µ</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchRequest;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.QueryBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHit;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHits;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.builder.SearchSourceBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.sort.SortOrder;<br><br> <span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Query &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // <span class="hljs-number">5.</span>è¿‡æ»¤å­—æ®µ<br>        SearchRequest request = <span class="hljs-built_in">new</span> SearchRequest();<br>        request.indices(&quot;user&quot;);<br><br>        SearchSourceBuilder builder = <span class="hljs-built_in">new</span> SearchSourceBuilder().query(QueryBuilders.matchAllQuery());<br>        String[] includes = &#123;&#125;;<br>        String[] excludes = &#123;&quot;sex&quot;&#125;;<br>        <span class="hljs-comment">/*String[] includes = &#123;&quot;name&quot;&#125;;</span><br><span class="hljs-comment">        String[] excludes = &#123;&#125;;*/</span><br>        builder.fetchSource(includes, excludes);<br>        request.source(builder);<br><br>        SearchResponse response = esClient.<span class="hljs-keyword">search</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        SearchHits hits = response.getHits();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hits.getHits());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">for</span> (SearchHit hit : hits) &#123;<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hit.getSourceAsString());<br>        &#125;<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç»„åˆæŸ¥è¯¢"><a href="#ç»„åˆæŸ¥è¯¢" class="headerlink" title="ç»„åˆæŸ¥è¯¢"></a>ç»„åˆæŸ¥è¯¢</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchRequest;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.BoolQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.QueryBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHit;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHits;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.builder.SearchSourceBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.sort.SortOrder;<br><br> <span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Query &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // <span class="hljs-number">6.</span>ç»„åˆæŸ¥è¯¢<br>        SearchRequest request = <span class="hljs-built_in">new</span> SearchRequest();<br>        request.indices(&quot;user&quot;);<br><br>        SearchSourceBuilder builder = <span class="hljs-built_in">new</span> SearchSourceBuilder().query(QueryBuilders.matchAllQuery());<br>        BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();<br>//        boolQueryBuilder.must(QueryBuilders.matchQuery(&quot;age&quot;, <span class="hljs-number">23</span>));<br>//        boolQueryBuilder.must(QueryBuilders.matchQuery(&quot;sex&quot;, &quot;ç”·&quot;));<br>//        boolQueryBuilder.mustNot(QueryBuilders.matchQuery(&quot;sex&quot;, &quot;ç”·&quot;));<br>        boolQueryBuilder.should(QueryBuilders.matchQuery(&quot;age&quot;, <span class="hljs-number">20</span>));<br>        boolQueryBuilder.should(QueryBuilders.matchQuery(&quot;age&quot;, <span class="hljs-number">23</span>));<br><br>        builder.query(boolQueryBuilder);<br><br>        request.source(builder);<br><br>        SearchResponse response = esClient.<span class="hljs-keyword">search</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        SearchHits hits = response.getHits();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hits.getHits());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">for</span> (SearchHit hit : hits) &#123;<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hit.getSourceAsString());<br>        &#125;<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="èŒƒå›´æŸ¥è¯¢"><a href="#èŒƒå›´æŸ¥è¯¢" class="headerlink" title="èŒƒå›´æŸ¥è¯¢"></a>èŒƒå›´æŸ¥è¯¢</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchRequest;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.BoolQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.QueryBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.RangeQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHit;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHits;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.builder.SearchSourceBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.sort.SortOrder;<br><br> <span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Query &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // <span class="hljs-number">7.</span>èŒƒå›´æŸ¥è¯¢<br>        SearchRequest request = <span class="hljs-built_in">new</span> SearchRequest();<br>        request.indices(&quot;user&quot;);<br><br>        SearchSourceBuilder builder = <span class="hljs-built_in">new</span> SearchSourceBuilder();<br>        RangeQueryBuilder rangeQuery = QueryBuilders.rangeQuery(&quot;age&quot;);<br><br>        rangeQuery.gte(<span class="hljs-number">20</span>);<br>        rangeQuery.lt(<span class="hljs-number">24</span>);<br><br>        builder.query(rangeQuery);<br><br>        request.source(builder);<br><br>        SearchResponse response = esClient.<span class="hljs-keyword">search</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        SearchHits hits = response.getHits();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hits.getHits());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">for</span> (SearchHit hit : hits) &#123;<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hit.getSourceAsString());<br>        &#125;<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é«˜äº®æŸ¥è¯¢"><a href="#é«˜äº®æŸ¥è¯¢" class="headerlink" title="é«˜äº®æŸ¥è¯¢"></a>é«˜äº®æŸ¥è¯¢</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"> <span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchRequest;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br> <span class="hljs-keyword">import</span> org.elasticsearch.common.unit.Fuzziness;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.BoolQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.QueryBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.RangeQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.TermQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHit;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHits;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.builder.SearchSourceBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.<span class="hljs-keyword">fetch</span>.subphase.highlight.HighlightBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.sort.SortOrder;<br><br> <span class="hljs-keyword">import</span> javax.swing.text.Highlighter;<br> <span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Query &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // <span class="hljs-number">9.</span>é«˜äº®æŸ¥è¯¢<br>        SearchRequest request = <span class="hljs-built_in">new</span> SearchRequest();<br>        request.indices(&quot;user&quot;);<br><br>        SearchSourceBuilder builder = <span class="hljs-built_in">new</span> SearchSourceBuilder();<br>        TermQueryBuilder termQueryBuilder =<br>                QueryBuilders.termQuery(&quot;name&quot;, &quot;zhangsan&quot;);<br><br>        HighlightBuilder highlightBuilder = <span class="hljs-built_in">new</span> HighlightBuilder();<br>        highlightBuilder.preTags(&quot;&lt;font color=&#x27;red&#x27;&gt;&quot;);<br>        highlightBuilder.postTags(&quot;&lt;font&gt;&quot;);<br>        highlightBuilder.field(&quot;name&quot;);<br><br>        builder.highlighter(highlightBuilder);<br>        builder.query(termQueryBuilder);<br><br>        request.source(builder);<br><br>        SearchResponse response = esClient.<span class="hljs-keyword">search</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        SearchHits hits = response.getHits();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hits.getHits());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">for</span> (SearchHit hit : hits) &#123;<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hit.getSourceAsString());<br>        &#125;<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="èšåˆæŸ¥è¯¢-1"><a href="#èšåˆæŸ¥è¯¢-1" class="headerlink" title="èšåˆæŸ¥è¯¢"></a>èšåˆæŸ¥è¯¢</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchRequest;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br> <span class="hljs-keyword">import</span> org.elasticsearch.common.unit.Fuzziness;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.BoolQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.QueryBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.RangeQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.TermQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHit;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHits;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.aggregations.AggregationBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.aggregations.AggregationBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.builder.SearchSourceBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.<span class="hljs-keyword">fetch</span>.subphase.highlight.HighlightBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.sort.SortOrder;<br><br> <span class="hljs-keyword">import</span> javax.swing.text.Highlighter;<br> <span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Query &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // <span class="hljs-number">10.</span>èšåˆæŸ¥è¯¢<br>        SearchRequest request = <span class="hljs-built_in">new</span> SearchRequest();<br>        request.indices(&quot;user&quot;);<br><br>        SearchSourceBuilder builder = <span class="hljs-built_in">new</span> SearchSourceBuilder();<br>        AggregationBuilder aggregationBuilder = AggregationBuilders.max(&quot;maxAge&quot;).field(&quot;age&quot;);<br>        builder.aggregation(aggregationBuilder);<br><br>        request.source(builder);<br><br>        SearchResponse response = esClient.<span class="hljs-keyword">search</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        SearchHits hits = response.getHits();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hits.getHits());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">for</span> (SearchHit hit : hits) &#123;<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hit.getSourceAsString());<br>        &#125;<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="åˆ†ç»„æŸ¥è¯¢"><a href="#åˆ†ç»„æŸ¥è¯¢" class="headerlink" title="åˆ†ç»„æŸ¥è¯¢"></a>åˆ†ç»„æŸ¥è¯¢</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> org.apache.http.HttpHost;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetRequest;<br><span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">get</span>.GetResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchRequest;<br> <span class="hljs-keyword">import</span> org.elasticsearch.action.<span class="hljs-keyword">search</span>.SearchResponse;<br> <span class="hljs-keyword">import</span> org.elasticsearch.client.RequestOptions;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestClient;<br><span class="hljs-keyword">import</span> org.elasticsearch.client.RestHighLevelClient;<br> <span class="hljs-keyword">import</span> org.elasticsearch.common.unit.Fuzziness;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.BoolQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.QueryBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.RangeQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">index</span>.query.TermQueryBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHit;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.SearchHits;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.aggregations.AggregationBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.aggregations.AggregationBuilders;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.builder.SearchSourceBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.<span class="hljs-keyword">fetch</span>.subphase.highlight.HighlightBuilder;<br> <span class="hljs-keyword">import</span> org.elasticsearch.<span class="hljs-keyword">search</span>.sort.SortOrder;<br><br> <span class="hljs-keyword">import</span> javax.swing.text.Highlighter;<br> <span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ESTest_Doc_Query &#123;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) throws IOException &#123;<br>        RestHighLevelClient esClient = <span class="hljs-built_in">new</span> RestHighLevelClient(<br>                RestClient.builder(<span class="hljs-built_in">new</span> HttpHost(&quot;localhost&quot;, <span class="hljs-number">9200</span>, &quot;http&quot;))<br>        );<br><br>        // <span class="hljs-number">11.</span>åˆ†ç»„æŸ¥è¯¢<br>        SearchRequest request = <span class="hljs-built_in">new</span> SearchRequest();<br>        request.indices(&quot;user&quot;);<br><br>        SearchSourceBuilder builder = <span class="hljs-built_in">new</span> SearchSourceBuilder();<br>        AggregationBuilder aggregationBuilder = AggregationBuilders.terms(&quot;ageGroup&quot;).field(&quot;age&quot;);<br>        builder.aggregation(aggregationBuilder);<br><br>        request.source(builder);<br><br>        SearchResponse response = esClient.<span class="hljs-keyword">search</span>(request, RequestOptions.<span class="hljs-keyword">DEFAULT</span>);<br><br>        SearchHits hits = response.getHits();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hits.getHits());<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(response.getTook());<br>        <span class="hljs-keyword">for</span> (SearchHit hit : hits) &#123;<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(hit.getSourceAsString());<br>        &#125;<br><br>        esClient.<span class="hljs-keyword">close</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="windows-æ­å»ºé›†ç¾¤"><a href="#windows-æ­å»ºé›†ç¾¤" class="headerlink" title="windows æ­å»ºé›†ç¾¤"></a>windows æ­å»ºé›†ç¾¤</h2><p><img src="http://cdn.xiamu.icu//FnKvpH7o-mqQ45uYOBJydPx5xkC0.png"><br>node-1001&#x2F;config&#x2F;elasticsearch.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># ======================== Elasticsearch Configuration =========================</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> Elasticsearch comes with reasonable defaults for most settings.</span><br><span class="hljs-comment">#       Before you set out to tweak and tune the configuration, make sure you</span><br><span class="hljs-comment">#       understand what are you trying to accomplish and the consequences.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># The primary way of configuring a node is via this file. This template lists</span><br><span class="hljs-comment"># the most important settings you may want to configure for a production cluster.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Please consult the documentation for further information on configuration options:</span><br><span class="hljs-comment"># https://www.elastic.co/guide/en/elasticsearch/reference/index.html</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Cluster -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Use a descriptive name for your cluster:</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">cluster.name:</span> <span class="hljs-string">my-application</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ------------------------------------ Node ------------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Use a descriptive name for the node:</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">node.name:</span> <span class="hljs-string">node-1001</span><br><span class="hljs-attr">node.master:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">node.data:</span> <span class="hljs-literal">true</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Add custom attributes to the node:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#node.attr.rack: r1</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ----------------------------------- Paths ------------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Path to directory where to store the data (separate multiple locations by comma):</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#path.data: /path/to/data</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Path to log files:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#path.logs: /path/to/logs</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ----------------------------------- Memory -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Lock the memory on startup:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#bootstrap.memory_lock: true</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Make sure that the heap size is set to about half the memory available</span><br><span class="hljs-comment"># on the system and that the owner of the process is allowed to use this</span><br><span class="hljs-comment"># limit.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Elasticsearch performs poorly when the system is swapping the memory.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Network -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Set the bind address to a specific IP (IPv4 or IPv6):</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">network.host:</span> <span class="hljs-string">localhost</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Set a custom port for HTTP:</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">http.port:</span> <span class="hljs-number">1001</span><br><span class="hljs-attr">transport.tcp.port:</span> <span class="hljs-number">9301</span><br><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># For more information, consult the network module documentation.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># --------------------------------- Discovery ----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Pass an initial list of hosts to perform discovery when this node is started:</span><br><span class="hljs-comment"># The default list of hosts is [&quot;127.0.0.1&quot;, &quot;[::1]&quot;]</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#discovery.seed_hosts: [&quot;host1&quot;, &quot;host2&quot;]</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Bootstrap the cluster using an initial set of master-eligible nodes:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#cluster.initial_master_nodes: [&quot;node-1&quot;, &quot;node-2&quot;]</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># For more information, consult the discovery and cluster formation module documentation.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Gateway -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Block initial recovery after a full cluster restart until N nodes are started:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#gateway.recover_after_nodes: 3</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># For more information, consult the gateway module documentation.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Various -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Require explicit names when deleting indices:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#action.destructive_requires_name: true</span><br><span class="hljs-attr">http.cors.enabled:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">http.cors.allow-origin:</span> <span class="hljs-string">&quot;*&quot;</span><br><br><br></code></pre></td></tr></table></figure><p>node-1002&#x2F;config&#x2F;elasticsearch.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># ======================== Elasticsearch Configuration =========================</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> Elasticsearch comes with reasonable defaults for most settings.</span><br><span class="hljs-comment">#       Before you set out to tweak and tune the configuration, make sure you</span><br><span class="hljs-comment">#       understand what are you trying to accomplish and the consequences.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># The primary way of configuring a node is via this file. This template lists</span><br><span class="hljs-comment"># the most important settings you may want to configure for a production cluster.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Please consult the documentation for further information on configuration options:</span><br><span class="hljs-comment"># https://www.elastic.co/guide/en/elasticsearch/reference/index.html</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Cluster -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Use a descriptive name for your cluster:</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">cluster.name:</span> <span class="hljs-string">my-application</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ------------------------------------ Node ------------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Use a descriptive name for the node:</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">node.name:</span> <span class="hljs-string">node-1002</span><br><span class="hljs-attr">node.master:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">node.data:</span> <span class="hljs-literal">true</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Add custom attributes to the node:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#node.attr.rack: r1</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ----------------------------------- Paths ------------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Path to directory where to store the data (separate multiple locations by comma):</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#path.data: /path/to/data</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Path to log files:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#path.logs: /path/to/logs</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ----------------------------------- Memory -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Lock the memory on startup:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#bootstrap.memory_lock: true</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Make sure that the heap size is set to about half the memory available</span><br><span class="hljs-comment"># on the system and that the owner of the process is allowed to use this</span><br><span class="hljs-comment"># limit.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Elasticsearch performs poorly when the system is swapping the memory.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Network -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Set the bind address to a specific IP (IPv4 or IPv6):</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">network.host:</span> <span class="hljs-string">localhost</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Set a custom port for HTTP:</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">http.port:</span> <span class="hljs-number">1002</span><br><span class="hljs-attr">transport.tcp.port:</span> <span class="hljs-number">9302</span><br><br><span class="hljs-attr">discovery.seed_hosts:</span> [<span class="hljs-string">&quot;localhost:9301&quot;</span>]<br><span class="hljs-attr">discovery.zen.fd.ping_timeout:</span> <span class="hljs-string">1m</span><br><span class="hljs-attr">discovery.zen.fd.ping_retries:</span> <span class="hljs-number">5</span><br><br><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># For more information, consult the network module documentation.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># --------------------------------- Discovery ----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Pass an initial list of hosts to perform discovery when this node is started:</span><br><span class="hljs-comment"># The default list of hosts is [&quot;127.0.0.1&quot;, &quot;[::1]&quot;]</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#discovery.seed_hosts: [&quot;host1&quot;, &quot;host2&quot;]</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Bootstrap the cluster using an initial set of master-eligible nodes:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#cluster.initial_master_nodes: [&quot;node-1&quot;, &quot;node-2&quot;]</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># For more information, consult the discovery and cluster formation module documentation.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Gateway -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Block initial recovery after a full cluster restart until N nodes are started:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#gateway.recover_after_nodes: 3</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># For more information, consult the gateway module documentation.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Various -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Require explicit names when deleting indices:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#action.destructive_requires_name: true</span><br><span class="hljs-attr">http.cors.enabled:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">http.cors.allow-origin:</span> <span class="hljs-string">&quot;*&quot;</span><br><br><br></code></pre></td></tr></table></figure><p>node-1003&#x2F;config&#x2F;elasticsearch.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># ======================== Elasticsearch Configuration =========================</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> Elasticsearch comes with reasonable defaults for most settings.</span><br><span class="hljs-comment">#       Before you set out to tweak and tune the configuration, make sure you</span><br><span class="hljs-comment">#       understand what are you trying to accomplish and the consequences.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># The primary way of configuring a node is via this file. This template lists</span><br><span class="hljs-comment"># the most important settings you may want to configure for a production cluster.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Please consult the documentation for further information on configuration options:</span><br><span class="hljs-comment"># https://www.elastic.co/guide/en/elasticsearch/reference/index.html</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Cluster -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Use a descriptive name for your cluster:</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">cluster.name:</span> <span class="hljs-string">my-application</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ------------------------------------ Node ------------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Use a descriptive name for the node:</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">node.name:</span> <span class="hljs-string">node-1003</span><br><span class="hljs-attr">node.master:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">node.data:</span> <span class="hljs-literal">true</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Add custom attributes to the node:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#node.attr.rack: r1</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ----------------------------------- Paths ------------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Path to directory where to store the data (separate multiple locations by comma):</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#path.data: /path/to/data</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Path to log files:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#path.logs: /path/to/logs</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ----------------------------------- Memory -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Lock the memory on startup:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#bootstrap.memory_lock: true</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Make sure that the heap size is set to about half the memory available</span><br><span class="hljs-comment"># on the system and that the owner of the process is allowed to use this</span><br><span class="hljs-comment"># limit.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Elasticsearch performs poorly when the system is swapping the memory.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Network -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Set the bind address to a specific IP (IPv4 or IPv6):</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">network.host:</span> <span class="hljs-string">localhost</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Set a custom port for HTTP:</span><br><span class="hljs-comment">#</span><br><span class="hljs-attr">http.port:</span> <span class="hljs-number">1003</span><br><span class="hljs-attr">transport.tcp.port:</span> <span class="hljs-number">9303</span><br><br><span class="hljs-attr">discovery.seed_hosts:</span> [<span class="hljs-string">&quot;localhost:9301&quot;</span>, <span class="hljs-string">&quot;localhost:9302&quot;</span>]<br><span class="hljs-attr">discovery.zen.fd.ping_timeout:</span> <span class="hljs-string">1m</span><br><span class="hljs-attr">discovery.zen.fd.ping_retries:</span> <span class="hljs-number">5</span><br><br><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># For more information, consult the network module documentation.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># --------------------------------- Discovery ----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Pass an initial list of hosts to perform discovery when this node is started:</span><br><span class="hljs-comment"># The default list of hosts is [&quot;127.0.0.1&quot;, &quot;[::1]&quot;]</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#discovery.seed_hosts: [&quot;host1&quot;, &quot;host2&quot;]</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Bootstrap the cluster using an initial set of master-eligible nodes:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#cluster.initial_master_nodes: [&quot;node-1&quot;, &quot;node-2&quot;]</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># For more information, consult the discovery and cluster formation module documentation.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Gateway -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Block initial recovery after a full cluster restart until N nodes are started:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#gateway.recover_after_nodes: 3</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># For more information, consult the gateway module documentation.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># ---------------------------------- Various -----------------------------------</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Require explicit names when deleting indices:</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#action.destructive_requires_name: true</span><br><span class="hljs-attr">http.cors.enabled:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">http.cors.allow-origin:</span> <span class="hljs-string">&quot;*&quot;</span><br><br><br></code></pre></td></tr></table></figure><h2 id="linux-å•ç‚¹éƒ¨ç½²"><a href="#linux-å•ç‚¹éƒ¨ç½²" class="headerlink" title="linux å•ç‚¹éƒ¨ç½²"></a>linux å•ç‚¹éƒ¨ç½²</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@xiamu ~]<span class="hljs-comment"># cd /opt/es/</span><br>[root@xiamu es]<span class="hljs-comment"># ls</span><br>elasticsearch-7.8.0-linux-x86_64.tar.gz<br><span class="hljs-comment"># ä¸Šä¼ eså‹ç¼©åŒ…</span><br><br><span class="hljs-comment"># è§£å‹es</span><br>[root@xiamu es]<span class="hljs-comment"># tar -zxvf elasticsearch-7.8.0-linux-x86_64.tar.gz</span><br><br><span class="hljs-comment"># å› ä¸ºå®‰å…¨é—®é¢˜ï¼ŒElasticsearch ä¸å…è®¸ root ç”¨æˆ·ç›´æ¥è¿è¡Œï¼Œæ‰€ä»¥è¦åˆ›å»ºæ–°ç”¨æˆ·ï¼Œåœ¨ root ç”¨</span><br>æˆ·ä¸­åˆ›å»ºæ–°ç”¨æˆ·<br><span class="hljs-comment"># æ–°å¢ es ç”¨æˆ·</span><br>[root@xiamu es]<span class="hljs-comment"># useradd es</span><br><span class="hljs-comment"># ä¸º es ç”¨æˆ·è®¾ç½®å¯†ç </span><br>[root@xiamu es]<span class="hljs-comment"># passwd es</span><br><span class="hljs-comment"># è®¾ç½®æ–‡ä»¶æ‰€æœ‰è€…</span><br>[root@xiamu es]<span class="hljs-comment"># chown -R es:es /opt/es/</span><br><br>userdel -r es <span class="hljs-comment">#å¦‚æœé”™äº†ï¼Œå¯ä»¥åˆ é™¤å†åŠ </span><br><br>ä¿®æ”¹/opt/module/es/config/elasticsearch.yml æ–‡ä»¶<br><span class="hljs-comment"># åŠ å…¥å¦‚ä¸‹é…ç½®</span><br>cluster.name: elasticsearch<br>node.name: node-1<br>network.host: 0.0.0.0<br>http.port: 9200<br>cluster.initial_master_nodes: [<span class="hljs-string">&quot;node-1&quot;</span>]<br><br>[root@xiamu es]<span class="hljs-comment"># cd ./elasticsearch-7.8.0/</span><br>[root@xiamu elasticsearch-7.8.0]<span class="hljs-comment"># vim ./config/elasticsearch.yml</span><br><span class="hljs-comment"># æ–‡ä»¶æœ«å°¾åŠ å…¥å¦‚ä¸‹é…ç½®</span><br>cluster.name: elasticsearch<br>node.name: node-1<br>network.host: 0.0.0.0<br>http.port: 9200<br>cluster.initial_master_nodes: [<span class="hljs-string">&quot;node-1&quot;</span>]<br><br>[root@xiamu elasticsearch-7.8.0]<span class="hljs-comment"># vim /etc/security/limits.conf</span><br><span class="hljs-comment"># åœ¨æ–‡ä»¶æœ«å°¾ä¸­å¢åŠ ä¸‹é¢å†…å®¹</span><br><span class="hljs-comment"># æ¯ä¸ªè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æ•°çš„é™åˆ¶</span><br>es soft nofile 65536<br>es hard nofile 65536<br><br>[root@xiamu elasticsearch-7.8.0]<span class="hljs-comment"># vim /etc/security/limits.d/20-nproc.conf</span><br><span class="hljs-comment"># åœ¨æ–‡ä»¶æœ«å°¾ä¸­å¢åŠ ä¸‹é¢å†…å®¹</span><br><span class="hljs-comment"># æ¯ä¸ªè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æ•°çš„é™åˆ¶</span><br>es soft nofile 65536<br>es hard nofile 65536<br><br><span class="hljs-comment"># æ“ä½œç³»ç»Ÿçº§åˆ«å¯¹æ¯ä¸ªç”¨æˆ·åˆ›å»ºçš„è¿›ç¨‹æ•°çš„é™åˆ¶</span><br>* hard <span class="hljs-built_in">nproc</span> 4096<br><span class="hljs-comment"># æ³¨ï¼š* å¸¦è¡¨ Linux æ‰€æœ‰ç”¨æˆ·åç§°</span><br><br>[root@xiamu elasticsearch-7.8.0]<span class="hljs-comment"># vim /etc/sysctl.conf</span><br><span class="hljs-comment"># åœ¨æ–‡ä»¶ä¸­å¢åŠ ä¸‹é¢å†…å®¹</span><br><span class="hljs-comment"># ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ‹¥æœ‰çš„ VMA(è™šæ‹Ÿå†…å­˜åŒºåŸŸ)çš„æ•°é‡,é»˜è®¤å€¼ä¸º 65536</span><br>vm.max_map_count=655360<br><br><span class="hljs-comment"># é‡æ–°åŠ è½½</span><br>[root@xiamu elasticsearch-7.8.0]<span class="hljs-comment"># sysctl -p</span><br><br><span class="hljs-comment"># åˆ‡æ¢ç”¨æˆ·</span><br>[root@xiamu ~]<span class="hljs-comment"># su es</span><br>[es@xiamu root]$ <span class="hljs-built_in">cd</span> /opt/es/elasticsearch-7.8.0<br><br><br></code></pre></td></tr></table></figure><h2 id="linux-é›†ç¾¤éƒ¨ç½²"><a href="#linux-é›†ç¾¤éƒ¨ç½²" class="headerlink" title="linux é›†ç¾¤éƒ¨ç½²"></a>linux é›†ç¾¤éƒ¨ç½²</h2><p>å¾…æ›´æ–°â€¦</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>ElasticSearch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VueElementUI</title>
    <link href="/Vue/VueElementUI/"/>
    <url>/Vue/VueElementUI/</url>
    
    <content type="html"><![CDATA[<h2 id="è¡¨å•ä¸­å­˜åœ¨è¾“å…¥æ¡†å›è½¦æäº¤è¡¨å•"><a href="#è¡¨å•ä¸­å­˜åœ¨è¾“å…¥æ¡†å›è½¦æäº¤è¡¨å•" class="headerlink" title="è¡¨å•ä¸­å­˜åœ¨è¾“å…¥æ¡†å›è½¦æäº¤è¡¨å•"></a>è¡¨å•ä¸­å­˜åœ¨è¾“å…¥æ¡†å›è½¦æäº¤è¡¨å•</h2><p>åªéœ€è¦åœ¨ el-form ä¸­åŠ ä¸Š@keyup.enter.native&#x3D;â€submit()â€å°±è¡Œäº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;el-form ref=&quot;form&quot; label-width=&quot;80px&quot; @keyup.enter.native=&quot;submit()&quot;&gt;<br>  &lt;el-form-item label=&quot;å§“å&quot;&gt;&lt;/el-form-item&gt;<br>  &lt;el-form-item label=&quot;å­¦å·&quot;&gt;&lt;/el-form-item&gt;<br>  &lt;el-form-item label=&quot;æ€§åˆ«&quot;&gt;&lt;/el-form-item&gt;<br>&lt;/el-form&gt;<br></code></pre></td></tr></table></figure><p>label-width&#x3D;â€80pxâ€ è¡¨å•åŸŸæ ‡ç­¾çš„å®½åº¦ï¼Œä½œä¸º Form ç›´æ¥å­å…ƒç´ çš„ form-item ä¼šç»§æ‰¿è¯¥å€¼</p><h2 id="è¡¨å•çš„è‡ªåŠ¨å¡«å……"><a href="#è¡¨å•çš„è‡ªåŠ¨å¡«å……" class="headerlink" title="è¡¨å•çš„è‡ªåŠ¨å¡«å……"></a>è¡¨å•çš„è‡ªåŠ¨å¡«å……</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- autocomplete å±æ€§è§„å®šè¡¨å•æ˜¯å¦åº”è¯¥å¯ç”¨è‡ªåŠ¨å¡«å……åŠŸèƒ½ --&gt;<br>&lt;el-input autocomplete=&quot;off&quot;&gt;&lt;/el-input&gt;<br></code></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a><template scope="scope"></h2><p>é€šè¿‡ template æ ‡ç­¾ä¸­çš„ scope è·å–å½“å‰è¡Œçš„å€¼, å¹¶ä¸”ä¹Ÿå¯ä»¥ä¼ é€’ç»™å‡½æ•°è°ƒç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;el-table-column type=&quot;&quot; label=&quot;åºå·&quot; width=&quot;200&quot;&gt;<br>  &lt;template scope=&quot;scope&quot;&gt;<br>    &#123;&#123; (current - 1) * limit + scope.$index + 1 &#125;&#125;<br>  &lt;/template&gt;<br>&lt;/el-table-column&gt;<br>&lt;el-table-column label=&quot;æ“ä½œ&quot; align=&quot;center&quot; prop=&quot;id&quot;&gt;<br>  &lt;template scope=&quot;prop&quot;&gt;<br>    &lt;el-button<br>      type=&quot;primary&quot;<br>      icon=&quot;el-icon-edit&quot;<br>      size=&quot;mini&quot;<br>      @click=&quot;edit(prop.row.id)&quot;<br>    &gt;&lt;/el-button&gt;<br>    &lt;el-button<br>      type=&quot;danger&quot;<br>      icon=&quot;el-icon-delete&quot;<br>      size=&quot;mini&quot;<br>      @click=&quot;deleteById(prop.row.id)&quot;<br>    &gt;&lt;/el-button&gt;<br>  &lt;/template&gt;<br>&lt;/el-table-column&gt;<br></code></pre></td></tr></table></figure><h2 id="icon-çš„ä½¿ç”¨"><a href="#icon-çš„ä½¿ç”¨" class="headerlink" title="icon çš„ä½¿ç”¨"></a>icon çš„ä½¿ç”¨</h2><p>å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ class å±æ€§, æˆ–è€…ç›´æ¥åœ¨ç»„ä»¶ä½¿ç”¨ icon å±æ€§</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;el-button type=&quot;primary&quot; icon=&quot;el-icon-edit&quot; size=&quot;mini&quot;&gt;&lt;/el-button&gt;<br>&lt;el-button type=&quot;danger&quot; class=&quot;el-icon-delete&quot; size=&quot;mini&quot;&gt;&lt;/el-button&gt;<br></code></pre></td></tr></table></figure><p>æ•ˆæœå›¾:<br><img src="http://cdn.xiamu.icu//Fvi5e7swjf8hZg7ffVInyvcgSm7m.png"></p><h2 id="nextTick"><a href="#nextTick" class="headerlink" title="nextTick"></a>nextTick</h2><p>æŠŠå›è°ƒæ¨è¿Ÿåˆ°é¡µé¢çš„ DOM æ¸²æŸ“å®Œæˆä¹‹åå†æ‰§è¡Œ</p><blockquote><p>Vue.nextTick( [callback, context] )<br>{Function} [callback] {Object} [context]<br>Defer the callback to be executed after the next DOM update cycle. Use it immediately after youâ€™ve changed some data to wait for the DOM update.</p></blockquote><p>å½“å‰é¡µé¢å¹¶æ²¡æœ‰æ˜¾ç¤º dialog<br><img src="http://cdn.xiamu.icu//Fq1pMX133pfOghFPTv4xSQ35yEH6.png"><br>ç‚¹å‡»æ·»åŠ æŒ‰é’®, æ˜¾ç¤º dialog, ä½†æ˜¯ç”¨æˆ·åæ²¡æœ‰å…‰æ ‡è‡ªå®šæ”¾åœ¨ä¸Šé¢çš„æ•ˆæœ<br><img src="http://cdn.xiamu.icu//FqD2AchcEaMrPHhanjCdWwYQfmwW.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;el-dialog title=&quot;æ·»åŠ /ä¿®æ”¹&quot; :visible.sync=&quot;dialogFormVisible&quot;&gt;<br>  &lt;el-form label-width=&quot;80px&quot; @keyup.enter.native=&quot;saveOrUpdateUser&quot;&gt;<br>    &lt;el-form-item label=&quot;ç”¨æˆ·å&quot;&gt;<br>      &lt;el-input v-model=&quot;userObj.username&quot; ref=&quot;inputFirst&quot;&gt;&lt;/el-input&gt;<br>  &lt;/el-form&gt;<br>&lt;/el-dialog&gt;<br><br>addUser() &#123; this.userObj = &#123;&#125;; this.dialogFormVisible = true; //<br>å½“å¼¹çª—åœ¨é¡µé¢æ¸²æŸ“å®Œæˆä¹‹å, æ‰ä¼šæ‰§è¡Œè¿™é‡Œé¢çš„å‡½æ•° this.$nextTick(() =&gt; &#123;<br>this.$refs.inputFirst.focus(); &#125;); &#125;,<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Frkbiuar8pBoJTvumU4Dj7WcGB-n.png"></p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue-CLI</title>
    <link href="/Vue/Vue-CLI/"/>
    <url>/Vue/Vue-CLI/</url>
    
    <content type="html"><![CDATA[<h2 id="åˆ›å»ºè„šæ‰‹æ¶"><a href="#åˆ›å»ºè„šæ‰‹æ¶" class="headerlink" title="åˆ›å»ºè„šæ‰‹æ¶"></a>åˆ›å»ºè„šæ‰‹æ¶</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1.</span> å¦‚å‡ºç°ä¸‹è½½ç¼“æ…¢è¯·é…ç½® npm æ·˜å®é•œåƒï¼š<br>npm config <span class="hljs-keyword">set</span> registry https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>registry.npm.taobao.org<br></code></pre></td></tr></table></figure><p>è„šæ‰‹æ¶å®˜ç½‘<a href="https://cli.vuejs.org/zh/">https://cli.vuejs.org/zh/</a><br>å…·ä½“æ­¥éª¤:<br>ç¬¬ä¸€æ­¥ï¼ˆä»…ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼‰ï¼šå…¨å±€å®‰è£…@vue&#x2F;cliã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">npm install <span class="hljs-operator">-</span>g <span class="hljs-variable">@vue</span><span class="hljs-operator">/</span>cli<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ï¼šåˆ‡æ¢åˆ°ä½ è¦åˆ›å»ºé¡¹ç›®çš„ç›®å½•ï¼Œç„¶åä½¿ç”¨å‘½ä»¤åˆ›å»ºé¡¹ç›®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">vue <span class="hljs-keyword">create</span> xxxx<br></code></pre></td></tr></table></figure><p>ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨é¡¹ç›®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">npm run serve<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fm3qVRjLCTGc2B4gWx-Q4Gn6obIN.png"><br>è®¿é—®<a href="http://localhost:8080/">http://localhost:8080/</a>, å¯ä»¥çœ‹è§è„šæ‰‹æ¶ä¸ºæˆ‘ä»¬é»˜è®¤åˆ›å»ºä¸€ä¸ª HelloWorld ç»„ä»¶<br><img src="http://cdn.xiamu.icu//FuJydMREZN8xmlI3vLNNaufnQAY5.png"></p><p>è„šæ‰‹æ¶æ–‡ä»¶ç»“æ„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript">â”œâ”€â”€ node_modules<br>â”œâ”€â”€ public<br>â”‚   â”œâ”€â”€ favicon.<span class="hljs-property">ico</span>: é¡µç­¾å›¾æ ‡<br>â”‚   â””â”€â”€ index.<span class="hljs-property">html</span>: ä¸»é¡µé¢<br>â”œâ”€â”€ src<br>â”‚   â”œâ”€â”€ <span class="hljs-attr">assets</span>: å­˜æ”¾é™æ€èµ„æº<br>â”‚   â”‚   â””â”€â”€ logo.<span class="hljs-property">png</span><br>â”‚   â”‚â”€â”€ <span class="hljs-attr">component</span>: å­˜æ”¾ç»„ä»¶<br>â”‚   â”‚   â””â”€â”€ <span class="hljs-title class_">HelloWorld</span>.<span class="hljs-property">vue</span><br>â”‚   â”‚â”€â”€ <span class="hljs-title class_">App</span>.<span class="hljs-property">vue</span>: æ±‡æ€»æ‰€æœ‰ç»„ä»¶<br>â”‚   â”‚â”€â”€ main.<span class="hljs-property">js</span>: å…¥å£æ–‡ä»¶<br>â”œâ”€â”€ .<span class="hljs-property">gitignore</span>: gitç‰ˆæœ¬ç®¡åˆ¶å¿½ç•¥çš„é…ç½®<br>â”œâ”€â”€ babel.<span class="hljs-property">config</span>.<span class="hljs-property">js</span>: babelçš„é…ç½®æ–‡ä»¶<br>â”œâ”€â”€ package.<span class="hljs-property">json</span>: åº”ç”¨åŒ…é…ç½®æ–‡ä»¶<br>â”œâ”€â”€ <span class="hljs-variable constant_">README</span>.<span class="hljs-property">md</span>: åº”ç”¨æè¿°æ–‡ä»¶<br>â”œâ”€â”€ package-lock.<span class="hljs-property">json</span>ï¼šåŒ…ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶<br></code></pre></td></tr></table></figure><h2 id="è„šæ‰‹æ¶è¿è¡Œé¡¹ç›®çš„æŠ¥é”™"><a href="#è„šæ‰‹æ¶è¿è¡Œé¡¹ç›®çš„æŠ¥é”™" class="headerlink" title="è„šæ‰‹æ¶è¿è¡Œé¡¹ç›®çš„æŠ¥é”™"></a>è„šæ‰‹æ¶è¿è¡Œé¡¹ç›®çš„æŠ¥é”™</h2><p>xxx should always be multi-word vue&#x2F;multi-word-component-names æŠ¥é”™<br>ä¿®æ”¹ vue.config.js æ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> &#123; defineConfig &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@vue/cli-service&quot;</span>);<br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title function_">defineConfig</span>(&#123;<br>  <span class="hljs-attr">transpileDependencies</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-attr">lintOnSave</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// å…³é—­è¯­æ³•æ£€æŸ¥</span><br>&#125;);<br></code></pre></td></tr></table></figure><p>å¦‚æœç¼–å†™äº†ä»£ç , å·¦ä¾§è¡Œæ•°ä¼šå‡ºç°ä¸€ä¸ªçº¢è‰²å°ç®­å¤´, è¿™æ˜¯ git åœ¨è®°å½•<br><img src="http://cdn.xiamu.icu//FtYMeCzhXluCOq-ERGMnhB5_VQ29.png"><img src="http://cdn.xiamu.icu//FuVbh3VjUr6Ppg1MJk8G5eyZfeyo.png"><br>å¯ä»¥æŒ‰ Ctrl+, æ‰“å¼€è®¾ç½®, æœç´¢ git:Enabled, å…³é—­ Git<br><img src="http://cdn.xiamu.icu//Flwk2uLUGWrpRA3WdYhnIVVNhVzW.png"></p><h2 id="éƒ¨ç½²è‡ªå·±çš„é¡¹ç›®åˆ°è„šæ‰‹æ¶"><a href="#éƒ¨ç½²è‡ªå·±çš„é¡¹ç›®åˆ°è„šæ‰‹æ¶" class="headerlink" title="éƒ¨ç½²è‡ªå·±çš„é¡¹ç›®åˆ°è„šæ‰‹æ¶"></a>éƒ¨ç½²è‡ªå·±çš„é¡¹ç›®åˆ°è„šæ‰‹æ¶</h2><p><img src="http://cdn.xiamu.icu//FqY1hF_NE47kSXNRtact-6zQc4vs.png"><br>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åç§°: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åœ°å€: &#123;&#123; address &#125;&#125;&lt;/h2&gt;<br>    Â  Â  &lt;button @click=&quot;showName&quot;&gt;ç‚¹æˆ‘æ˜¾ç¤ºåç§°&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å°šç¡…è°·&quot;,<br>      address: &quot;åŒ—äº¬&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    showName() &#123;<br>      alert(this.name);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿå§“å: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿå¹´é¾„: &#123;&#123; age &#125;&#125;&lt;/h2&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Student&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;è‚‰è±†è”»&quot;,<br>      age: 18,<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;Â  Â  &lt;School&gt;&lt;/School&gt; Â  Â  &lt;Student&gt;&lt;/Student&gt; Â &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Student from &quot;./components/Student.vue&quot;;<br>import School from &quot;./components/School.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Student,<br>    School,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/* </span><br><span class="hljs-comment">è¯¥æ–‡ä»¶æ˜¯æ•´ä¸ªé¡¹ç›®çš„å…¥å£æ–‡ä»¶</span><br><span class="hljs-comment">*/</span><br><span class="hljs-comment">//å¼•å…¥Vue</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">//å¼•å…¥Appç»„ä»¶, å®ƒæ˜¯æ‰€æœ‰ç»„ä»¶çš„çˆ¶ç»„ä»¶</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-comment">//å…³é—­Vueçš„ç”Ÿäº§æç¤º</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-comment">/* </span><br><span class="hljs-comment">å…³äºä¸åŒç‰ˆæœ¬çš„Vueï¼š</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">1.vue.jsä¸vue.runtime.xxx.jsçš„åŒºåˆ«ï¼š</span><br><span class="hljs-comment">(1).vue.jsæ˜¯å®Œæ•´ç‰ˆçš„Vueï¼ŒåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½+æ¨¡æ¿è§£æå™¨ã€‚</span><br><span class="hljs-comment">(2).vue.runtime.xxx.jsæ˜¯è¿è¡Œç‰ˆçš„Vueï¼ŒåªåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼›æ²¡æœ‰æ¨¡æ¿è§£æå™¨ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">2.å› ä¸ºvue.runtime.xxx.jsæ²¡æœ‰æ¨¡æ¿è§£æå™¨ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨templateé…ç½®é¡¹ï¼Œéœ€è¦ä½¿ç”¨</span><br><span class="hljs-comment">renderå‡½æ•°æ¥æ”¶åˆ°çš„createElementå‡½æ•°å»æŒ‡å®šå…·ä½“å†…å®¹ã€‚</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">//åˆ›å»ºvm</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-comment">//</span><br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br><br>  <span class="hljs-comment">// render(createElement) &#123;</span><br>  <span class="hljs-comment">//   return createElement(&#x27;h1&#x27;, &#x27;ä½ å¥½å•Š&#x27;)</span><br>  <span class="hljs-comment">// &#125;</span><br><br>  <span class="hljs-comment">// template: `</span><br>  <span class="hljs-comment">// &lt;h1&gt;ä½ å¥½å•Š&lt;/h1&gt;</span><br>  <span class="hljs-comment">// `,</span><br>  <span class="hljs-comment">// components: &#123;</span><br>  <span class="hljs-comment">//   app</span><br>  <span class="hljs-comment">// &#125;</span><br>&#125;);<br></code></pre></td></tr></table></figure><p>import Vue from â€˜vueâ€™ä¸­å¼•å…¥çš„æ˜¯ vue æ–‡ä»¶å¤¹, å®ƒæ˜¯ç”± vue æ–‡ä»¶å¤¹ä¸­çš„ module é…ç½®é¡¹æ¥å†³å®šå¯¼å…¥çš„æ˜¯å“ªä¸€ä¸ª vue.js<br>runtime.js ç›¸æ¯”äº vue.js, ç²¾ç®€äº†æ¨¡æ¿è§£æå™¨, æ¨¡æ¿è§£æå™¨ä¹Ÿä¸ä¼šåœ¨ webpack æ‰“åŒ…çš„æ—¶å€™è¢«æ‰“åŒ…è¿›å»<br><img src="http://cdn.xiamu.icu//FlLO83rqx3lhQUEGaWTt9Wpj2GfA.png"></p><p>å…³äºä¸åŒç‰ˆæœ¬çš„ Vue</p><ol><li>vue.js ä¸ vue.runtime.xxx.js çš„åŒºåˆ«ï¼š<ol><li>vue.js æ˜¯å®Œæ•´ç‰ˆçš„ Vueï¼ŒåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½ + æ¨¡æ¿è§£æå™¨ã€‚</li><li>vue.runtime.xxx.js æ˜¯è¿è¡Œç‰ˆçš„ Vueï¼ŒåªåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼›æ²¡æœ‰æ¨¡æ¿è§£æå™¨ã€‚</li></ol></li><li>å› ä¸º vue.runtime.xxx.js æ²¡æœ‰æ¨¡æ¿è§£æå™¨ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ template è¿™ä¸ªé…ç½®é¡¹ï¼Œéœ€è¦ä½¿ç”¨ render å‡½æ•°æ¥æ”¶åˆ°çš„ createElement å‡½æ•°å»æŒ‡å®šå…·ä½“å†…å®¹ã€‚</li></ol><h2 id="render-å‡½æ•°"><a href="#render-å‡½æ•°" class="headerlink" title="render å‡½æ•°"></a>render å‡½æ•°</h2><p>ä½¿ç”¨ render æ¸²æŸ“å‡½æ•°å°±å¯ä»¥åœ¨ runtime.js çš„ç¯å¢ƒä¸­è§£ææ¨¡æ¿, template åœ¨ runtime.js çš„ç¯å¢ƒä¸­æ²¡æ³•è§£ææ¨¡æ¿, å› ä¸º runtime å‰”é™¤äº†æ¨¡æ¿å¼•æ“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// render: h =&gt; h(App),</span><br><br><span class="hljs-comment">// render(createElement) &#123;</span><br><span class="hljs-comment">//   return createElement(&#x27;h1&#x27;, &#x27;ä½ å¥½å•Š&#x27;)</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-comment">// render: function(createElement) &#123;</span><br><span class="hljs-comment">//   return createElement(&#x27;h1&#x27;, &#x27;ä½ å¥½å•Š&#x27;)</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-comment">// render:(createElement) =&gt; createElement(&#x27;h1&#x27;, &#x27;ä½ å¥½å•Š&#x27;)</span><br><br><span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">a</span>) =&gt;</span> <span class="hljs-title function_">a</span>(<span class="hljs-string">&quot;h1&quot;</span>, <span class="hljs-string">&quot;ä½ å¥½å•Š&quot;</span>);<br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹é»˜è®¤é…ç½®-vue-config-js-é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é»˜è®¤é…ç½®-vue-config-js-é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é»˜è®¤é…ç½®(vue.config.js é…ç½®æ–‡ä»¶)"></a>ä¿®æ”¹é»˜è®¤é…ç½®(vue.config.js é…ç½®æ–‡ä»¶)</h2><p>vue.config.js<br>åœ¨ pages é€‰é¡¹ä¸­é…ç½®çš„ entry å¯ä»¥æŒ‡æ˜ main.js ä½œä¸ºç¨‹åºçš„å…¥å£, å½“ç„¶å¯ä»¥è®¾ç½®æˆå…¶ä»–çš„, ä¸€èˆ¬ä¿æŒé»˜è®¤æ—¢å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> &#123; defineConfig &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@vue/cli-service&quot;</span>);<br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title function_">defineConfig</span>(&#123;<br>  <span class="hljs-attr">pages</span>: &#123;<br>    <span class="hljs-attr">index</span>: &#123;<br>      <span class="hljs-comment">// é…ç½®å…¥å£</span><br>      <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;src/main.js&quot;</span>,<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">transpileDependencies</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-attr">lintOnSave</span>: <span class="hljs-literal">false</span>,<br>&#125;);<br></code></pre></td></tr></table></figure><ol><li>ä½¿ç”¨ vue inspect &gt; output.js å¯ä»¥æŸ¥çœ‹åˆ° Vue è„šæ‰‹æ¶çš„é»˜è®¤é…ç½®ã€‚</li><li>ä½¿ç”¨ vue.config.js å¯ä»¥å¯¹è„šæ‰‹æ¶è¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶ï¼Œè¯¦æƒ…è§ï¼š<a href="https://cli.vuejs.org/zh">https://cli.vuejs.org/zh</a></li></ol><h2 id="ref-å±æ€§"><a href="#ref-å±æ€§" class="headerlink" title="ref å±æ€§"></a>ref å±æ€§</h2><ol><li>è¢«ç”¨æ¥ç»™å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨ä¿¡æ¯ï¼ˆid çš„æ›¿ä»£è€…ï¼‰</li><li>åº”ç”¨åœ¨ html æ ‡ç­¾ä¸Šè·å–çš„æ˜¯çœŸå® DOM å…ƒç´ ï¼Œåº”ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šæ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼ˆvcï¼‰</li><li>ä½¿ç”¨æ–¹å¼ï¼š<ol><li>æ‰“æ ‡è¯†ï¼š<h1 ref="xxx">â€¦..</h1> æˆ– <School ref="xxx"></School></li><li>è·å–ï¼šthis.$refs.xxx</li></ol></li></ol><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;school&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åç§°ï¼š&#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åœ°å€ï¼š&#123;&#123; address &#125;&#125;&lt;/h2&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å°šç¡…è°·&quot;,<br>      address: &quot;åŒ—äº¬Â·æ˜Œå¹³&quot;,<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>Â  .school&#123;<br>Â  Â  background-color: gray;<br>Â  &#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â <br>    &lt;h1 v-text=&quot;msg&quot; ref=&quot;title&quot;&gt;&lt;/h1&gt;<br>    Â  Â  &lt;button ref=&quot;btn&quot; @click=&quot;showDOM&quot;&gt;ç‚¹æˆ‘è¾“å‡ºä¸Šæ–¹çš„DOMå…ƒç´ &lt;/button&gt; Â  Â <br>    &lt;School ref=&quot;sch&quot; /&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>//å¼•å…¥Schoolç»„ä»¶<br>import School from &quot;./components/School&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; School &#125;,<br>  data() &#123;<br>    return &#123;<br>      msg: &quot;æ¬¢è¿å­¦ä¹ Vueï¼&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    showDOM() &#123;<br>      console.log(this.$refs.title); //çœŸå®DOMå…ƒç´ <br>      console.log(this.$refs.btn); //çœŸå®DOMå…ƒç´ <br>      console.log(this.$refs.sch); //Schoolç»„ä»¶çš„å®ä¾‹å¯¹è±¡ï¼ˆvcï¼‰<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h2 id="props-é…ç½®"><a href="#props-é…ç½®" class="headerlink" title="props é…ç½®"></a>props é…ç½®</h2><ol><li>åŠŸèƒ½ï¼šè®©ç»„ä»¶æ¥æ”¶å¤–éƒ¨ä¼ è¿‡æ¥çš„æ•°æ®</li><li>ä¼ é€’æ•°æ®ï¼š<code>&lt;Demo name=&quot;xxx&quot;/&gt;</code></li><li>æ¥æ”¶æ•°æ®ï¼š</li><li>ç¬¬ä¸€ç§æ–¹å¼ï¼ˆåªæ¥æ”¶ï¼‰ï¼š<code>props:[&#39;name&#39;]</code></li><li>ç¬¬äºŒç§æ–¹å¼ï¼ˆé™åˆ¶ç±»å‹ï¼‰ï¼š<code>props:&#123;name:String&#125;</code></li><li>ç¬¬ä¸‰ç§æ–¹å¼ï¼ˆé™åˆ¶ç±»å‹ã€é™åˆ¶å¿…è¦æ€§ã€æŒ‡å®šé»˜è®¤å€¼ï¼‰ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">props</span>:&#123;<br><span class="hljs-attr">name</span>:&#123;<br><span class="hljs-attr">type</span>:<span class="hljs-title class_">String</span>, <span class="hljs-comment">//ç±»å‹</span><br><span class="hljs-attr">required</span>:<span class="hljs-literal">true</span>, <span class="hljs-comment">//å¿…è¦æ€§</span><br><span class="hljs-attr">default</span>:<span class="hljs-string">&#x27;è€ç‹&#x27;</span> <span class="hljs-comment">//é»˜è®¤å€¼</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>å¤‡æ³¨ï¼šprops æ˜¯åªè¯»çš„ï¼ŒVue åº•å±‚ä¼šç›‘æµ‹ä½ å¯¹ props çš„ä¿®æ”¹ï¼Œå¦‚æœè¿›è¡Œäº†ä¿®æ”¹ï¼Œå°±ä¼šå‘å‡ºè­¦å‘Šï¼Œè‹¥ä¸šåŠ¡éœ€æ±‚ç¡®å®éœ€è¦ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯·å¤åˆ¶ props çš„å†…å®¹åˆ° data ä¸­ä¸€ä»½ï¼Œç„¶åå»ä¿®æ”¹ data ä¸­çš„æ•°æ®ã€‚</p></blockquote><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â <br>    &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿå§“å: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿæ€§åˆ«: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿå¹´é¾„: &#123;&#123; MyAge + 1 &#125;&#125;&lt;/h2&gt;<br>    Â  Â  &lt;button @click=&quot;updateAge&quot;&gt;ç‚¹æˆ‘ä¿®æ”¹å¹´é¾„&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Student&quot;,<br>  data() &#123;<br>    return &#123;<br>      msg: &quot;æˆ‘æ˜¯ä¸€ä¸ªå°šç¡…è°·çš„å­¦ç”Ÿ&quot;,<br>      MyAge: this.age,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    updateAge() &#123;<br>      this.MyAge++;<br>    &#125;,<br>  &#125;, //ç®€å•å£°æ˜æ¥æ”¶ // props: [&#x27;name&#x27;, &#x27;sex&#x27;, &#x27;age&#x27;] //æ¥æ”¶çš„åŒæ—¶å¯¹æ•°æ®è¿›è¡Œç±»å‹é™åˆ¶ // props: &#123; // Â  name: String, // Â  sex: String, // Â  age: Number // &#125; //æ¥æ”¶çš„åŒæ—¶å¯¹æ•°æ®ï¼šè¿›è¡Œç±»å‹é™åˆ¶+é»˜è®¤å€¼çš„æŒ‡å®š+å¿…è¦æ€§çš„é™åˆ¶<br>  props: &#123;<br>    name: &#123;<br>      type: String, //nameçš„ç±»å‹æ˜¯å­—ç¬¦ä¸²<br>      required: true, //nameæ˜¯å¿…è¦çš„<br>    &#125;,<br>    sex: &#123;<br>      type: String,<br>      default: &quot;ç”·&quot;, //é»˜è®¤å€¼<br>    &#125;,<br>    age: &#123;<br>      type: Number,<br>      default: 20,<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;Â  Â  &lt;Student :age=&quot;18&quot; name=&quot;å°šç¡…è°·&quot; sex=&quot;ç”·&quot; /&gt; Â &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Student from &quot;./components/Student.vue&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Student,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><h2 id="mixin-æ··å…¥"><a href="#mixin-æ··å…¥" class="headerlink" title="mixin æ··å…¥"></a>mixin æ··å…¥</h2><ol><li>åŠŸèƒ½ï¼šå¯ä»¥æŠŠå¤šä¸ªç»„ä»¶å…±ç”¨çš„é…ç½®æå–æˆä¸€ä¸ªæ··å…¥å¯¹è±¡</li><li>ä½¿ç”¨æ–¹å¼ï¼š<br>ç¬¬ä¸€æ­¥å®šä¹‰æ··åˆï¼š</li></ol><figure class="highlight nim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nim">&#123;<br>    data()<span class="hljs-meta">&#123;....&#125;</span>,<br>    methods:<span class="hljs-meta">&#123;....&#125;</span><br>    ....<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ä½¿ç”¨æ··å…¥ï¼š<br>å…¨å±€æ··å…¥ï¼š<code>Vue.mixin(xxx)</code><br>å±€éƒ¨æ··å…¥ï¼š<code>mixins:[&#39;xxx&#39;]</code><br>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â <br>    &lt;h2 @click=&quot;showName&quot;&gt;å­¦æ ¡åç§°: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åœ°å€: &#123;&#123; address &#125;&#125;&lt;/h2&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>// import &#123;mixin&#125; from &quot;../mixin&quot;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å°šç¡…è°·&quot;,<br>      address: &quot;åŒ—äº¬&quot;,<br>    &#125;;<br>  &#125;, // mixins: [mixin]<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â <br>    &lt;h2 @click=&quot;showName&quot;&gt;å­¦ç”Ÿå§“å: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿæ€§åˆ«: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>// import &#123;mixin&#125; from &quot;../mixin&quot;<br>export default &#123;<br>  name: &quot;Student&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å¼ ä¸‰&quot;,<br>      sex: &quot;ç”·&quot;,<br>    &#125;;<br>  &#125;, // mixins: [mixin],<br>  mounted() &#123;<br>    // console.log(&quot;ä½ å¥½å•Š!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â  &lt;Student /&gt; Â  Â <br>    &lt;hr /&gt;<br>    Â  Â  &lt;School /&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Student from &quot;./components/Student.vue&quot;;<br>import School from &quot;./components/School.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Student,<br>    School,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>mixin.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mixin = &#123;<br>  <span class="hljs-attr">methods</span>: &#123;<br>    <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// console.log(&#x27;ä½ å¥½å•Šï¼&#x27;)</span><br>  &#125;,<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mixin2 = &#123;<br>  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">x</span>: <span class="hljs-number">999</span>,<br>      <span class="hljs-attr">y</span>: <span class="hljs-number">666</span>,<br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App&quot;</span>;<br><br><span class="hljs-keyword">import</span> &#123; mixin, mixin2 &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./mixin&quot;</span>;<br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">mixin</span>(mixin);<br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">mixin</span>(mixin2);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><ol><li>åŠŸèƒ½ï¼šç”¨äºå¢å¼º Vue</li><li>æœ¬è´¨ï¼šåŒ…å« install æ–¹æ³•çš„ä¸€ä¸ªå¯¹è±¡ï¼Œinstall çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Vueï¼Œç¬¬äºŒä¸ªä»¥åçš„å‚æ•°æ˜¯æ’ä»¶ä½¿ç”¨è€…ä¼ é€’çš„æ•°æ®ã€‚</li><li>å®šä¹‰æ’ä»¶ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">å¯¹è±¡.<span class="hljs-property">install</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">Vue, options</span>) &#123;<br>    <span class="hljs-comment">// 1. æ·»åŠ å…¨å±€è¿‡æ»¤å™¨</span><br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">filter</span>(....)<br><br>    <span class="hljs-comment">// 2. æ·»åŠ å…¨å±€æŒ‡ä»¤</span><br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(....)<br><br>    <span class="hljs-comment">// 3. é…ç½®å…¨å±€æ··å…¥(åˆ)</span><br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">mixin</span>(....)<br><br>    <span class="hljs-comment">// 4. æ·»åŠ å®ä¾‹æ–¹æ³•</span><br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$myMethod</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;...&#125;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$myProperty</span> = xxxx<br>&#125;<br></code></pre></td></tr></table></figure><ol start="4"><li>ä½¿ç”¨æ’ä»¶ï¼š<code>Vue.use()</code></li></ol><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿå§“å: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿæ€§åˆ«: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;<br>    Â  Â  Â  Â  &lt;input type=&quot;text&quot; v-fbind:value=&quot;name&quot; /&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Student&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å¼ ä¸‰&quot;,<br>      sex: &quot;ç”·&quot;,<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â <br>    &lt;h2 @click=&quot;test&quot;&gt;å­¦æ ¡åç§°: &#123;&#123; name | mySlice &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åœ°å€: &#123;&#123; address &#125;&#125;&lt;/h2&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å°šç¡…è°·atguigu&quot;,<br>      address: &quot;åŒ—äº¬&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    test() &#123;<br>      this.hello();<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â  &lt;Student /&gt; Â  Â <br>    &lt;hr /&gt;<br>    Â  Â  &lt;School /&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Student from &quot;./components/Student.vue&quot;;<br>import School from &quot;./components/School.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Student,<br>    School,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> plugins <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./plugins&quot;</span>;<br><br><span class="hljs-comment">// åº”ç”¨(ä½¿ç”¨)æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(plugins, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;);<br></code></pre></td></tr></table></figure><p>plugins.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">install</span>(<span class="hljs-params">Vue, x, y, z</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x, y, z); <span class="hljs-comment">// å…¨å±€è¿‡æ»¤å™¨</span><br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-string">&quot;mySlice&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>      <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>);<br>    &#125;); <span class="hljs-comment">//å®šä¹‰å…¨å±€æŒ‡ä»¤</span><br><br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&quot;fbind&quot;</span>, &#123;<br>      <span class="hljs-comment">//æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰</span><br>      <span class="hljs-title function_">bind</span>(<span class="hljs-params">element, binding</span>) &#123;<br>        element.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span>;<br>      &#125;, <span class="hljs-comment">//æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶</span><br>      <span class="hljs-title function_">inserted</span>(<span class="hljs-params">element, binding</span>) &#123;<br>        element.<span class="hljs-title function_">focus</span>();<br>      &#125;, <span class="hljs-comment">//æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶</span><br>      <span class="hljs-title function_">update</span>(<span class="hljs-params">element, binding</span>) &#123;<br>        element.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span>;<br>      &#125;,<br>    &#125;); <span class="hljs-comment">//å®šä¹‰æ··å…¥</span><br><br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">mixin</span>(&#123;<br>      <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> &#123;<br>          <span class="hljs-attr">x</span>: <span class="hljs-number">100</span>,<br>          <span class="hljs-attr">y</span>: <span class="hljs-number">200</span>,<br>        &#125;;<br>      &#125;,<br>    &#125;); <span class="hljs-comment">//ç»™VueåŸå‹ä¸Šæ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼ˆvmå’Œvcå°±éƒ½èƒ½ç”¨äº†ï¼‰</span><br><br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hello</span> = <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;ä½ å¥½å•Š&quot;</span>);<br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="scoped-æ ·å¼"><a href="#scoped-æ ·å¼" class="headerlink" title="scoped æ ·å¼"></a>scoped æ ·å¼</h2><ol><li>ä½œç”¨ï¼šè®©æ ·å¼åœ¨å±€éƒ¨ç”Ÿæ•ˆï¼Œé˜²æ­¢å†²çªã€‚</li><li>å†™æ³•ï¼š<code>&lt;style scoped&gt;</code></li></ol><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;demo&quot;&gt;<br>    Â  Â <br>    &lt;h2 class=&quot;title&quot;&gt;å­¦æ ¡åç§°: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åœ°å€: &#123;&#123; address &#125;&#125;&lt;/h2&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å°šç¡…è°·atguigu&quot;,<br>      address: &quot;åŒ—äº¬&quot;,<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>Â  .demo &#123;<br>Â  Â  background-color: lightpink;<br>Â  &#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;demo&quot;&gt;<br>    &lt;h2 class=&quot;title&quot;&gt;å­¦æ ¡åç§°: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    &lt;h2 class=&quot;qwe&quot;&gt;å­¦æ ¡åœ°å€: &#123;&#123; address &#125;&#125;&lt;/h2&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å°šç¡…è°·atguigu&quot;,<br>      address: &quot;åŒ—äº¬&quot;,<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style lang=&quot;less&quot; scoped&gt;<br>.demo &#123;<br>  background-color: lightpink;<br>  .qwe &#123;<br>    font-size: 50px;<br>  &#125;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â <br>    &lt;h2 class=&quot;title&quot;&gt;æ ‡é¢˜&lt;/h2&gt;<br>    Â  Â  &lt;School /&gt; Â  Â <br>    &lt;hr /&gt;<br>    Â  Â  &lt;Student /&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Student from &quot;./components/Student.vue&quot;;<br>import School from &quot;./components/School.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Student,<br>    School,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>Â  .title &#123;<br>Â  Â  color: red;<br>Â  &#125;<br>&lt;/style&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;);<br></code></pre></td></tr></table></figure><p>åœ¨ç»„ä»¶ä¸­çš„ style æ ‡ç­¾ä¸­å®šä¹‰äº† scoped, ä¼šåœ¨ä½¿ç”¨çš„ class ç±»ä¸ŠåŠ ä¸Šéšæœºçš„ id, åœ¨é€‰æ‹©å™¨ä¸­é…åˆ id æ¥é€‰æ‹©, ç”¨æ¥è§£å†³ css é€‰æ‹©å™¨é‡åçš„é—®é¢˜<br><img src="http://cdn.xiamu.icu//FhY45jbXhTpc14Igihiq6gAUlZ7h.png"><br>ä½†æ˜¯åœ¨ App.vue ç»„ä»¶ä¸­, ä¸€èˆ¬ä¸ç”¨è¿™ä¸ª, ä¸»è¦æ˜¯ App ç»„ä»¶ä¸­å†™äº†æ ·å¼, å°±è¯´æ˜æ˜¯å¾ˆå¤šç»„ä»¶éƒ½åœ¨ä½¿ç”¨çš„, å°±ä¸éœ€è¦ç”¨ scoped çš„</p><h3 id=""><a href="#" class="headerlink" title=""></a><style lang="less"></h3><p>Module not found: Error: Canâ€™t resolve â€˜less-loaderâ€™ in â€˜E:\Code\Vue\vue_testâ€™<br><img src="http://cdn.xiamu.icu//FsSKSQLOE9EoIiCnX4Bj4i9laztj.png"><br>PS E:\Code\Vue\vue_test&gt; npm i less-loader<br>åªéœ€è¦å®‰è£… less-loader å°±è¡Œäº†<br>webpack 4 åº”è¯¥å®‰è£… less-loader7 ç‰ˆæœ¬çš„<br>PS E:\Code\Vue\vue_test&gt; npm i less-loader@7<br>webpack 5 å¯ä»¥å®‰è£… less-loader æœ€æ–°ç‰ˆ(11)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript">æŸ¥çœ‹ç‰ˆæœ¬çš„æœ€æ–°ç‰ˆ<br><span class="hljs-variable constant_">PS</span> <span class="hljs-attr">E</span>:\<span class="hljs-title class_">Code</span>\<span class="hljs-title class_">Vue</span>\vue_test&gt; npm view webpack versions<br>[<br>  <span class="hljs-string">&#x27;0.1.0&#x27;</span>,          <span class="hljs-string">&#x27;0.1.1&#x27;</span>,          <span class="hljs-string">&#x27;0.1.2&#x27;</span>,          <span class="hljs-string">&#x27;0.1.3&#x27;</span>,<br>  ...<br>  ...<br>  ...<br>  <span class="hljs-string">&#x27;5.73.0&#x27;</span>,         <span class="hljs-string">&#x27;5.74.0&#x27;</span>,         <span class="hljs-string">&#x27;5.75.0&#x27;</span><br>]<br><br><span class="hljs-variable constant_">PS</span> <span class="hljs-attr">E</span>:\<span class="hljs-title class_">Code</span>\<span class="hljs-title class_">Vue</span>\vue_test&gt; npm view less-loader versions<br>[<br>  <span class="hljs-string">&#x27;0.1.0&#x27;</span>,  <span class="hljs-string">&#x27;0.1.1&#x27;</span>,  <span class="hljs-string">&#x27;0.1.2&#x27;</span>,  <span class="hljs-string">&#x27;0.1.3&#x27;</span>,  <span class="hljs-string">&#x27;0.2.0&#x27;</span>,<br>  <span class="hljs-string">&#x27;0.2.1&#x27;</span>,  <span class="hljs-string">&#x27;0.2.2&#x27;</span>,  <span class="hljs-string">&#x27;0.5.0&#x27;</span>,  <span class="hljs-string">&#x27;0.5.1&#x27;</span>,  <span class="hljs-string">&#x27;0.6.0&#x27;</span>,<br>  <span class="hljs-string">&#x27;0.6.1&#x27;</span>,  <span class="hljs-string">&#x27;0.6.2&#x27;</span>,  <span class="hljs-string">&#x27;0.7.0&#x27;</span>,  <span class="hljs-string">&#x27;0.7.1&#x27;</span>,  <span class="hljs-string">&#x27;0.7.2&#x27;</span>,<br>  <span class="hljs-string">&#x27;0.7.3&#x27;</span>,  <span class="hljs-string">&#x27;0.7.4&#x27;</span>,  <span class="hljs-string">&#x27;0.7.5&#x27;</span>,  <span class="hljs-string">&#x27;0.7.6&#x27;</span>,  <span class="hljs-string">&#x27;0.7.7&#x27;</span>,<br>  <span class="hljs-string">&#x27;0.7.8&#x27;</span>,  <span class="hljs-string">&#x27;2.0.0&#x27;</span>,  <span class="hljs-string">&#x27;2.1.0&#x27;</span>,  <span class="hljs-string">&#x27;2.2.0&#x27;</span>,  <span class="hljs-string">&#x27;2.2.1&#x27;</span>,<br>  <span class="hljs-string">&#x27;2.2.2&#x27;</span>,  <span class="hljs-string">&#x27;2.2.3&#x27;</span>,  <span class="hljs-string">&#x27;3.0.0&#x27;</span>,  <span class="hljs-string">&#x27;4.0.0&#x27;</span>,  <span class="hljs-string">&#x27;4.0.1&#x27;</span>,<br>  <span class="hljs-string">&#x27;4.0.2&#x27;</span>,  <span class="hljs-string">&#x27;4.0.3&#x27;</span>,  <span class="hljs-string">&#x27;4.0.4&#x27;</span>,  <span class="hljs-string">&#x27;4.0.5&#x27;</span>,  <span class="hljs-string">&#x27;4.0.6&#x27;</span>,<br>  <span class="hljs-string">&#x27;4.1.0&#x27;</span>,  <span class="hljs-string">&#x27;5.0.0&#x27;</span>,  <span class="hljs-string">&#x27;6.0.0&#x27;</span>,  <span class="hljs-string">&#x27;6.1.0&#x27;</span>,  <span class="hljs-string">&#x27;6.1.1&#x27;</span>,<br>  <span class="hljs-string">&#x27;6.1.2&#x27;</span>,  <span class="hljs-string">&#x27;6.1.3&#x27;</span>,  <span class="hljs-string">&#x27;6.2.0&#x27;</span>,  <span class="hljs-string">&#x27;7.0.0&#x27;</span>,  <span class="hljs-string">&#x27;7.0.1&#x27;</span>,<br>  <span class="hljs-string">&#x27;7.0.2&#x27;</span>,  <span class="hljs-string">&#x27;7.1.0&#x27;</span>,  <span class="hljs-string">&#x27;7.2.0&#x27;</span>,  <span class="hljs-string">&#x27;7.2.1&#x27;</span>,  <span class="hljs-string">&#x27;7.3.0&#x27;</span>,<br>  <span class="hljs-string">&#x27;8.0.0&#x27;</span>,  <span class="hljs-string">&#x27;8.1.0&#x27;</span>,  <span class="hljs-string">&#x27;8.1.1&#x27;</span>,  <span class="hljs-string">&#x27;9.0.0&#x27;</span>,  <span class="hljs-string">&#x27;9.1.0&#x27;</span>,<br>  <span class="hljs-string">&#x27;10.0.0&#x27;</span>, <span class="hljs-string">&#x27;10.0.1&#x27;</span>, <span class="hljs-string">&#x27;10.1.0&#x27;</span>, <span class="hljs-string">&#x27;10.2.0&#x27;</span>, <span class="hljs-string">&#x27;11.0.0&#x27;</span>,<br>  <span class="hljs-string">&#x27;11.1.0&#x27;</span><br>]<br></code></pre></td></tr></table></figure><p>å®‰è£… nanoid åº“ npm i nanoid</p><p>props ä¼ è¿›æ¥çš„å¯¹è±¡, æœ€å¥½ä¸è¦å»åšä¿®æ”¹<br><img src="http://cdn.xiamu.icu//FtDe2HR5AVFDLWdciHti9CdSQTfg.png"></p><h2 id="WebStore"><a href="#WebStore" class="headerlink" title="WebStore"></a>WebStore</h2><ol><li>å­˜å‚¨å†…å®¹å¤§å°ä¸€èˆ¬æ”¯æŒ 5MB å·¦å³ï¼ˆä¸åŒæµè§ˆå™¨å¯èƒ½è¿˜ä¸ä¸€æ ·ï¼‰</li><li>æµè§ˆå™¨ç«¯é€šè¿‡ Window.sessionStorage å’Œ Window.localStorage å±æ€§æ¥å®ç°æœ¬åœ°å­˜å‚¨æœºåˆ¶ã€‚</li><li>ç›¸å…³ APIï¼š</li><li><code>xxxxxStorage.setItem(&#39;key&#39;, &#39;value&#39;);</code><br>è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé”®å’Œå€¼ä½œä¸ºå‚æ•°ï¼Œä¼šæŠŠé”®å€¼å¯¹æ·»åŠ åˆ°å­˜å‚¨ä¸­ï¼Œå¦‚æœé”®åå­˜åœ¨ï¼Œåˆ™æ›´æ–°å…¶å¯¹åº”çš„å€¼ã€‚</li><li><code>xxxxxStorage.getItem(&#39;person&#39;);</code><br>è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé”®åä½œä¸ºå‚æ•°ï¼Œè¿”å›é”®åå¯¹åº”çš„å€¼ã€‚</li><li><code>xxxxxStorage.removeItem(&#39;key&#39;);</code><br>è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé”®åä½œä¸ºå‚æ•°ï¼Œå¹¶æŠŠè¯¥é”®åä»å­˜å‚¨ä¸­åˆ é™¤ã€‚</li><li><code>xxxxxStorage.clear()</code><br>è¯¥æ–¹æ³•ä¼šæ¸…ç©ºå­˜å‚¨ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚</li><li>å¤‡æ³¨ï¼š</li><li>SessionStorage å­˜å‚¨çš„å†…å®¹ä¼šéšç€æµè§ˆå™¨çª—å£å…³é—­è€Œæ¶ˆå¤±ã€‚</li><li>LocalStorage å­˜å‚¨çš„å†…å®¹ï¼Œéœ€è¦æ‰‹åŠ¨æ¸…é™¤æ‰ä¼šæ¶ˆå¤±ã€‚</li><li><code>xxxxxStorage.getItem(xxx)</code>å¦‚æœ xxx å¯¹åº”çš„ value è·å–ä¸åˆ°ï¼Œé‚£ä¹ˆ getItem çš„è¿”å›å€¼æ˜¯ nullã€‚</li><li><code>JSON.parse(null)</code>çš„ç»“æœä¾ç„¶æ˜¯ nullã€‚</li></ol><p>localStore.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>localStore<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>localStore<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;saveData()&quot;</span>&gt;</span>ç‚¹æˆ‘ä¿å­˜ä¸€ä¸ªæ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;readData()&quot;</span>&gt;</span>ç‚¹æˆ‘è¯»å–ä¸€ä¸ªæ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;deleteData()&quot;</span>&gt;</span>ç‚¹æˆ‘åˆ é™¤ä¸€ä¸ªæ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;deleteAllData()&quot;</span>&gt;</span>ç‚¹æˆ‘æ¸…ç©ºæ‰€æœ‰æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> person = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">function</span> <span class="hljs-title function_">saveData</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;msg1&quot;</span>, <span class="hljs-string">&quot;Hello&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;msg2&quot;</span>, <span class="hljs-number">123</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;msg3&quot;</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(person));</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-keyword">function</span> <span class="hljs-title function_">readData</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;msg1&quot;</span>));</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;msg2&quot;</span>));</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> result = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;msg3&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(result));</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;msg4&quot;</span>));</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteData</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">&quot;msg1&quot;</span>);</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteAllData</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">clear</span>();</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>sessionStore.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>sessionStore<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>sessionStore<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;saveData()&quot;</span>&gt;</span>ç‚¹æˆ‘ä¿å­˜ä¸€ä¸ªæ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;readData()&quot;</span>&gt;</span>ç‚¹æˆ‘è¯»å–ä¸€ä¸ªæ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;deleteData()&quot;</span>&gt;</span>ç‚¹æˆ‘åˆ é™¤ä¸€ä¸ªæ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;deleteAllData()&quot;</span>&gt;</span>ç‚¹æˆ‘æ¸…ç©ºæ‰€æœ‰æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> person = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">function</span> <span class="hljs-title function_">saveData</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;msg1&quot;</span>, <span class="hljs-string">&quot;Hello&quot;</span>);</span><br><span class="language-javascript">        sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;msg2&quot;</span>, <span class="hljs-number">123</span>);</span><br><span class="language-javascript">        sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;msg3&quot;</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(person));</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-keyword">function</span> <span class="hljs-title function_">readData</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;msg1&quot;</span>));</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;msg2&quot;</span>));</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> result = sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;msg3&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(result));</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;msg4&quot;</span>));</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteData</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        sessionStorage.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">&quot;msg1&quot;</span>);</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteAllData</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        sessionStorage.<span class="hljs-title function_">clear</span>();</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="TodoList-æ¡ˆä¾‹"><a href="#TodoList-æ¡ˆä¾‹" class="headerlink" title="TodoList_æ¡ˆä¾‹"></a>TodoList_æ¡ˆä¾‹</h2><ol><li>ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼š<br>(1).æ‹†åˆ†é™æ€ç»„ä»¶ï¼šç»„ä»¶è¦æŒ‰ç…§åŠŸèƒ½ç‚¹æ‹†åˆ†ï¼Œå‘½åä¸è¦ä¸ html å…ƒç´ å†²çªã€‚<br>(2).å®ç°åŠ¨æ€ç»„ä»¶ï¼šè€ƒè™‘å¥½æ•°æ®çš„å­˜æ”¾ä½ç½®ï¼Œæ•°æ®æ˜¯ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼Œè¿˜æ˜¯ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼š<br>1).ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ç»„ä»¶è‡ªèº«å³å¯ã€‚<br>2). ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ä»–ä»¬å…±åŒçš„çˆ¶ç»„ä»¶ä¸Šï¼ˆçŠ¶æ€æå‡ï¼‰ã€‚<br>(3).å®ç°äº¤äº’ï¼šä»ç»‘å®šäº‹ä»¶å¼€å§‹ã€‚</li><li>props é€‚ç”¨äºï¼š<br>(1).çˆ¶ç»„ä»¶ &#x3D;&#x3D;&gt; å­ç»„ä»¶ é€šä¿¡<br>(2).å­ç»„ä»¶ &#x3D;&#x3D;&gt; çˆ¶ç»„ä»¶ é€šä¿¡ï¼ˆè¦æ±‚çˆ¶å…ˆç»™å­ä¸€ä¸ªå‡½æ•°ï¼‰</li><li>ä½¿ç”¨ v-model æ—¶è¦åˆ‡è®°ï¼šv-model ç»‘å®šçš„å€¼ä¸èƒ½æ˜¯ props ä¼ è¿‡æ¥çš„å€¼ï¼Œå› ä¸º props æ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ï¼</li><li>props ä¼ è¿‡æ¥çš„è‹¥æ˜¯å¯¹è±¡ç±»å‹çš„å€¼ï¼Œä¿®æ”¹å¯¹è±¡ä¸­çš„å±æ€§æ—¶ Vue ä¸ä¼šæŠ¥é”™ï¼Œä½†ä¸æ¨èè¿™æ ·åšã€‚</li></ol><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-header&quot;&gt;<br>    Â  Â <br>    &lt;input<br>      type=&quot;text&quot;<br>      v-model=&quot;todoName&quot;<br>      @keyup.enter=&quot;add&quot;<br>      placeholder=&quot;è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤&quot;<br>    /&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; nanoid &#125; from &quot;nanoid&quot;;<br>export default &#123;<br>  name: &quot;MyHeader&quot;,<br>  props: [&quot;addTodoObj&quot;],<br>  data() &#123;<br>    return &#123;<br>      todoName: &quot;&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    add() &#123;<br>      if (!this.todoName) &#123;<br>        alert(&quot;è¯·è¾“å…¥ç‚¹ä»€ä¹ˆå§&quot;);<br>        return;<br>      &#125;<br>      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;; // console.log(todoObj);<br>      this.addTodoObj(todoObj);<br>      this.todoName = &quot;&quot;;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*header*/<br>.todo-header input &#123;<br>Â  width: 560px;<br>Â  height: 28px;<br>Â  font-size: 14px;<br>Â  border: 1px solid #ccc;<br>Â  border-radius: 4px;<br>Â  padding: 4px 7px;<br>&#125;<br><br><br>.todo-header input:focus &#123;<br>Â  outline: none;<br>Â  border-color: rgba(82, 168, 236, 0.8);<br>Â  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),<br>Â  Â  0 0 8px rgba(82, 168, 236, 0.6);<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;ul class=&quot;todo-main&quot;&gt;<br>    Â  Â <br>    &lt;MyItem<br>      v-for=&quot;todoObj in todos&quot;<br>      :key=&quot;todoObj.id&quot;<br>      :todoObj=&quot;todoObj&quot;<br>      :checkTodo=&quot;checkTodo&quot;<br>      :deleteTodoObj=&quot;deleteTodoObj&quot;<br>    /&gt;<br>    Â <br>  &lt;/ul&gt;<br>&lt;/template&gt;<br><br>&lt;script scoped&gt;<br>import MyItem from &quot;./MyItem.vue&quot;;<br>export default &#123;<br>  name: &quot;MyList&quot;,<br>  components: &#123;<br>    MyItem,<br>  &#125;,<br>  props: [&quot;todos&quot;, &quot;checkTodo&quot;, &quot;deleteTodoObj&quot;],<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*main*/<br>.todo-main &#123;<br>Â  margin-left: 0px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding: 0px;<br>&#125;<br><br><br>.todo-empty &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding-left: 5px;<br>Â  margin-top: 10px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;li&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;input<br>        type=&quot;checkbox&quot;<br>        :checked=&quot;todoObj.done&quot;<br>        @change=&quot;handleCheck(todoObj.id)&quot;<br>      /&gt;<br>      Â  Â  Â  &lt;span&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt; Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;!-- å¦‚ä¸‹ä»£ç ä¹Ÿèƒ½å®ç°åŠŸèƒ½ï¼Œä½†æ˜¯ä¸å¤ªæ¨èï¼Œå› ä¸ºæœ‰ç‚¹è¿ååŸåˆ™ï¼Œå› ä¸ºä¿®æ”¹äº†props --&gt;<br>    Â  Â <br>    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;<br>      åˆ é™¤<br>    &lt;/button&gt;<br>    Â <br>  &lt;/li&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;MyItem&quot;,<br>  props: [&quot;todoObj&quot;, &quot;checkTodo&quot;, &quot;deleteTodoObj&quot;],<br>  data() &#123;<br>    return &#123;&#125;;<br>  &#125;,<br>  methods: &#123;<br>    handleCheck(id) &#123;<br>      this.checkTodo(id);<br>    &#125;,<br>    handleDelete(id) &#123;<br>      this.deleteTodoObj(id);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*item*/<br>li &#123;<br>Â  list-style: none;<br>Â  height: 36px;<br>Â  line-height: 36px;<br>Â  padding: 0 5px;<br>Â  border-bottom: 1px solid #ddd;<br>&#125;<br><br><br>li label &#123;<br>Â  float: left;<br>Â  cursor: pointer;<br>&#125;<br><br><br>li label li input &#123;<br>Â  vertical-align: middle;<br>Â  margin-right: 6px;<br>Â  position: relative;<br>Â  top: -1px;<br>&#125;<br><br><br>li button &#123;<br>Â  float: right;<br>Â  display: none;<br>Â  margin-top: 3px;<br>&#125;<br><br><br>li:before &#123;<br>Â  content: initial;<br>&#125;<br><br><br>li:last-child &#123;<br>Â  border-bottom: none;<br>&#125;<br><br><br>li:hover &#123;<br>Â  Â  background-color: #ccc;<br>&#125;<br><br><br>li:hover button &#123;<br>Â  Â  display: block;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyFoot.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;<br>      Â  Â  Â  &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt; Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;span&gt;<br>      Â  Â  Â  &lt;span&gt;å·²å®Œæˆ&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / å…¨éƒ¨&#123;&#123; total &#125;&#125; Â  Â <br>    &lt;/span&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;æ¸…é™¤å·²å®Œæˆä»»åŠ¡&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;MyFooter&quot;,<br>  props: [&quot;todos&quot;, &quot;checkAllTodo&quot;, &quot;clearAllTodo&quot;],<br>  computed: &#123;<br>    // isAll() &#123;<br>    // Â  return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>    // &#125;,<br>    total() &#123;<br>      return this.todos.length;<br>    &#125;,<br>    calcTodoTotal() &#123;<br>      /* Â  Â  Â  let i = 0<br>Â  Â  Â  this.todos.forEach((todo) =&gt; &#123;<br>Â  Â  Â  Â  if (todo.done === true) i++<br>Â  Â  Â  &#125;);<br>Â  Â  Â  return i */<br>      /* Â  Â  Â  return this.todos.reduce((pre, current) =&gt; &#123;<br>Â  Â  Â  Â  // console.log(current.done);<br>Â  Â  Â  Â  return pre + (current.done ? 1 : 0)<br>Â  Â  Â  &#125;, 0) */<br>      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);<br>    &#125;,<br>    isAll: &#123;<br>      get() &#123;<br>        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>      &#125;,<br>      set(value) &#123;<br>        this.checkAllTodo(value);<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  methods: &#123;<br>    checkAll(e) &#123;<br>      // console.log(e.target.checked);<br>      this.checkAllTodo(e.target.checked);<br>    &#125;,<br>    clearAll() &#123;<br>      this.clearAllTodo();<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*footer*/<br>.todo-footer &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  padding-left: 6px;<br>Â  margin-top: 5px;<br>&#125;<br><br><br>.todo-footer label &#123;<br>Â  display: inline-block;<br>Â  margin-right: 20px;<br>Â  cursor: pointer;<br>&#125;<br><br><br>.todo-footer label input &#123;<br>Â  position: relative;<br>Â  top: -1px;<br>Â  vertical-align: middle;<br>Â  margin-right: 5px;<br>&#125;<br><br><br>.todo-footer button &#123;<br>Â  float: right;<br>Â  margin-top: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div id=&quot;root&quot;&gt;<br>    Â  Â <br>    &lt;div class=&quot;todo-container&quot;&gt;<br>      Â  Â  Â <br>      &lt;div class=&quot;todo-wrap&quot;&gt;<br>        Â  Â  Â  Â  &lt;MyHeader :addTodoObj=&quot;addTodoObj&quot; /&gt; Â  Â  Â  Â <br>        &lt;MyList<br>          :todos=&quot;todos&quot;<br>          :checkTodo=&quot;checkTodo&quot;<br>          :deleteTodoObj=&quot;deleteTodoObj&quot;<br>        /&gt;<br>        Â  Â  Â  Â <br>        &lt;MyFooter<br>          :todos=&quot;todos&quot;<br>          :checkAllTodo=&quot;checkAllTodo&quot;<br>          :clearAllTodo=&quot;clearAllTodo&quot;<br>        /&gt;<br>        Â  Â  Â <br>      &lt;/div&gt;<br>      Â  Â <br>    &lt;/div&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import MyHeader from &quot;./components/MyHeader.vue&quot;;<br>import MyList from &quot;./components/MyList.vue&quot;;<br>import MyFooter from &quot;./components/MyFooter.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    MyHeader,<br>    MyList,<br>    MyFooter,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    addTodoObj(todoObj) &#123;<br>      this.todos.unshift(todoObj);<br>    &#125;,<br>    checkTodo(id) &#123;<br>      this.todos.forEach((todoObj) =&gt; &#123;<br>        if (todoObj.id === id) &#123;<br>          todoObj.done = !todoObj.done; // console.log(todoObj.done);<br>        &#125;<br>      &#125;);<br>    &#125;,<br>    deleteTodoObj(id) &#123;<br>      if (confirm(&quot;æ˜¯å¦ç¡®å®šåˆ é™¤&quot;)) &#123;<br>        this.todos = this.todos.filter((todo) =&gt; &#123;<br>          return todo.id !== id;<br>        &#125;);<br>      &#125;<br>    &#125;,<br>    checkAllTodo(value) &#123;<br>      this.todos.forEach((todo) =&gt; &#123;<br>        todo.done = value;<br>      &#125;);<br>    &#125;,<br>    clearAllTodo() &#123;<br>      this.todos = this.todos.filter((todo) =&gt; &#123;<br>        return !todo.done;<br>      &#125;);<br>    &#125;,<br>  &#125;,<br>  watch: &#123;<br>    todos: &#123;<br>      deep: true,<br>      handler(value) &#123;<br>        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*base*/<br>body &#123;<br>Â  background: #fff;<br>&#125;<br><br><br>.btn &#123;<br>Â  display: inline-block;<br>Â  padding: 4px 12px;<br>Â  margin-bottom: 0;<br>Â  font-size: 14px;<br>Â  line-height: 20px;<br>Â  text-align: center;<br>Â  vertical-align: middle;<br>Â  cursor: pointer;<br>Â  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),<br>Â  Â  0 1px 2px rgba(0, 0, 0, 0.05);<br>Â  border-radius: 4px;<br>&#125;<br><br><br>.btn-danger &#123;<br>Â  color: #fff;<br>Â  background-color: #da4f49;<br>Â  border: 1px solid #bd362f;<br>&#125;<br><br><br>.btn-danger:hover &#123;<br>Â  color: #fff;<br>Â  background-color: #bd362f;<br>&#125;<br><br><br>.btn:focus &#123;<br>Â  outline: none;<br>&#125;<br><br><br>.todo-container &#123;<br>Â  width: 600px;<br>Â  margin: 0 auto;<br>&#125;<br>.todo-container .todo-wrap &#123;<br>Â  padding: 10px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶"><a href="#ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶"></a>ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶</h2><ol><li>ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºï¼š<strong>å­ç»„ä»¶ &#x3D;&#x3D;&#x3D;&gt; çˆ¶ç»„ä»¶</strong></li><li>ä½¿ç”¨åœºæ™¯ï¼šA æ˜¯çˆ¶ç»„ä»¶ï¼ŒB æ˜¯å­ç»„ä»¶ï¼ŒB æƒ³ç»™ A ä¼ æ•°æ®ï¼Œé‚£ä¹ˆå°±è¦åœ¨ A ä¸­ç»™ B ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼ˆäº‹ä»¶çš„å›è°ƒåœ¨ A ä¸­ï¼‰ã€‚</li><li>ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š</li><li>ç¬¬ä¸€ç§æ–¹å¼ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼š<code>&lt;Demo @atguigu=&quot;test&quot;/&gt;</code> Â  æˆ– <code>&lt;Demo v-on:atguigu=&quot;test&quot;/&gt;</code></li><li>ç¬¬äºŒç§æ–¹å¼ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">Demo</span> ref=<span class="hljs-string">&quot;demo&quot;</span>/&gt;<br>......<br><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>)&#123;<br>   <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">xxx</span>.$on(<span class="hljs-string">&#x27;atguigu&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">test</span>)<br>&#125;<br></code></pre></td></tr></table></figure><ol start="3"><li>è‹¥æƒ³è®©è‡ªå®šä¹‰äº‹ä»¶åªèƒ½è§¦å‘ä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨<code>once</code>ä¿®é¥°ç¬¦ï¼Œæˆ–<code>$once</code>æ–¹æ³•ã€‚</li><li>è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼š<code>this.$emit(&#39;atguigu&#39;,æ•°æ®)</code></li><li>è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶<code>this.$off(&#39;atguigu&#39;)</code></li><li>ç»„ä»¶ä¸Šä¹Ÿå¯ä»¥ç»‘å®šåŸç”Ÿ DOM äº‹ä»¶ï¼Œéœ€è¦ä½¿ç”¨<code>native</code>ä¿®é¥°ç¬¦ã€‚</li><li>æ³¨æ„ï¼šé€šè¿‡<code>this.$refs.xxx.$on(&#39;atguigu&#39;,å›è°ƒ)</code>ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶æ—¶ï¼Œå›è°ƒè¦ä¹ˆé…ç½®åœ¨ methods ä¸­ï¼Œè¦ä¹ˆç”¨ç®­å¤´å‡½æ•°ï¼Œå¦åˆ™ this æŒ‡å‘ä¼šå‡ºé—®é¢˜ï¼</li></ol><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;school&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åç§°: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åœ°å€: &#123;&#123; address &#125;&#125;&lt;/h2&gt;<br>    Â  Â  &lt;button @click=&quot;sendSchoolName&quot;&gt;ç‚¹æˆ‘æŠŠå­¦æ ¡åç§°å‘é€ç»™App&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  props: [&quot;getSchoolName&quot;],<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å°šç¡…è°·&quot;,<br>      address: &quot;åŒ—äº¬&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    sendSchoolName() &#123;<br>      this.getSchoolName(this.name);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style lang=&quot;less&quot; scoped&gt;<br>Â  .school &#123;<br>Â  Â  background-color: lightpink;<br>Â  Â  padding: 5px;<br>Â  Â  margin-top: 30px;<br>Â  &#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;student&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿå§“å: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿæ€§åˆ«: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å½“å‰æ±‚å’Œä¸º: &#123;&#123; number &#125;&#125;&lt;/h2&gt;<br>    Â  Â  &lt;button @click=&quot;add&quot;&gt;ç‚¹æˆ‘number++&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;sendStudentName&quot;&gt;ç‚¹æˆ‘æŠŠå­¦ç”Ÿåç§°å‘é€ç»™App&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;unbind&quot;&gt;è§£ç»‘atguiguäº‹ä»¶&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;death&quot;&gt;é”€æ¯å½“å‰Studentç»„ä»¶çš„å®ä¾‹å¯¹è±¡&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Student&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å¼ ä¸‰&quot;,<br>      sex: &quot;ç”·&quot;,<br>      number: 0,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    add() &#123;<br>      console.log(&quot;addå›è°ƒè¢«è°ƒç”¨äº†&quot;);<br>      this.number++;<br>    &#125;,<br>    sendStudentName() &#123;<br>      this.$emit(&quot;atguigu&quot;, this.name, 666, 777, 888, 999); // this.$emit(&#x27;demo&#x27;) // this.$emit(&#x27;click&#x27;)<br>    &#125;,<br>    unbind() &#123;<br>      // this.$off(&#x27;atguigu&#x27;) // è§£ç»‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶<br>      // this.$off([&#x27;atguigu&#x27;, &#x27;demo&#x27;]) // è§£ç»‘å¤šä¸ªè‡ªå®šä¹‰äº‹ä»¶<br>      this.$off(); // è§£ç»‘æ‰€æœ‰çš„è‡ªå®šä¹‰äº‹ä»¶<br>    &#125;,<br>    death() &#123;<br>      this.$destroy(); // é”€æ¯äº†å½“å‰Studentç»„ä»¶çš„å®ä¾‹å¯¹è±¡, é”€æ¯åæ‰€æœ‰Studentå®ä¾‹çš„è‡ªå®šä¹‰äº‹ä»¶å…¨éƒ¨ä¸å¥æ•ˆ // ç°åœ¨ç»‘å®šçš„æ—¶é—´éƒ½ä¼šä¸å¥æ•ˆ, ä¹‹å‰çš„åŸç”Ÿçš„äº‹ä»¶ä¹Ÿä¸ä¼šå¥æ•ˆ<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.student &#123;<br>Â  background-color: lightblue;<br>Â  padding: 5px;<br>Â  margin-top: 30px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;app&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;&#123;&#123; msg &#125;&#125;, å­¦ç”Ÿå§“åæ˜¯: &#123;&#123; studentName &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’å‡½æ•°ç±»å‹çš„propså®ç°: å­ç»™çˆ¶ä¼ é€’æ•°æ® --&gt;<br>    Â  Â  &lt;School :getSchoolName=&quot;getSchoolName&quot; /&gt; Â  Â <br>    &lt;hr /&gt;<br>    Â  Â <br>    &lt;!-- ç”±äºv-onåœ¨studentç»„ä»¶æ ‡ç­¾ä¸Š, <br>Â  Â  æ‰€ä»¥æ˜¯ç»™Studentè¿™ä¸ªç»„ä»¶å®ä¾‹å¯¹è±¡VCç»‘å®šäº†ä¸€ä¸ªäº‹ä»¶, <br>Â  Â  äº‹ä»¶åå­—å«atguigu, å¦‚æœä»¥åæœ‰äººè§¦å‘äº†atguiguäº‹ä»¶, <br>Â  Â  demoå‡½æ•°å°±ä¼šè¢«è°ƒç”¨ --&gt;<br>    Â  Â <br>    &lt;!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶å®ç°: å­ç»™çˆ¶ä¼ é€’æ•°æ®(ç¬¬ä¸€ç§å†™æ³•, ä½¿ç”¨@æˆ–v-on) --&gt;<br>    Â  Â <br>    &lt;!-- &lt;Student v-on:atguigu=&quot;getStudentName&quot; @demo=&quot;m1&quot; /&gt; --&gt;<br><br>    Â  Â <br>    &lt;!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶å®ç°: å­ç»™çˆ¶ä¼ é€’æ•°æ®(ç¬¬äºŒç§å†™æ³•, ä½¿ç”¨ref) --&gt;<br>    Â  Â  &lt;Student ref=&quot;student&quot; @click.native=&quot;show&quot; /&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Student from &quot;./components/Student.vue&quot;;<br>import School from &quot;./components/School.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  data() &#123;<br>    return &#123;<br>      msg: &quot;ä½ å¥½å•Š!&quot;,<br>      studentName: &quot;&quot;,<br>    &#125;;<br>  &#125;,<br>  components: &#123;<br>    Student,<br>    School,<br>  &#125;,<br>  methods: &#123;<br>    show() &#123;<br>      alert(123);<br>    &#125;,<br>    getSchoolName(name) &#123;<br>      console.log(&quot;Appæ”¶åˆ°äº†Schoolçš„name&quot;, name);<br>    &#125;,<br>    getStudentName(name, ...params) &#123;<br>      console.log(&quot;getStudentNameè¢«è°ƒç”¨äº†&quot;, name, params);<br>      this.studentName = name;<br>    &#125;,<br>    m1() &#123;<br>      console.log(&quot;demoäº‹ä»¶è¢«è§¦å‘äº†ï¼&quot;);<br>    &#125;,<br>  &#125;,<br>  mounted() &#123;<br>    this.$refs.student.$on(&quot;atguigu&quot;, (name, params) =&gt; &#123;<br>      console.log(&quot;getStudentNameè¢«è°ƒç”¨äº†&quot;, name, params);<br>      console.log(this);<br>      this.studentName = name;<br>    &#125;); // ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ // this.$refs.student.$on(&quot;atguigu&quot;, this.getStudentName); // ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ // this.$refs.student.$once(&quot;atguigu&quot;, this.getStudentName); // ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶(ä¸€æ¬¡æ€§) // å»¶è¿Ÿä¸‰ç§’è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ // setTimeout(() =&gt; &#123; // Â  this.$refs.student.$on(&quot;atguigu&quot;, this.getStudentName); // &#125;, 3000);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.app &#123;<br>Â  background-color: gray;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>), <span class="hljs-comment">// mounted() &#123; // Â  Â  setTimeout(() =&gt; &#123; // Â  Â  Â  Â  this.$destroy() // Â  Â  &#125;, 3000) // &#125;,</span><br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="TodoList-è‡ªå®šä¹‰äº‹ä»¶"><a href="#TodoList-è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="TodoList_è‡ªå®šä¹‰äº‹ä»¶"></a>TodoList_è‡ªå®šä¹‰äº‹ä»¶</h3><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-header&quot;&gt;<br>    Â  Â <br>    &lt;input<br>      type=&quot;text&quot;<br>      v-model=&quot;todoName&quot;<br>      @keyup.enter=&quot;add&quot;<br>      placeholder=&quot;è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤&quot;<br>    /&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; nanoid &#125; from &quot;nanoid&quot;;<br>export default &#123;<br>  name: &quot;MyHeader&quot;, // props: [&quot;addTodoObj&quot;],<br>  data() &#123;<br>    return &#123;<br>      todoName: &quot;&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    add() &#123;<br>      if (!this.todoName) &#123;<br>        alert(&quot;è¯·è¾“å…¥ç‚¹ä»€ä¹ˆå§&quot;);<br>        return;<br>      &#125;<br>      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;; // console.log(todoObj); // this.addTodoObj(todoObj);<br>      this.$emit(&quot;addTodoObj&quot;, todoObj);<br>      this.todoName = &quot;&quot;;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*header*/<br>.todo-header input &#123;<br>Â  width: 560px;<br>Â  height: 28px;<br>Â  font-size: 14px;<br>Â  border: 1px solid #ccc;<br>Â  border-radius: 4px;<br>Â  padding: 4px 7px;<br>&#125;<br><br><br>.todo-header input:focus &#123;<br>Â  outline: none;<br>Â  border-color: rgba(82, 168, 236, 0.8);<br>Â  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),<br>Â  Â  0 0 8px rgba(82, 168, 236, 0.6);<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;ul class=&quot;todo-main&quot;&gt;<br>    Â  Â <br>    &lt;MyItem<br>      v-for=&quot;todoObj in todos&quot;<br>      :key=&quot;todoObj.id&quot;<br>      :todoObj=&quot;todoObj&quot;<br>      :checkTodo=&quot;checkTodo&quot;<br>      :deleteTodoObj=&quot;deleteTodoObj&quot;<br>    /&gt;<br>    Â <br>  &lt;/ul&gt;<br>&lt;/template&gt;<br><br>&lt;script scoped&gt;<br>import MyItem from &quot;./MyItem.vue&quot;;<br>export default &#123;<br>  name: &quot;MyList&quot;,<br>  components: &#123;<br>    MyItem,<br>  &#125;,<br>  props: [&quot;todos&quot;, &quot;checkTodo&quot;, &quot;deleteTodoObj&quot;],<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*main*/<br>.todo-main &#123;<br>Â  margin-left: 0px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding: 0px;<br>&#125;<br><br><br>.todo-empty &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding-left: 5px;<br>Â  margin-top: 10px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;li&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;input<br>        type=&quot;checkbox&quot;<br>        :checked=&quot;todoObj.done&quot;<br>        @change=&quot;handleCheck(todoObj.id)&quot;<br>      /&gt;<br>      Â  Â  Â  &lt;span&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt; Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;!-- å¦‚ä¸‹ä»£ç ä¹Ÿèƒ½å®ç°åŠŸèƒ½ï¼Œä½†æ˜¯ä¸å¤ªæ¨èï¼Œå› ä¸ºæœ‰ç‚¹è¿ååŸåˆ™ï¼Œå› ä¸ºä¿®æ”¹äº†props --&gt;<br>    Â  Â <br>    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;<br>      åˆ é™¤<br>    &lt;/button&gt;<br>    Â <br>  &lt;/li&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;MyItem&quot;,<br>  props: [&quot;todoObj&quot;, &quot;checkTodo&quot;, &quot;deleteTodoObj&quot;],<br>  data() &#123;<br>    return &#123;&#125;;<br>  &#125;,<br>  methods: &#123;<br>    handleCheck(id) &#123;<br>      this.checkTodo(id);<br>    &#125;,<br>    handleDelete(id) &#123;<br>      this.deleteTodoObj(id);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*item*/<br>li &#123;<br>Â  list-style: none;<br>Â  height: 36px;<br>Â  line-height: 36px;<br>Â  padding: 0 5px;<br>Â  border-bottom: 1px solid #ddd;<br>&#125;<br><br><br>li label &#123;<br>Â  float: left;<br>Â  cursor: pointer;<br>&#125;<br><br><br>li label li input &#123;<br>Â  vertical-align: middle;<br>Â  margin-right: 6px;<br>Â  position: relative;<br>Â  top: -1px;<br>&#125;<br><br><br>li button &#123;<br>Â  float: right;<br>Â  display: none;<br>Â  margin-top: 3px;<br>&#125;<br><br><br>li:before &#123;<br>Â  content: initial;<br>&#125;<br><br><br>li:last-child &#123;<br>Â  border-bottom: none;<br>&#125;<br><br><br>li:hover &#123;<br>Â  Â  background-color: #ccc;<br>&#125;<br><br><br>li:hover button &#123;<br>Â  Â  display: block;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyFoot.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;<br>      Â  Â  Â  &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt; Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;span&gt;<br>      Â  Â  Â  &lt;span&gt;å·²å®Œæˆ&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / å…¨éƒ¨&#123;&#123; total &#125;&#125; Â  Â <br>    &lt;/span&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;æ¸…é™¤å·²å®Œæˆä»»åŠ¡&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;MyFooter&quot;,<br>  props: [&quot;todos&quot;],<br>  computed: &#123;<br>    // isAll() &#123;<br>    // Â  return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>    // &#125;,<br>    total() &#123;<br>      return this.todos.length;<br>    &#125;,<br>    calcTodoTotal() &#123;<br>      /* Â  Â  Â  let i = 0<br>Â  Â  Â  this.todos.forEach((todo) =&gt; &#123;<br>Â  Â  Â  Â  if (todo.done === true) i++<br>Â  Â  Â  &#125;);<br>Â  Â  Â  return i */<br>      /* Â  Â  Â  return this.todos.reduce((pre, current) =&gt; &#123;<br>Â  Â  Â  Â  // console.log(current.done);<br>Â  Â  Â  Â  return pre + (current.done ? 1 : 0)<br>Â  Â  Â  &#125;, 0) */<br>      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);<br>    &#125;,<br>    isAll: &#123;<br>      get() &#123;<br>        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>      &#125;,<br>      set(value) &#123;<br>        // this.checkAllTodo(value)<br>        this.$emit(&quot;checkAllTodo&quot;, value);<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  methods: &#123;<br>    checkAll(e) &#123;<br>      // console.log(e.target.checked);<br>      this.checkAllTodo(e.target.checked);<br>    &#125;,<br>    clearAll() &#123;<br>      // this.clearAllTodo()<br>      this.$emit(&quot;clearAllTodo&quot;);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*footer*/<br>.todo-footer &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  padding-left: 6px;<br>Â  margin-top: 5px;<br>&#125;<br><br><br>.todo-footer label &#123;<br>Â  display: inline-block;<br>Â  margin-right: 20px;<br>Â  cursor: pointer;<br>&#125;<br><br><br>.todo-footer label input &#123;<br>Â  position: relative;<br>Â  top: -1px;<br>Â  vertical-align: middle;<br>Â  margin-right: 5px;<br>&#125;<br><br><br>.todo-footer button &#123;<br>Â  float: right;<br>Â  margin-top: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div id=&quot;root&quot;&gt;<br>    Â  Â <br>    &lt;div class=&quot;todo-container&quot;&gt;<br>      Â  Â  Â <br>      &lt;div class=&quot;todo-wrap&quot;&gt;<br>        Â  Â  Â  Â  &lt;MyHeader @addTodoObj=&quot;addTodoObj&quot; /&gt; Â  Â  Â  Â <br>        &lt;MyList<br>          :todos=&quot;todos&quot;<br>          :checkTodo=&quot;checkTodo&quot;<br>          :deleteTodoObj=&quot;deleteTodoObj&quot;<br>        /&gt;<br>        Â  Â  Â  Â <br>        &lt;MyFooter<br>          :todos=&quot;todos&quot;<br>          @checkAllTodo=&quot;checkAllTodo&quot;<br>          @clearAllTodo=&quot;clearAllTodo&quot;<br>        /&gt;<br>        Â  Â  Â <br>      &lt;/div&gt;<br>      Â  Â <br>    &lt;/div&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import MyHeader from &quot;./components/MyHeader.vue&quot;;<br>import MyList from &quot;./components/MyList.vue&quot;;<br>import MyFooter from &quot;./components/MyFooter.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    MyHeader,<br>    MyList,<br>    MyFooter,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    addTodoObj(todoObj) &#123;<br>      this.todos.unshift(todoObj);<br>    &#125;,<br>    checkTodo(id) &#123;<br>      this.todos.forEach((todoObj) =&gt; &#123;<br>        if (todoObj.id === id) &#123;<br>          todoObj.done = !todoObj.done; // console.log(todoObj.done);<br>        &#125;<br>      &#125;);<br>    &#125;,<br>    deleteTodoObj(id) &#123;<br>      if (confirm(&quot;æ˜¯å¦ç¡®å®šåˆ é™¤&quot;)) &#123;<br>        this.todos = this.todos.filter((todo) =&gt; &#123;<br>          return todo.id !== id;<br>        &#125;);<br>      &#125;<br>    &#125;,<br>    checkAllTodo(value) &#123;<br>      this.todos.forEach((todo) =&gt; &#123;<br>        todo.done = value;<br>      &#125;);<br>    &#125;,<br>    clearAllTodo() &#123;<br>      this.todos = this.todos.filter((todo) =&gt; &#123;<br>        return !todo.done;<br>      &#125;);<br>    &#125;,<br>  &#125;,<br>  watch: &#123;<br>    todos: &#123;<br>      deep: true,<br>      handler(value) &#123;<br>        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*base*/<br>body &#123;<br>Â  background: #fff;<br>&#125;<br><br><br>.btn &#123;<br>Â  display: inline-block;<br>Â  padding: 4px 12px;<br>Â  margin-bottom: 0;<br>Â  font-size: 14px;<br>Â  line-height: 20px;<br>Â  text-align: center;<br>Â  vertical-align: middle;<br>Â  cursor: pointer;<br>Â  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),<br>Â  Â  0 1px 2px rgba(0, 0, 0, 0.05);<br>Â  border-radius: 4px;<br>&#125;<br><br><br>.btn-danger &#123;<br>Â  color: #fff;<br>Â  background-color: #da4f49;<br>Â  border: 1px solid #bd362f;<br>&#125;<br><br><br>.btn-danger:hover &#123;<br>Â  color: #fff;<br>Â  background-color: #bd362f;<br>&#125;<br><br><br>.btn:focus &#123;<br>Â  outline: none;<br>&#125;<br><br><br>.todo-container &#123;<br>Â  width: 600px;<br>Â  margin: 0 auto;<br>&#125;<br>.todo-container .todo-wrap &#123;<br>Â  padding: 10px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="å…¨å±€äº‹ä»¶æ€»çº¿"><a href="#å…¨å±€äº‹ä»¶æ€»çº¿" class="headerlink" title="å…¨å±€äº‹ä»¶æ€»çº¿"></a>å…¨å±€äº‹ä»¶æ€»çº¿</h2><ol><li>ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚</li><li>å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>......<br><span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span> <span class="hljs-comment">//å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œ$buså°±æ˜¯å½“å‰åº”ç”¨çš„vm</span><br>&#125;,<br>    ......<br>&#125;)<br></code></pre></td></tr></table></figure><ol start="3"><li>ä½¿ç”¨äº‹ä»¶æ€»çº¿ï¼š</li><li>æ¥æ”¶æ•°æ®ï¼šA ç»„ä»¶æƒ³æ¥æ”¶æ•°æ®ï¼Œåˆ™åœ¨ A ç»„ä»¶ä¸­ç»™$bus ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼Œäº‹ä»¶çš„å›è°ƒç•™åœ¨ A ç»„ä»¶è‡ªèº«ã€‚</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">methods</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-title function_">demo</span>(<span class="hljs-params">data</span>)&#123;......&#125;<br>&#125;<br>......<br><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">$bus</span>.$on(<span class="hljs-string">&#x27;xxxx&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">demo</span>)<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>æä¾›æ•°æ®ï¼š<code>this.$bus.$emit(&#39;xxxx&#39;,æ•°æ®)</code></li><li>æœ€å¥½åœ¨ beforeDestroy é’©å­ä¸­ï¼Œç”¨$off å»è§£ç»‘å½“å‰ç»„ä»¶æ‰€ç”¨åˆ°çš„äº‹ä»¶ã€‚</li></ol><p>å…¨å±€äº‹ä»¶æ€»çº¿: ä»»æ„ç»„ä»¶é—´é€šä¿¡<br><img src="http://cdn.xiamu.icu//FufykFAdFQQAq1XdURkZCZTfMR4d.png"><br>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;school&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åç§°: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åœ°å€: &#123;&#123; address &#125;&#125;&lt;/h2&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å°šç¡…è°·&quot;,<br>      address: &quot;åŒ—äº¬&quot;,<br>    &#125;;<br>  &#125;,<br>  mounted() &#123;<br>    // console.log(&#x27;School&#x27;, this.x);<br>    this.$bus.$on(&quot;hello&quot;, (data) =&gt; &#123;<br>      console.log(&quot;æˆ‘æ˜¯Schoolç»„ä»¶ï¼Œæ”¶åˆ°äº†æ•°æ®&quot;, data);<br>    &#125;);<br>  &#125;,<br>  beforeDestroy() &#123;<br>    this.$bus.$off(&quot;bus&quot;);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style lang=&quot;less&quot; scoped&gt;<br>.school &#123;<br>Â  background-color: lightpink;<br>Â  padding: 5px;<br>Â  margin-top: 30px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;student&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿå§“å: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿæ€§åˆ«: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;<br>    Â  Â  &lt;button @click=&quot;sendStudentName&quot;&gt;æŠŠå­¦ç”Ÿåç»™Schoolç»„ä»¶&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Student&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å¼ ä¸‰&quot;,<br>      sex: &quot;ç”·&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    sendStudentName() &#123;<br>      // console.log(&quot;Student&quot;, this.x);<br>      this.$bus.$emit(&quot;hello&quot;, this.name);<br>    &#125;,<br>  &#125;, // mounted() &#123; // Â  console.log(&quot;Student&quot;, this.x); // Â  this.x.$on(&#x27;hello&#x27;, (data) =&gt; &#123; // Â  Â  console.log(&#x27;æˆ‘æ˜¯Schoolç»„ä»¶, æ”¶åˆ°äº†æ•°æ®&#x27;, data); // Â  &#125;) // &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.student &#123;<br>Â  background-color: lightblue;<br>Â  padding: 5px;<br>Â  margin-top: 30px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;app&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;&#123;&#123; msg &#125;&#125;&lt;/h2&gt;<br>    Â  Â  &lt;School /&gt; Â  Â <br>    &lt;hr /&gt;<br>    Â  Â  &lt;Student /&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Student from &quot;./components/Student.vue&quot;;<br>import School from &quot;./components/School.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Student,<br>    School,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      msg: &quot;ä½ å¥½å•Š!&quot;,<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.app &#123;<br>Â  background-color: gray;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-comment">/* window.x = &#123;a: 1, b: 2&#125; */</span><br><br><span class="hljs-comment">/* Vue.prototype.x = &#123; a: 1, b: 2 &#125;</span><br><span class="hljs-comment">console.log(Vue.prototype); */</span><br><br><span class="hljs-comment">/* const Demo = Vue.extend(&#123;</span><br><span class="hljs-comment">Â  Â  a: 1,</span><br><span class="hljs-comment">Â  Â  b: 2</span><br><span class="hljs-comment">&#125;)</span><br><span class="hljs-comment">const d = new Demo()</span><br><span class="hljs-comment">Vue.prototype.x = d */</span><br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="TodoList-äº‹ä»¶æ€»çº¿"><a href="#TodoList-äº‹ä»¶æ€»çº¿" class="headerlink" title="TodoList_äº‹ä»¶æ€»çº¿"></a>TodoList_äº‹ä»¶æ€»çº¿</h3><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-header&quot;&gt;<br>    Â  Â <br>    &lt;input<br>      type=&quot;text&quot;<br>      v-model=&quot;todoName&quot;<br>      @keyup.enter=&quot;add&quot;<br>      placeholder=&quot;è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤&quot;<br>    /&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; nanoid &#125; from &quot;nanoid&quot;;<br>export default &#123;<br>  name: &quot;MyHeader&quot;, // props: [&quot;addTodoObj&quot;],<br>  data() &#123;<br>    return &#123;<br>      todoName: &quot;&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    add() &#123;<br>      if (!this.todoName) &#123;<br>        alert(&quot;è¯·è¾“å…¥ç‚¹ä»€ä¹ˆå§&quot;);<br>        return;<br>      &#125;<br>      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;; // console.log(todoObj); // this.addTodoObj(todoObj);<br>      this.$emit(&quot;addTodoObj&quot;, todoObj);<br>      this.todoName = &quot;&quot;;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*header*/<br>.todo-header input &#123;<br>Â  width: 560px;<br>Â  height: 28px;<br>Â  font-size: 14px;<br>Â  border: 1px solid #ccc;<br>Â  border-radius: 4px;<br>Â  padding: 4px 7px;<br>&#125;<br><br><br>.todo-header input:focus &#123;<br>Â  outline: none;<br>Â  border-color: rgba(82, 168, 236, 0.8);<br>Â  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),<br>Â  Â  0 0 8px rgba(82, 168, 236, 0.6);<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;ul class=&quot;todo-main&quot;&gt;<br>    Â  Â <br>    &lt;MyItem v-for=&quot;todoObj in todos&quot; :key=&quot;todoObj.id&quot; :todoObj=&quot;todoObj&quot; /&gt;<br>    Â <br>  &lt;/ul&gt;<br>&lt;/template&gt;<br><br>&lt;script scoped&gt;<br>import MyItem from &quot;./MyItem.vue&quot;;<br>export default &#123;<br>  name: &quot;MyList&quot;,<br>  components: &#123;<br>    MyItem,<br>  &#125;,<br>  props: [&quot;todos&quot;],<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*main*/<br>.todo-main &#123;<br>Â  margin-left: 0px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding: 0px;<br>&#125;<br><br><br>.todo-empty &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding-left: 5px;<br>Â  margin-top: 10px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;li&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;input<br>        type=&quot;checkbox&quot;<br>        :checked=&quot;todoObj.done&quot;<br>        @change=&quot;handleCheck(todoObj.id)&quot;<br>      /&gt;<br>      Â  Â  Â  &lt;span&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt; Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;!-- å¦‚ä¸‹ä»£ç ä¹Ÿèƒ½å®ç°åŠŸèƒ½ï¼Œä½†æ˜¯ä¸å¤ªæ¨èï¼Œå› ä¸ºæœ‰ç‚¹è¿ååŸåˆ™ï¼Œå› ä¸ºä¿®æ”¹äº†props --&gt;<br>    Â  Â <br>    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;<br>      Â  Â  Â  åˆ é™¤ Â  Â <br>    &lt;/button&gt;<br>    Â <br>  &lt;/li&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;MyItem&quot;,<br>  props: [&quot;todoObj&quot;],<br>  data() &#123;<br>    return &#123;&#125;;<br>  &#125;,<br>  methods: &#123;<br>    handleCheck(id) &#123;<br>      // this.checkTodo(id);<br>      this.$bus.$emit(&quot;checkTodo&quot;, id);<br>    &#125;,<br>    handleDelete(id) &#123;<br>      // this.deleteTodoObj(id);<br><br>      this.$bus.$emit(&quot;deleteTodoObj&quot;, id);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*item*/<br>li &#123;<br>Â  list-style: none;<br>Â  height: 36px;<br>Â  line-height: 36px;<br>Â  padding: 0 5px;<br>Â  border-bottom: 1px solid #ddd;<br>&#125;<br><br><br>li label &#123;<br>Â  float: left;<br>Â  cursor: pointer;<br>&#125;<br><br><br>li label li input &#123;<br>Â  vertical-align: middle;<br>Â  margin-right: 6px;<br>Â  position: relative;<br>Â  top: -1px;<br>&#125;<br><br><br>li button &#123;<br>Â  float: right;<br>Â  display: none;<br>Â  margin-top: 3px;<br>&#125;<br><br><br>li:before &#123;<br>Â  content: initial;<br>&#125;<br><br><br>li:last-child &#123;<br>Â  border-bottom: none;<br>&#125;<br><br><br>li:hover &#123;<br>Â  background-color: #ccc;<br>&#125;<br><br><br>li:hover button &#123;<br>Â  display: block;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyFoot.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;<br>      Â  Â  Â  &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt; Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;span&gt;<br>      Â  Â  Â  &lt;span&gt;å·²å®Œæˆ&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / å…¨éƒ¨&#123;&#123; total &#125;&#125; Â  Â <br>    &lt;/span&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;æ¸…é™¤å·²å®Œæˆä»»åŠ¡&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;MyFooter&quot;,<br>  props: [&quot;todos&quot;],<br>  computed: &#123;<br>    // isAll() &#123;<br>    // Â  return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>    // &#125;,<br>    total() &#123;<br>      return this.todos.length;<br>    &#125;,<br>    calcTodoTotal() &#123;<br>      /* Â  Â  Â  let i = 0<br>Â  Â  Â  this.todos.forEach((todo) =&gt; &#123;<br>Â  Â  Â  Â  if (todo.done === true) i++<br>Â  Â  Â  &#125;);<br>Â  Â  Â  return i */<br>      /* Â  Â  Â  return this.todos.reduce((pre, current) =&gt; &#123;<br>Â  Â  Â  Â  // console.log(current.done);<br>Â  Â  Â  Â  return pre + (current.done ? 1 : 0)<br>Â  Â  Â  &#125;, 0) */<br>      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);<br>    &#125;,<br>    isAll: &#123;<br>      get() &#123;<br>        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>      &#125;,<br>      set(value) &#123;<br>        // this.checkAllTodo(value)<br>        this.$emit(&quot;checkAllTodo&quot;, value);<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  methods: &#123;<br>    checkAll(e) &#123;<br>      // console.log(e.target.checked);<br>      this.checkAllTodo(e.target.checked);<br>    &#125;,<br>    clearAll() &#123;<br>      // this.clearAllTodo()<br>      this.$emit(&quot;clearAllTodo&quot;);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*footer*/<br>.todo-footer &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  padding-left: 6px;<br>Â  margin-top: 5px;<br>&#125;<br><br><br>.todo-footer label &#123;<br>Â  display: inline-block;<br>Â  margin-right: 20px;<br>Â  cursor: pointer;<br>&#125;<br><br><br>.todo-footer label input &#123;<br>Â  position: relative;<br>Â  top: -1px;<br>Â  vertical-align: middle;<br>Â  margin-right: 5px;<br>&#125;<br><br><br>.todo-footer button &#123;<br>Â  float: right;<br>Â  margin-top: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div id=&quot;root&quot;&gt;<br>    Â  Â <br>    &lt;div class=&quot;todo-container&quot;&gt;<br>      Â  Â  Â <br>      &lt;div class=&quot;todo-wrap&quot;&gt;<br>        Â  Â  Â  Â  &lt;MyHeader @addTodoObj=&quot;addTodoObj&quot; /&gt; Â  Â  Â  Â <br>        &lt;MyList :todos=&quot;todos&quot; /&gt; Â  Â  Â  Â <br>        &lt;MyFooter<br>          :todos=&quot;todos&quot;<br>          @checkAllTodo=&quot;checkAllTodo&quot;<br>          @clearAllTodo=&quot;clearAllTodo&quot;<br>        /&gt;<br>        Â  Â  Â <br>      &lt;/div&gt;<br>      Â  Â <br>    &lt;/div&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import MyHeader from &quot;./components/MyHeader.vue&quot;;<br>import MyList from &quot;./components/MyList.vue&quot;;<br>import MyFooter from &quot;./components/MyFooter.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    MyHeader,<br>    MyList,<br>    MyFooter,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    addTodoObj(todoObj) &#123;<br>      this.todos.unshift(todoObj);<br>    &#125;,<br>    checkTodo(id) &#123;<br>      this.todos.forEach((todoObj) =&gt; &#123;<br>        if (todoObj.id === id) &#123;<br>          todoObj.done = !todoObj.done; // console.log(todoObj.done);<br>        &#125;<br>      &#125;);<br>    &#125;,<br>    deleteTodoObj(id) &#123;<br>      if (confirm(&quot;æ˜¯å¦ç¡®å®šåˆ é™¤&quot;)) &#123;<br>        this.todos = this.todos.filter((todo) =&gt; &#123;<br>          return todo.id !== id;<br>        &#125;);<br>      &#125;<br>    &#125;,<br>    checkAllTodo(value) &#123;<br>      this.todos.forEach((todo) =&gt; &#123;<br>        todo.done = value;<br>      &#125;);<br>    &#125;,<br>    clearAllTodo() &#123;<br>      this.todos = this.todos.filter((todo) =&gt; &#123;<br>        return !todo.done;<br>      &#125;);<br>    &#125;,<br>  &#125;,<br>  watch: &#123;<br>    todos: &#123;<br>      deep: true,<br>      handler(value) &#123;<br>        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  mounted() &#123;<br>    this.$bus.$on(&quot;checkTodo&quot;, this.checkTodo);<br>    this.$bus.$on(&quot;deleteTodoObj&quot;, this.deleteTodoObj);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*base*/<br>body &#123;<br>Â  background: #fff;<br>&#125;<br><br><br>.btn &#123;<br>Â  display: inline-block;<br>Â  padding: 4px 12px;<br>Â  margin-bottom: 0;<br>Â  font-size: 14px;<br>Â  line-height: 20px;<br>Â  text-align: center;<br>Â  vertical-align: middle;<br>Â  cursor: pointer;<br>Â  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),<br>Â  Â  0 1px 2px rgba(0, 0, 0, 0.05);<br>Â  border-radius: 4px;<br>&#125;<br><br><br>.btn-danger &#123;<br>Â  color: #fff;<br>Â  background-color: #da4f49;<br>Â  border: 1px solid #bd362f;<br>&#125;<br><br><br>.btn-danger:hover &#123;<br>Â  color: #fff;<br>Â  background-color: #bd362f;<br>&#125;<br><br><br>.btn:focus &#123;<br>Â  outline: none;<br>&#125;<br><br><br>.todo-container &#123;<br>Â  width: 600px;<br>Â  margin: 0 auto;<br>&#125;<br>.todo-container .todo-wrap &#123;<br>Â  padding: 10px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="æ¶ˆæ¯çš„è®¢é˜…ä¸å‘å¸ƒ"><a href="#æ¶ˆæ¯çš„è®¢é˜…ä¸å‘å¸ƒ" class="headerlink" title="æ¶ˆæ¯çš„è®¢é˜…ä¸å‘å¸ƒ"></a>æ¶ˆæ¯çš„è®¢é˜…ä¸å‘å¸ƒ</h2><ol><li>ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚</li><li>ä½¿ç”¨æ­¥éª¤ï¼š</li><li>å®‰è£… pubsubï¼š<code>npm i pubsub-js</code></li><li>å¼•å…¥: <code>import pubsub from &#39;pubsub-js&#39;</code></li><li>æ¥æ”¶æ•°æ®ï¼šA ç»„ä»¶æƒ³æ¥æ”¶æ•°æ®ï¼Œåˆ™åœ¨ A ç»„ä»¶ä¸­è®¢é˜…æ¶ˆæ¯ï¼Œè®¢é˜…çš„å›è°ƒç•™åœ¨ A ç»„ä»¶è‡ªèº«ã€‚</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">methods</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-title function_">demo</span>(<span class="hljs-params">data</span>)&#123;......&#125;<br>&#125;<br>......<br><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">pid</span> = pubsub.<span class="hljs-title function_">subscribe</span>(<span class="hljs-string">&#x27;xxx&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">demo</span>) <span class="hljs-comment">//è®¢é˜…æ¶ˆæ¯</span><br>&#125;<br></code></pre></td></tr></table></figure><ol start="4"><li>æä¾›æ•°æ®ï¼š<code>pubsub.publish(&#39;xxx&#39;,æ•°æ®)</code></li><li>æœ€å¥½åœ¨ beforeDestroy é’©å­ä¸­ï¼Œç”¨<code>PubSub.unsubscribe(pid)</code>å»å–æ¶ˆè®¢é˜…ã€‚</li></ol><p>æŠ¥çº¸è®¢é˜…ä¸å‘å¸ƒ 1.è®¢é˜…æŠ¥çº¸: ä½å€ 2.é‚®é€’å‘˜é€æŠ¥çº¸: æŠ¥çº¸<br>æŠ¥çº¸è®¢é˜…ä¸å‘å¸ƒ 1.è®¢é˜…æ¶ˆæ¯: æ¶ˆæ¯å 2.å‘å¸ƒæ¶ˆæ¯: æ¶ˆæ¯å†…å®¹<br><img src="http://cdn.xiamu.icu//FguaN3hLVDII1E688Nlk0u3z6boY.png"><br>å®‰è£… pubsub åº“<br>PS E:\Code\Vue\vue_test&gt; npm i pubsub-js<br>added 1 package in 3s<br>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;school&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åç§°: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦æ ¡åœ°å€: &#123;&#123; address &#125;&#125;&lt;/h2&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å°šç¡…è°·&quot;,<br>      address: &quot;åŒ—äº¬&quot;,<br>    &#125;;<br>  &#125;,<br>  mounted() &#123;<br>    pubsub.subscribe(&quot;hello&quot;, function (msgName, data) &#123;<br>      console.log(&quot;æœ‰äººå‘å¸ƒäº†helloæ¶ˆæ¯, helloä¸‹æ¬¡çš„å›è°ƒæ‰§è¡Œäº†&quot;, msgName, data);<br>    &#125;);<br>  &#125;,<br>  beforeDestroy() &#123;&#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style lang=&quot;less&quot; scoped&gt;<br>.school &#123;<br>Â  background-color: lightpink;<br>Â  padding: 5px;<br>Â  margin-top: 30px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;student&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿå§“å: &#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å­¦ç”Ÿæ€§åˆ«: &#123;&#123; sex &#125;&#125;&lt;/h2&gt;<br>    Â  Â  &lt;button @click=&quot;sendStudentName&quot;&gt;æŠŠå­¦ç”Ÿåç»™Schoolç»„ä»¶&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>export default &#123;<br>  name: &quot;Student&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;å¼ ä¸‰&quot;,<br>      sex: &quot;ç”·&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    sendStudentName() &#123;<br>      pubsub.publish(&quot;hello&quot;, 666);<br>    &#125;,<br>  &#125;,<br>  mounted() &#123;&#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.student &#123;<br>Â  background-color: lightblue;<br>Â  padding: 5px;<br>Â  margin-top: 30px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;app&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;&#123;&#123; msg &#125;&#125;&lt;/h2&gt;<br>    Â  Â  &lt;School /&gt; Â  Â  &lt;Student /&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Student from &quot;./components/Student.vue&quot;;<br>import School from &quot;./components/School.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Student,<br>    School,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      msg: &quot;ä½ å¥½å•Š!&quot;,<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.app &#123;<br>Â  background-color: gray;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="TodoList-pubsub"><a href="#TodoList-pubsub" class="headerlink" title="TodoList_pubsub"></a>TodoList_pubsub</h3><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-header&quot;&gt;<br>    Â  Â <br>    &lt;input<br>      type=&quot;text&quot;<br>      v-model=&quot;todoName&quot;<br>      @keyup.enter=&quot;add&quot;<br>      placeholder=&quot;è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤&quot;<br>    /&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; nanoid &#125; from &quot;nanoid&quot;;<br>export default &#123;<br>  name: &quot;MyHeader&quot;, // props: [&quot;addTodoObj&quot;],<br>  data() &#123;<br>    return &#123;<br>      todoName: &quot;&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    add() &#123;<br>      if (!this.todoName) &#123;<br>        alert(&quot;è¯·è¾“å…¥ç‚¹ä»€ä¹ˆå§&quot;);<br>        return;<br>      &#125;<br>      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;; // console.log(todoObj); // this.addTodoObj(todoObj);<br>      this.$emit(&quot;addTodoObj&quot;, todoObj);<br>      this.todoName = &quot;&quot;;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*header*/<br>.todo-header input &#123;<br>Â  width: 560px;<br>Â  height: 28px;<br>Â  font-size: 14px;<br>Â  border: 1px solid #ccc;<br>Â  border-radius: 4px;<br>Â  padding: 4px 7px;<br>&#125;<br><br><br>.todo-header input:focus &#123;<br>Â  outline: none;<br>Â  border-color: rgba(82, 168, 236, 0.8);<br>Â  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),<br>Â  Â  0 0 8px rgba(82, 168, 236, 0.6);<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;ul class=&quot;todo-main&quot;&gt;<br>    Â  Â <br>    &lt;MyItem v-for=&quot;todoObj in todos&quot; :key=&quot;todoObj.id&quot; :todoObj=&quot;todoObj&quot; /&gt;<br>    Â <br>  &lt;/ul&gt;<br>&lt;/template&gt;<br><br>&lt;script scoped&gt;<br>import MyItem from &quot;./MyItem.vue&quot;;<br>export default &#123;<br>  name: &quot;MyList&quot;,<br>  components: &#123;<br>    MyItem,<br>  &#125;,<br>  props: [&quot;todos&quot;],<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*main*/<br>.todo-main &#123;<br>Â  margin-left: 0px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding: 0px;<br>&#125;<br><br><br>.todo-empty &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding-left: 5px;<br>Â  margin-top: 10px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;li&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;input<br>        type=&quot;checkbox&quot;<br>        :checked=&quot;todoObj.done&quot;<br>        @change=&quot;handleCheck(todoObj.id)&quot;<br>      /&gt;<br>      Â  Â  Â  &lt;span&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt; Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;!-- å¦‚ä¸‹ä»£ç ä¹Ÿèƒ½å®ç°åŠŸèƒ½ï¼Œä½†æ˜¯ä¸å¤ªæ¨èï¼Œå› ä¸ºæœ‰ç‚¹è¿ååŸåˆ™ï¼Œå› ä¸ºä¿®æ”¹äº†props --&gt;<br>    Â  Â <br>    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;<br>      Â  Â  Â  åˆ é™¤ Â  Â <br>    &lt;/button&gt;<br>    Â <br>  &lt;/li&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>export default &#123;<br>  name: &quot;MyItem&quot;,<br>  props: [&quot;todoObj&quot;],<br>  data() &#123;<br>    return &#123;&#125;;<br>  &#125;,<br>  methods: &#123;<br>    handleCheck(id) &#123;<br>      // this.checkTodo(id);<br>      this.$bus.$emit(&quot;checkTodo&quot;, id);<br>    &#125;,<br>    handleDelete(id) &#123;<br>      // this.deleteTodoObj(id);<br>      // this.$bus.$emit(&quot;deleteTodoObj&quot;, id);<br>      pubsub.publish(&quot;deleteTodoObj&quot;, id);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*item*/<br>li &#123;<br>Â  list-style: none;<br>Â  height: 36px;<br>Â  line-height: 36px;<br>Â  padding: 0 5px;<br>Â  border-bottom: 1px solid #ddd;<br>&#125;<br><br><br>li label &#123;<br>Â  float: left;<br>Â  cursor: pointer;<br>&#125;<br><br><br>li label li input &#123;<br>Â  vertical-align: middle;<br>Â  margin-right: 6px;<br>Â  position: relative;<br>Â  top: -1px;<br>&#125;<br><br><br>li button &#123;<br>Â  float: right;<br>Â  display: none;<br>Â  margin-top: 3px;<br>&#125;<br><br><br>li:before &#123;<br>Â  content: initial;<br>&#125;<br><br><br>li:last-child &#123;<br>Â  border-bottom: none;<br>&#125;<br><br><br>li:hover &#123;<br>Â  background-color: #ccc;<br>&#125;<br><br><br>li:hover button &#123;<br>Â  display: block;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;<br>      Â  Â  Â  &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt; Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;span&gt;<br>      Â  Â  Â  &lt;span&gt;å·²å®Œæˆ&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / å…¨éƒ¨&#123;&#123; total &#125;&#125; Â  Â <br>    &lt;/span&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;æ¸…é™¤å·²å®Œæˆä»»åŠ¡&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;MyFooter&quot;,<br>  props: [&quot;todos&quot;],<br>  computed: &#123;<br>    // isAll() &#123;<br>    // Â  return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>    // &#125;,<br>    total() &#123;<br>      return this.todos.length;<br>    &#125;,<br>    calcTodoTotal() &#123;<br>      /* Â  Â  Â  let i = 0<br>Â  Â  Â  this.todos.forEach((todo) =&gt; &#123;<br>Â  Â  Â  Â  if (todo.done === true) i++<br>Â  Â  Â  &#125;);<br>Â  Â  Â  return i */<br>      /* Â  Â  Â  return this.todos.reduce((pre, current) =&gt; &#123;<br>Â  Â  Â  Â  // console.log(current.done);<br>Â  Â  Â  Â  return pre + (current.done ? 1 : 0)<br>Â  Â  Â  &#125;, 0) */<br>      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);<br>    &#125;,<br>    isAll: &#123;<br>      get() &#123;<br>        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>      &#125;,<br>      set(value) &#123;<br>        // this.checkAllTodo(value)<br>        this.$emit(&quot;checkAllTodo&quot;, value);<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  methods: &#123;<br>    checkAll(e) &#123;<br>      // console.log(e.target.checked);<br>      this.checkAllTodo(e.target.checked);<br>    &#125;,<br>    clearAll() &#123;<br>      // this.clearAllTodo()<br>      this.$emit(&quot;clearAllTodo&quot;);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*footer*/<br>.todo-footer &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  padding-left: 6px;<br>Â  margin-top: 5px;<br>&#125;<br><br><br>.todo-footer label &#123;<br>Â  display: inline-block;<br>Â  margin-right: 20px;<br>Â  cursor: pointer;<br>&#125;<br><br><br>.todo-footer label input &#123;<br>Â  position: relative;<br>Â  top: -1px;<br>Â  vertical-align: middle;<br>Â  margin-right: 5px;<br>&#125;<br><br><br>.todo-footer button &#123;<br>Â  float: right;<br>Â  margin-top: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div id=&quot;root&quot;&gt;<br>    Â  Â <br>    &lt;div class=&quot;todo-container&quot;&gt;<br>      Â  Â  Â <br>      &lt;div class=&quot;todo-wrap&quot;&gt;<br>        Â  Â  Â  Â  &lt;MyHeader @addTodoObj=&quot;addTodoObj&quot; /&gt; Â  Â  Â  Â <br>        &lt;MyList :todos=&quot;todos&quot; /&gt; Â  Â  Â  Â <br>        &lt;MyFooter<br>          :todos=&quot;todos&quot;<br>          @checkAllTodo=&quot;checkAllTodo&quot;<br>          @clearAllTodo=&quot;clearAllTodo&quot;<br>        /&gt;<br>        Â  Â  Â <br>      &lt;/div&gt;<br>      Â  Â <br>    &lt;/div&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>import MyHeader from &quot;./components/MyHeader.vue&quot;;<br>import MyList from &quot;./components/MyList.vue&quot;;<br>import MyFooter from &quot;./components/MyFooter.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    MyHeader,<br>    MyList,<br>    MyFooter,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    addTodoObj(todoObj) &#123;<br>      this.todos.unshift(todoObj);<br>    &#125;,<br>    checkTodo(id) &#123;<br>      this.todos.forEach((todoObj) =&gt; &#123;<br>        if (todoObj.id === id) &#123;<br>          todoObj.done = !todoObj.done; // console.log(todoObj.done);<br>        &#125;<br>      &#125;);<br>    &#125;, // ä¸‹åˆ’çº¿åªæ˜¯ç”¨æ¥å ä½çš„, _è¡¨ç¤ºè®¢é˜…å<br>    deleteTodoObj(_, id) &#123;<br>      if (confirm(&quot;æ˜¯å¦ç¡®å®šåˆ é™¤&quot;)) &#123;<br>        this.todos = this.todos.filter((todo) =&gt; &#123;<br>          return todo.id !== id;<br>        &#125;);<br>      &#125;<br>    &#125;,<br>    checkAllTodo(value) &#123;<br>      this.todos.forEach((todo) =&gt; &#123;<br>        todo.done = value;<br>      &#125;);<br>    &#125;,<br>    clearAllTodo() &#123;<br>      this.todos = this.todos.filter((todo) =&gt; &#123;<br>        return !todo.done;<br>      &#125;);<br>    &#125;,<br>  &#125;,<br>  watch: &#123;<br>    todos: &#123;<br>      deep: true,<br>      handler(value) &#123;<br>        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  mounted() &#123;<br>    this.$bus.$on(&quot;checkTodo&quot;, this.checkTodo); // this.$bus.$on(&#x27;deleteTodoObj&#x27;, this.deleteTodoObj)<br>    this.pubId = pubsub.subscribe(&quot;deleteTodoObj&quot;, this.deleteTodoObj);<br>  &#125;,<br>  beforeDestroy() &#123;<br>    pubsub.unsubscribe(this.pubId);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*base*/<br>body &#123;<br>Â  background: #fff;<br>&#125;<br><br><br>.btn &#123;<br>Â  display: inline-block;<br>Â  padding: 4px 12px;<br>Â  margin-bottom: 0;<br>Â  font-size: 14px;<br>Â  line-height: 20px;<br>Â  text-align: center;<br>Â  vertical-align: middle;<br>Â  cursor: pointer;<br>Â  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),<br>Â  Â  0 1px 2px rgba(0, 0, 0, 0.05);<br>Â  border-radius: 4px;<br>&#125;<br><br><br>.btn-danger &#123;<br>Â  color: #fff;<br>Â  background-color: #da4f49;<br>Â  border: 1px solid #bd362f;<br>&#125;<br><br><br>.btn-danger:hover &#123;<br>Â  color: #fff;<br>Â  background-color: #bd362f;<br>&#125;<br><br><br>.btn:focus &#123;<br>Â  outline: none;<br>&#125;<br><br><br>.todo-container &#123;<br>Â  width: 600px;<br>Â  margin: 0 auto;<br>&#125;<br>.todo-container .todo-wrap &#123;<br>Â  padding: 10px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="TodoList-nextTick"><a href="#TodoList-nextTick" class="headerlink" title="TodoList_nextTick"></a>TodoList_nextTick</h2><ol><li>è¯­æ³•ï¼š<code>this.$nextTick(å›è°ƒå‡½æ•°)</code></li><li>ä½œç”¨ï¼šåœ¨ä¸‹ä¸€æ¬¡ DOM æ›´æ–°ç»“æŸåæ‰§è¡Œå…¶æŒ‡å®šçš„å›è°ƒã€‚</li><li>ä»€ä¹ˆæ—¶å€™ç”¨ï¼šå½“æ”¹å˜æ•°æ®åï¼Œè¦åŸºäºæ›´æ–°åçš„æ–° DOM è¿›è¡ŒæŸäº›æ“ä½œæ—¶ï¼Œè¦åœ¨ nextTick æ‰€æŒ‡å®šçš„å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œã€‚</li></ol><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-header&quot;&gt;<br>    Â  Â <br>    &lt;input<br>      type=&quot;text&quot;<br>      v-model=&quot;todoName&quot;<br>      @keyup.enter=&quot;add&quot;<br>      placeholder=&quot;è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤&quot;<br>    /&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; nanoid &#125; from &quot;nanoid&quot;;<br>export default &#123;<br>  name: &quot;MyHeader&quot;, // props: [&quot;addTodoObj&quot;],<br>  data() &#123;<br>    return &#123;<br>      todoName: &quot;&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    add() &#123;<br>      if (!this.todoName) &#123;<br>        alert(&quot;è¯·è¾“å…¥ç‚¹ä»€ä¹ˆå§&quot;);<br>        return;<br>      &#125;<br>      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;; // console.log(todoObj); // this.addTodoObj(todoObj);<br>      this.$emit(&quot;addTodoObj&quot;, todoObj);<br>      this.todoName = &quot;&quot;;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*header*/<br>.todo-header input &#123;<br>Â  width: 560px;<br>Â  height: 28px;<br>Â  font-size: 14px;<br>Â  border: 1px solid #ccc;<br>Â  border-radius: 4px;<br>Â  padding: 4px 7px;<br>&#125;<br><br><br>.todo-header input:focus &#123;<br>Â  outline: none;<br>Â  border-color: rgba(82, 168, 236, 0.8);<br>Â  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),<br>Â  Â  0 0 8px rgba(82, 168, 236, 0.6);<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;ul class=&quot;todo-main&quot;&gt;<br>    Â  Â <br>    &lt;MyItem v-for=&quot;todoObj in todos&quot; :key=&quot;todoObj.id&quot; :todoObj=&quot;todoObj&quot; /&gt;<br>    Â <br>  &lt;/ul&gt;<br>&lt;/template&gt;<br><br>&lt;script scoped&gt;<br>import MyItem from &quot;./MyItem.vue&quot;;<br>export default &#123;<br>  name: &quot;MyList&quot;,<br>  components: &#123;<br>    MyItem,<br>  &#125;,<br>  props: [&quot;todos&quot;],<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*main*/<br>.todo-main &#123;<br>Â  margin-left: 0px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding: 0px;<br>&#125;<br><br><br>.todo-empty &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding-left: 5px;<br>Â  margin-top: 10px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;li&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;input<br>        type=&quot;checkbox&quot;<br>        :checked=&quot;todoObj.done&quot;<br>        @change=&quot;handleCheck(todoObj.id)&quot;<br>      /&gt;<br>      Â  Â  Â  &lt;span v-show=&quot;!todoObj.isEdit&quot;&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt; Â  Â  Â <br>      &lt;input<br>        v-show=&quot;todoObj.isEdit&quot;<br>        type=&quot;text&quot;<br>        :value=&quot;todoObj.title&quot;<br>        @blur=&quot;handleBlur(todoObj, $event)&quot;<br>        ref=&quot;inputTitle&quot;<br>      /&gt;<br>      Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;!-- å¦‚ä¸‹ä»£ç ä¹Ÿèƒ½å®ç°åŠŸèƒ½ï¼Œä½†æ˜¯ä¸å¤ªæ¨èï¼Œå› ä¸ºæœ‰ç‚¹è¿ååŸåˆ™ï¼Œå› ä¸ºä¿®æ”¹äº†props --&gt;<br>    Â  Â <br>    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;<br>      Â  Â  Â  åˆ é™¤ Â  Â <br>    &lt;/button&gt;<br>    Â  Â <br>    &lt;button<br>      class=&quot;btn btn-edit&quot;<br>      @click=&quot;handleEdit(todoObj)&quot;<br>      v-show=&quot;!todoObj.isEdit&quot;<br>    &gt;<br>      Â  Â  Â  ç¼–è¾‘ Â  Â <br>    &lt;/button&gt;<br>    Â <br>  &lt;/li&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>export default &#123;<br>  name: &quot;MyItem&quot;,<br>  props: [&quot;todoObj&quot;],<br>  data() &#123;<br>    return &#123;&#125;;<br>  &#125;,<br>  methods: &#123;<br>    handleCheck(id) &#123;<br>      // this.checkTodo(id);<br>      this.$bus.$emit(&quot;checkTodo&quot;, id);<br>    &#125;,<br>    handleDelete(id) &#123;<br>      // this.deleteTodoObj(id);<br>      // this.$bus.$emit(&quot;deleteTodoObj&quot;, id);<br>      pubsub.publish(&quot;deleteTodoObj&quot;, id);<br>    &#125;, //ç¼–è¾‘<br>    handleEdit(todoObj) &#123;<br>      if (todoObj.hasOwnProperty(&quot;isEdit&quot;)) &#123;<br>        todoObj.isEdit = true;<br>      &#125; else &#123;<br>        this.$set(todoObj, &quot;isEdit&quot;, true);<br>      &#125; /* setTimeout(() =&gt; &#123; // è®¾ç½®å®šæ—¶å™¨<br>Â  Â  Â  Â  this.$refs.inputTitle.focus();<br>Â  Â  Â  &#125;, 200); */ /* setTimeout(() =&gt; &#123; // ä¸æ­£è§„å†™æ³•(å®šæ—¶å™¨é‡Œé¢ä¸å†™æ—¶é—´)<br>Â  Â  Â  Â  this.$refs.inputTitle.focus();<br>Â  Â  Â  &#125;); */<br><br>      this.$nextTick(function () &#123;<br>        this.$refs.inputTitle.focus();<br>      &#125;);<br>    &#125;, //å¤±å»ç„¦ç‚¹å›è°ƒï¼ˆçœŸæ­£æ‰§è¡Œä¿®æ”¹é€»è¾‘ï¼‰<br>    handleBlur(todoObj, e) &#123;<br>      todoObj.isEdit = false;<br>      if (!e.target.value.trim()) &#123;<br>        return alert(&quot;è¾“å…¥ä¸èƒ½ä¸ºç©º&quot;);<br>      &#125; // console.log(e.target.value);<br><br>      this.todoObj.title = e.target.value;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*item*/<br>li &#123;<br>Â  list-style: none;<br>Â  height: 36px;<br>Â  line-height: 36px;<br>Â  padding: 0 5px;<br>Â  border-bottom: 1px solid #ddd;<br>&#125;<br><br><br>li label &#123;<br>Â  float: left;<br>Â  cursor: pointer;<br>&#125;<br><br><br>li label li input &#123;<br>Â  vertical-align: middle;<br>Â  margin-right: 6px;<br>Â  position: relative;<br>Â  top: -1px;<br>&#125;<br><br><br>li button &#123;<br>Â  float: right;<br>Â  display: none;<br>Â  margin-top: 3px;<br>&#125;<br><br><br>li:before &#123;<br>Â  content: initial;<br>&#125;<br><br><br>li:last-child &#123;<br>Â  border-bottom: none;<br>&#125;<br><br><br>li:hover &#123;<br>Â  background-color: #ccc;<br>&#125;<br><br><br>li:hover button &#123;<br>Â  display: block;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;<br>      Â  Â  Â  &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt; Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;span&gt;<br>      Â  Â  Â  &lt;span&gt;å·²å®Œæˆ&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / å…¨éƒ¨&#123;&#123; total &#125;&#125; Â  Â <br>    &lt;/span&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;æ¸…é™¤å·²å®Œæˆä»»åŠ¡&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;MyFooter&quot;,<br>  props: [&quot;todos&quot;],<br>  computed: &#123;<br>    // isAll() &#123;<br>    // Â  return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>    // &#125;,<br>    total() &#123;<br>      return this.todos.length;<br>    &#125;,<br>    calcTodoTotal() &#123;<br>      /* Â  Â  Â  let i = 0<br>Â  Â  Â  this.todos.forEach((todo) =&gt; &#123;<br>Â  Â  Â  Â  if (todo.done === true) i++<br>Â  Â  Â  &#125;);<br>Â  Â  Â  return i */<br>      /* Â  Â  Â  return this.todos.reduce((pre, current) =&gt; &#123;<br>Â  Â  Â  Â  // console.log(current.done);<br>Â  Â  Â  Â  return pre + (current.done ? 1 : 0)<br>Â  Â  Â  &#125;, 0) */<br>      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);<br>    &#125;,<br>    isAll: &#123;<br>      get() &#123;<br>        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>      &#125;,<br>      set(value) &#123;<br>        // this.checkAllTodo(value)<br>        this.$emit(&quot;checkAllTodo&quot;, value);<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  methods: &#123;<br>    checkAll(e) &#123;<br>      // console.log(e.target.checked);<br>      this.checkAllTodo(e.target.checked);<br>    &#125;,<br>    clearAll() &#123;<br>      // this.clearAllTodo()<br>      this.$emit(&quot;clearAllTodo&quot;);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*footer*/<br>.todo-footer &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  padding-left: 6px;<br>Â  margin-top: 5px;<br>&#125;<br><br><br>.todo-footer label &#123;<br>Â  display: inline-block;<br>Â  margin-right: 20px;<br>Â  cursor: pointer;<br>&#125;<br><br><br>.todo-footer label input &#123;<br>Â  position: relative;<br>Â  top: -1px;<br>Â  vertical-align: middle;<br>Â  margin-right: 5px;<br>&#125;<br><br><br>.todo-footer button &#123;<br>Â  float: right;<br>Â  margin-top: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div id=&quot;root&quot;&gt;<br>    Â  Â <br>    &lt;div class=&quot;todo-container&quot;&gt;<br>      Â  Â  Â <br>      &lt;div class=&quot;todo-wrap&quot;&gt;<br>        Â  Â  Â  Â  &lt;MyHeader @addTodoObj=&quot;addTodoObj&quot; /&gt; Â  Â  Â  Â <br>        &lt;MyList :todos=&quot;todos&quot; /&gt; Â  Â  Â  Â <br>        &lt;MyFooter<br>          :todos=&quot;todos&quot;<br>          @checkAllTodo=&quot;checkAllTodo&quot;<br>          @clearAllTodo=&quot;clearAllTodo&quot;<br>        /&gt;<br>        Â  Â  Â <br>      &lt;/div&gt;<br>      Â  Â <br>    &lt;/div&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>import MyHeader from &quot;./components/MyHeader.vue&quot;;<br>import MyList from &quot;./components/MyList.vue&quot;;<br>import MyFooter from &quot;./components/MyFooter.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    MyHeader,<br>    MyList,<br>    MyFooter,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    addTodoObj(todoObj) &#123;<br>      this.todos.unshift(todoObj);<br>    &#125;,<br>    checkTodo(id) &#123;<br>      this.todos.forEach((todoObj) =&gt; &#123;<br>        if (todoObj.id === id) &#123;<br>          todoObj.done = !todoObj.done; // console.log(todoObj.done);<br>        &#125;<br>      &#125;);<br>    &#125;, // ä¸‹åˆ’çº¿åªæ˜¯ç”¨æ¥å ä½çš„, _è¡¨ç¤ºè®¢é˜…å<br>    deleteTodoObj(_, id) &#123;<br>      if (confirm(&quot;æ˜¯å¦ç¡®å®šåˆ é™¤&quot;)) &#123;<br>        this.todos = this.todos.filter((todo) =&gt; &#123;<br>          return todo.id !== id;<br>        &#125;);<br>      &#125;<br>    &#125;,<br>    checkAllTodo(value) &#123;<br>      this.todos.forEach((todo) =&gt; &#123;<br>        todo.done = value;<br>      &#125;);<br>    &#125;,<br>    clearAllTodo() &#123;<br>      this.todos = this.todos.filter((todo) =&gt; &#123;<br>        return !todo.done;<br>      &#125;);<br>    &#125;,<br>  &#125;,<br>  watch: &#123;<br>    todos: &#123;<br>      deep: true,<br>      handler(value) &#123;<br>        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  mounted() &#123;<br>    this.$bus.$on(&quot;checkTodo&quot;, this.checkTodo); // this.$bus.$on(&#x27;deleteTodoObj&#x27;, this.deleteTodoObj)<br>    this.pubId = pubsub.subscribe(&quot;deleteTodoObj&quot;, this.deleteTodoObj);<br>  &#125;,<br>  beforeDestroy() &#123;<br>    pubsub.unsubscribe(this.pubId);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*base*/<br>body &#123;<br>Â  background: #fff;<br>&#125;<br><br><br>.btn &#123;<br>Â  display: inline-block;<br>Â  padding: 4px 12px;<br>Â  margin-bottom: 0;<br>Â  font-size: 14px;<br>Â  line-height: 20px;<br>Â  text-align: center;<br>Â  vertical-align: middle;<br>Â  cursor: pointer;<br>Â  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),<br>Â  Â  0 1px 2px rgba(0, 0, 0, 0.05);<br>Â  border-radius: 4px;<br>&#125;<br><br><br>.btn-danger &#123;<br>Â  color: #fff;<br>Â  background-color: #da4f49;<br>Â  border: 1px solid #bd362f;<br>&#125;<br><br><br>.btn-edit &#123;<br>Â  color: #fff;<br>Â  background-color: skyblue;<br>Â  border: 1px solid rgb(103, 159, 180);<br>Â  margin-right: 5px;<br>&#125;<br><br><br>.btn-danger:hover &#123;<br>Â  color: #fff;<br>Â  background-color: #bd362f;<br>&#125;<br><br><br>.btn:focus &#123;<br>Â  outline: none;<br>&#125;<br><br><br>.todo-container &#123;<br>Â  width: 600px;<br>Â  margin: 0 auto;<br>&#125;<br>.todo-container .todo-wrap &#123;<br>Â  padding: 10px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h2><ol><li><p>ä½œç”¨ï¼šåœ¨æ’å…¥ã€æ›´æ–°æˆ–ç§»é™¤ DOM å…ƒç´ æ—¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™ç»™å…ƒç´ æ·»åŠ æ ·å¼ç±»åã€‚</p></li><li><p>å›¾ç¤ºï¼š<img src="http://cdn.xiamu.icu//FiiuK6ZczbWD15-FuMyVCfrml0k7.com/app/a/100520146/5990c1dff7dc7a8fb3b34b4462bd0105"></p></li><li><p>å†™æ³•ï¼š</p></li><li><p>å‡†å¤‡å¥½æ ·å¼ï¼š</p><ul><li>å…ƒç´ è¿›å…¥çš„æ ·å¼ï¼š<ol><li>v-enterï¼šè¿›å…¥çš„èµ·ç‚¹</li><li>v-enter-activeï¼šè¿›å…¥è¿‡ç¨‹ä¸­</li><li>v-enter-toï¼šè¿›å…¥çš„ç»ˆç‚¹</li></ol></li><li>å…ƒç´ ç¦»å¼€çš„æ ·å¼ï¼š<ol><li>v-leaveï¼šç¦»å¼€çš„èµ·ç‚¹</li><li>v-leave-activeï¼šç¦»å¼€è¿‡ç¨‹ä¸­</li><li>v-leave-toï¼šç¦»å¼€çš„ç»ˆç‚¹</li></ol></li></ul></li><li><p>ä½¿ç”¨<code>&lt;transition&gt;</code>åŒ…è£¹è¦è¿‡åº¦çš„å…ƒç´ ï¼Œå¹¶é…ç½® name å±æ€§ï¼š</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;transition name=&quot;hello&quot;&gt;<br>&lt;h1 v-show=&quot;isShow&quot;&gt;ä½ å¥½å•Šï¼&lt;/h1&gt;<br>&lt;/transition&gt;<br></code></pre></td></tr></table></figure><ol start="2"><li>å¤‡æ³¨ï¼šè‹¥æœ‰å¤šä¸ªå…ƒç´ éœ€è¦è¿‡åº¦ï¼Œåˆ™éœ€è¦ä½¿ç”¨ï¼š<code>&lt;transition-group&gt;</code>ï¼Œä¸”æ¯ä¸ªå…ƒç´ éƒ½è¦æŒ‡å®š<code>key</code>å€¼ã€‚</li></ol><p>é›†æˆç¬¬ä¸‰æ–¹åŠ¨ç”»<br>$ npm install animate.css â€“save<br>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div id=&quot;root&quot;&gt;<br>    Â  Â <br>    &lt;div class=&quot;todo-container&quot;&gt;<br>      Â  Â  Â <br>      &lt;div class=&quot;todo-wrap&quot;&gt;<br>        Â  Â  Â  Â  &lt;MyHeader @addTodoObj=&quot;addTodoObj&quot; /&gt; Â  Â  Â  Â <br>        &lt;MyList :todos=&quot;todos&quot; /&gt; Â  Â  Â  Â <br>        &lt;MyFooter<br>          :todos=&quot;todos&quot;<br>          @checkAllTodo=&quot;checkAllTodo&quot;<br>          @clearAllTodo=&quot;clearAllTodo&quot;<br>        /&gt;<br>        Â  Â  Â <br>      &lt;/div&gt;<br>      Â  Â <br>    &lt;/div&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>import MyHeader from &quot;./components/MyHeader.vue&quot;;<br>import MyList from &quot;./components/MyList.vue&quot;;<br>import MyFooter from &quot;./components/MyFooter.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    MyHeader,<br>    MyList,<br>    MyFooter,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)) || [],<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    addTodoObj(todoObj) &#123;<br>      this.todos.unshift(todoObj);<br>    &#125;,<br>    checkTodo(id) &#123;<br>      this.todos.forEach((todoObj) =&gt; &#123;<br>        if (todoObj.id === id) &#123;<br>          todoObj.done = !todoObj.done; // console.log(todoObj.done);<br>        &#125;<br>      &#125;);<br>    &#125;, // ä¸‹åˆ’çº¿åªæ˜¯ç”¨æ¥å ä½çš„, _è¡¨ç¤ºè®¢é˜…å<br>    deleteTodoObj(_, id) &#123;<br>      if (confirm(&quot;æ˜¯å¦ç¡®å®šåˆ é™¤&quot;)) &#123;<br>        this.todos = this.todos.filter((todo) =&gt; &#123;<br>          return todo.id !== id;<br>        &#125;);<br>      &#125;<br>    &#125;,<br>    checkAllTodo(value) &#123;<br>      this.todos.forEach((todo) =&gt; &#123;<br>        todo.done = value;<br>      &#125;);<br>    &#125;,<br>    clearAllTodo() &#123;<br>      this.todos = this.todos.filter((todo) =&gt; &#123;<br>        return !todo.done;<br>      &#125;);<br>    &#125;,<br>  &#125;,<br>  watch: &#123;<br>    todos: &#123;<br>      deep: true,<br>      handler(value) &#123;<br>        localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  mounted() &#123;<br>    this.$bus.$on(&quot;checkTodo&quot;, this.checkTodo); // this.$bus.$on(&#x27;deleteTodoObj&#x27;, this.deleteTodoObj)<br>    this.pubId = pubsub.subscribe(&quot;deleteTodoObj&quot;, this.deleteTodoObj);<br>  &#125;,<br>  beforeDestroy() &#123;<br>    pubsub.unsubscribe(this.pubId);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*base*/<br>body &#123;<br>Â  background: #fff;<br>&#125;<br><br><br>.btn &#123;<br>Â  display: inline-block;<br>Â  padding: 4px 12px;<br>Â  margin-bottom: 0;<br>Â  font-size: 14px;<br>Â  line-height: 20px;<br>Â  text-align: center;<br>Â  vertical-align: middle;<br>Â  cursor: pointer;<br>Â  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),<br>Â  Â  0 1px 2px rgba(0, 0, 0, 0.05);<br>Â  border-radius: 4px;<br>&#125;<br><br><br>.btn-danger &#123;<br>Â  color: #fff;<br>Â  background-color: #da4f49;<br>Â  border: 1px solid #bd362f;<br>&#125;<br><br><br>.btn-edit &#123;<br>Â  color: #fff;<br>Â  background-color: skyblue;<br>Â  border: 1px solid rgb(103, 159, 180);<br>Â  margin-right: 5px;<br>&#125;<br><br><br>.btn-danger:hover &#123;<br>Â  color: #fff;<br>Â  background-color: #bd362f;<br>&#125;<br><br><br>.btn:focus &#123;<br>Â  outline: none;<br>&#125;<br><br><br>.todo-container &#123;<br>Â  width: 600px;<br>Â  margin: 0 auto;<br>&#125;<br>.todo-container .todo-wrap &#123;<br>Â  padding: 10px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-header&quot;&gt;<br>    Â  Â <br>    &lt;input<br>      type=&quot;text&quot;<br>      v-model=&quot;todoName&quot;<br>      @keyup.enter=&quot;add&quot;<br>      placeholder=&quot;è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤&quot;<br>    /&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; nanoid &#125; from &quot;nanoid&quot;;<br>export default &#123;<br>  name: &quot;MyHeader&quot;, // props: [&quot;addTodoObj&quot;],<br>  data() &#123;<br>    return &#123;<br>      todoName: &quot;&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    add() &#123;<br>      if (!this.todoName) &#123;<br>        alert(&quot;è¯·è¾“å…¥ç‚¹ä»€ä¹ˆå§&quot;);<br>        return;<br>      &#125;<br>      const todoObj = &#123; id: nanoid(), title: this.todoName, done: false &#125;; // console.log(todoObj); // this.addTodoObj(todoObj);<br>      this.$emit(&quot;addTodoObj&quot;, todoObj);<br>      this.todoName = &quot;&quot;;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*header*/<br>.todo-header input &#123;<br>Â  width: 560px;<br>Â  height: 28px;<br>Â  font-size: 14px;<br>Â  border: 1px solid #ccc;<br>Â  border-radius: 4px;<br>Â  padding: 4px 7px;<br>&#125;<br><br><br>.todo-header input:focus &#123;<br>Â  outline: none;<br>Â  border-color: rgba(82, 168, 236, 0.8);<br>Â  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),<br>Â  Â  0 0 8px rgba(82, 168, 236, 0.6);<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;ul class=&quot;todo-main&quot;&gt;<br>    Â  Â <br>    &lt;!-- &lt;transition-group <br>Â  Â  appear<br>Â  Â  name=&quot;todo&quot;<br>Â  Â  &gt; --&gt;<br>    Â  Â <br>    &lt;transition-group<br>      appear<br>      name=&quot;animate__animated animate__bounce&quot;<br>      enter-active-class=&quot;animate__headShake&quot;<br>      leave-active-class=&quot;animate__bounceOut&quot;<br>    &gt;<br>      Â  Â  Â <br>      &lt;MyItem v-for=&quot;todoObj in todos&quot; :key=&quot;todoObj.id&quot; :todoObj=&quot;todoObj&quot; /&gt; Â <br>      Â <br>    &lt;/transition-group&gt;<br>    Â <br>  &lt;/ul&gt;<br>&lt;/template&gt;<br><br>&lt;script scoped&gt;<br>import &quot;animate.css&quot;;<br>import MyItem from &quot;./MyItem.vue&quot;;<br>export default &#123;<br>  name: &quot;MyList&quot;,<br>  components: &#123;<br>    MyItem,<br>  &#125;,<br>  props: [&quot;todos&quot;],<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>/*main*/<br>.todo-main &#123;<br>Â  margin-left: 0px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding: 0px;<br>&#125;<br><br><br>.todo-empty &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  border: 1px solid #ddd;<br>Â  border-radius: 2px;<br>Â  padding-left: 5px;<br>Â  margin-top: 10px;<br>&#125;<br><br><br>.todo-enter-active &#123;<br>Â  animation: atguigu 0.5s linear;<br>&#125;<br><br><br>.todo-leave-active &#123;<br>Â  animation: atguigu 0.5s linear reverse;<br>&#125;<br><br><br>@keyframes atguigu &#123;<br>Â  from &#123;<br>Â  Â  transform: translateX(100%);<br>Â  &#125;<br>Â  to &#123;<br>Â  Â  transform: translateX(0);<br>Â  &#125;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;li&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;input<br>        type=&quot;checkbox&quot;<br>        :checked=&quot;todoObj.done&quot;<br>        @change=&quot;handleCheck(todoObj.id)&quot;<br>      /&gt;<br>      Â  Â  Â  &lt;span v-show=&quot;!todoObj.isEdit&quot;&gt;&#123;&#123; todoObj.title &#125;&#125;&lt;/span&gt; Â  Â  Â <br>      &lt;input<br>        v-show=&quot;todoObj.isEdit&quot;<br>        type=&quot;text&quot;<br>        :value=&quot;todoObj.title&quot;<br>        @blur=&quot;handleBlur(todoObj, $event)&quot;<br>        ref=&quot;inputTitle&quot;<br>      /&gt;<br>      Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;!-- å¦‚ä¸‹ä»£ç ä¹Ÿèƒ½å®ç°åŠŸèƒ½ï¼Œä½†æ˜¯ä¸å¤ªæ¨èï¼Œå› ä¸ºæœ‰ç‚¹è¿ååŸåˆ™ï¼Œå› ä¸ºä¿®æ”¹äº†props --&gt;<br>    Â  Â <br>    &lt;!-- &lt;input type=&quot;checkbox&quot; v-model=&quot;todoObj.done&quot;/&gt; --&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todoObj.id)&quot;&gt;<br>      Â  Â  Â  åˆ é™¤ Â  Â <br>    &lt;/button&gt;<br>    Â  Â <br>    &lt;button<br>      class=&quot;btn btn-edit&quot;<br>      @click=&quot;handleEdit(todoObj)&quot;<br>      v-show=&quot;!todoObj.isEdit&quot;<br>    &gt;<br>      Â  Â  Â  ç¼–è¾‘ Â  Â <br>    &lt;/button&gt;<br>    Â <br>  &lt;/li&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>export default &#123;<br>  name: &quot;MyItem&quot;,<br>  props: [&quot;todoObj&quot;],<br>  data() &#123;<br>    return &#123;&#125;;<br>  &#125;,<br>  methods: &#123;<br>    handleCheck(id) &#123;<br>      // this.checkTodo(id);<br>      this.$bus.$emit(&quot;checkTodo&quot;, id);<br>    &#125;,<br>    handleDelete(id) &#123;<br>      // this.deleteTodoObj(id);<br>      // this.$bus.$emit(&quot;deleteTodoObj&quot;, id);<br>      pubsub.publish(&quot;deleteTodoObj&quot;, id);<br>    &#125;, //ç¼–è¾‘<br>    handleEdit(todoObj) &#123;<br>      if (todoObj.hasOwnProperty(&quot;isEdit&quot;)) &#123;<br>        todoObj.isEdit = true;<br>      &#125; else &#123;<br>        this.$set(todoObj, &quot;isEdit&quot;, true);<br>      &#125; /* setTimeout(() =&gt; &#123; // è®¾ç½®å®šæ—¶å™¨<br>Â  Â  Â  Â  this.$refs.inputTitle.focus();<br>Â  Â  Â  &#125;, 200); */ /* setTimeout(() =&gt; &#123; // ä¸æ­£è§„å†™æ³•(å®šæ—¶å™¨é‡Œé¢ä¸å†™æ—¶é—´)<br>Â  Â  Â  Â  this.$refs.inputTitle.focus();<br>Â  Â  Â  &#125;); */<br><br>      this.$nextTick(function () &#123;<br>        this.$refs.inputTitle.focus();<br>      &#125;);<br>    &#125;, //å¤±å»ç„¦ç‚¹å›è°ƒï¼ˆçœŸæ­£æ‰§è¡Œä¿®æ”¹é€»è¾‘ï¼‰<br>    handleBlur(todoObj, e) &#123;<br>      todoObj.isEdit = false;<br>      if (!e.target.value.trim()) &#123;<br>        return alert(&quot;è¾“å…¥ä¸èƒ½ä¸ºç©º&quot;);<br>      &#125; // console.log(e.target.value);<br><br>      this.todoObj.title = e.target.value;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*item*/<br>li &#123;<br>Â  list-style: none;<br>Â  height: 36px;<br>Â  line-height: 36px;<br>Â  padding: 0 5px;<br>Â  border-bottom: 1px solid #ddd;<br>&#125;<br><br><br>li label &#123;<br>Â  float: left;<br>Â  cursor: pointer;<br>&#125;<br><br><br>li label li input &#123;<br>Â  vertical-align: middle;<br>Â  margin-right: 6px;<br>Â  position: relative;<br>Â  top: -1px;<br>&#125;<br><br><br>li button &#123;<br>Â  float: right;<br>Â  display: none;<br>Â  margin-top: 3px;<br>&#125;<br><br><br>li:before &#123;<br>Â  content: initial;<br>&#125;<br><br><br>li:last-child &#123;<br>Â  border-bottom: none;<br>&#125;<br><br><br>li:hover &#123;<br>Â  background-color: #ccc;<br>&#125;<br><br><br>li:hover button &#123;<br>Â  display: block;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;<br>    Â  Â <br>    &lt;label&gt;<br>      Â  Â  Â <br>      &lt;!-- &lt;input type=&quot;checkbox&quot; :checked=&quot;isAll&quot; @change=&quot;checkAll&quot; /&gt; --&gt;<br>      Â  Â  Â  &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot; /&gt; Â  Â <br>    &lt;/label&gt;<br>    Â  Â <br>    &lt;span&gt;<br>      Â  Â  Â  &lt;span&gt;å·²å®Œæˆ&#123;&#123; calcTodoTotal &#125;&#125;&lt;/span&gt; / å…¨éƒ¨&#123;&#123; total &#125;&#125; Â  Â <br>    &lt;/span&gt;<br>    Â  Â <br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;æ¸…é™¤å·²å®Œæˆä»»åŠ¡&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;MyFooter&quot;,<br>  props: [&quot;todos&quot;],<br>  computed: &#123;<br>    // isAll() &#123;<br>    // Â  return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>    // &#125;,<br>    total() &#123;<br>      return this.todos.length;<br>    &#125;,<br>    calcTodoTotal() &#123;<br>      /* Â  Â  Â  let i = 0<br>Â  Â  Â  this.todos.forEach((todo) =&gt; &#123;<br>Â  Â  Â  Â  if (todo.done === true) i++<br>Â  Â  Â  &#125;);<br>Â  Â  Â  return i */<br>      /* Â  Â  Â  return this.todos.reduce((pre, current) =&gt; &#123;<br>Â  Â  Â  Â  // console.log(current.done);<br>Â  Â  Â  Â  return pre + (current.done ? 1 : 0)<br>Â  Â  Â  &#125;, 0) */<br>      return this.todos.reduce((pre, todo) =&gt; pre + (todo.done ? 1 : 0), 0);<br>    &#125;,<br>    isAll: &#123;<br>      get() &#123;<br>        return this.total === this.calcTodoTotal &amp;&amp; this.total &gt; 0;<br>      &#125;,<br>      set(value) &#123;<br>        // this.checkAllTodo(value)<br>        this.$emit(&quot;checkAllTodo&quot;, value);<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  methods: &#123;<br>    checkAll(e) &#123;<br>      // console.log(e.target.checked);<br>      this.checkAllTodo(e.target.checked);<br>    &#125;,<br>    clearAll() &#123;<br>      // this.clearAllTodo()<br>      this.$emit(&quot;clearAllTodo&quot;);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>/*footer*/<br>.todo-footer &#123;<br>Â  height: 40px;<br>Â  line-height: 40px;<br>Â  padding-left: 6px;<br>Â  margin-top: 5px;<br>&#125;<br><br><br>.todo-footer label &#123;<br>Â  display: inline-block;<br>Â  margin-right: 20px;<br>Â  cursor: pointer;<br>&#125;<br><br><br>.todo-footer label input &#123;<br>Â  position: relative;<br>Â  top: -1px;<br>Â  vertical-align: middle;<br>Â  margin-right: 5px;<br>&#125;<br><br><br>.todo-footer button &#123;<br>Â  float: right;<br>Â  margin-top: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h2 id="ä»£ç†æœåŠ¡å™¨"><a href="#ä»£ç†æœåŠ¡å™¨" class="headerlink" title="ä»£ç†æœåŠ¡å™¨"></a>ä»£ç†æœåŠ¡å™¨</h2><p>PS E:\Code\Vue\vue_test&gt; npm i axios</p><p><img src="http://cdn.xiamu.icu//FpFedqXkf05PvdyKsa_tftlNfyzr.png"><br>å·¦è¾¹çš„ 8080 æ˜¯å‰ç«¯, å‰ç«¯æƒ³è·Ÿ 5000 åç«¯è¦æ•°æ®, ä¼šäº§ç”Ÿè·¨åŸŸé—®é¢˜, ä½†æ˜¯ 8080 å‰ç«¯è·Ÿ 8080 æœåŠ¡å™¨æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨ AJAX è¯·æ±‚çš„, 8080 æœåŠ¡å™¨è·Ÿ 5000 æœåŠ¡å™¨ä¹‹é—´é€šä¿¡ä¸ä¼šä½¿ç”¨ AJAX æŠ€æœ¯, æ‰€ä»¥ä¸å­˜åœ¨æ‰€è°“çš„è·¨åŸŸé—®é¢˜\</p><p>å°½ç®¡ changeOrigin è®¾ç½® false å±æ€§, F12 å¼€å‘å·¥å…·æŸ¥çœ‹çš„ Referer è¿˜æ˜¯æ˜¾ç¤ºç€ 8080 ç«¯å£çš„<br>è¿™æ˜¯å› ä¸ºæµè§ˆå™¨åªæ˜¯å°†ç¬¬ä¸€å±‚è¯·æ±‚æ˜¾ç¤ºç»™ä½ ï¼ˆå› ä¸ºç¬¬ä¸€å±‚è¯·æ±‚æ˜¯è¯·æ±‚çš„æœ¬åœ°æœåŠ¡å™¨ï¼ŒåŸŸåã€ç«¯å£å·å’Œå‰ç«¯é¡µé¢çš„åŸŸåã€ç«¯å£å·éƒ½æ˜¯ä¸€è‡´çš„ï¼‰ï¼Œç¬¬ä¸€å±‚è¯·æ±‚ä¹Ÿå°±æ˜¯å‘ç»™ä»£ç†æœåŠ¡å™¨çš„è¯·æ±‚ï¼Œè€Œä¿®æ”¹ Host çš„å·¥ä½œæ˜¯ä»£ç†æœåŠ¡å™¨åšçš„ï¼Œæµè§ˆå™¨å½“ç„¶ä¸ä¼šæ˜¾ç¤º Host å·²ç»è¢«ä¿®æ”¹çš„çŠ¶æ€ï¼<br><img src="http://cdn.xiamu.icu//FlhA41QkGDGgmKyssO0l2T6u38MT.png"><br>ä½†æ˜¯æœåŠ¡å™¨ä¸­è®°å½•æœ¬åœ°çš„ç«¯å£æ¥æºäº 8080 ç«¯å£, è€Œä¸æ˜¯ 5000, è¯´æ˜ changeOrigin è®¾ç½® false å·²ç»ç”Ÿæ•ˆäº†<br><img src="http://cdn.xiamu.icu//FqNlH2I8WypRQW2XKLGxZWB4Frzk.png"></p><p>å®‰è£… vue-resource<br>E:\Code\Vue\vue_test&gt; npm i vue-resource</p><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><pre><code class="hljs">åœ¨vue.config.jsä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">devServer</span>: &#123;<br>  <span class="hljs-attr">proxy</span>: <span class="hljs-string">&quot;http://localhost:5000&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ol><li>ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œè¯·æ±‚èµ„æºæ—¶ç›´æ¥å‘ç»™å‰ç«¯ï¼ˆ8080ï¼‰å³å¯ã€‚</li><li>ç¼ºç‚¹ï¼šä¸èƒ½é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸èƒ½çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚</li><li>å·¥ä½œæ–¹å¼ï¼šè‹¥æŒ‰ç…§ä¸Šè¿°é…ç½®ä»£ç†ï¼Œå½“è¯·æ±‚äº†å‰ç«¯ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚ä¼šè½¬å‘ç»™æœåŠ¡å™¨ ï¼ˆä¼˜å…ˆåŒ¹é…å‰ç«¯èµ„æºï¼‰</li></ol><h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><pre><code class="hljs">ç¼–å†™vue.config.jsé…ç½®å…·ä½“ä»£ç†è§„åˆ™ï¼š</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">devServer</span>: &#123;<br>    <span class="hljs-attr">proxy</span>: &#123;<br>      <span class="hljs-string">&quot;/api1&quot;</span>: &#123;<br>        <span class="hljs-comment">// åŒ¹é…æ‰€æœ‰ä»¥ &#x27;/api1&#x27;å¼€å¤´çš„è¯·æ±‚è·¯å¾„</span><br>        <span class="hljs-attr">target</span>: <span class="hljs-string">&quot;http://localhost:5000&quot;</span>, <span class="hljs-comment">// ä»£ç†ç›®æ ‡çš„åŸºç¡€è·¯å¾„</span><br>        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">pathRewrite</span>: &#123; <span class="hljs-string">&quot;^/api1&quot;</span>: <span class="hljs-string">&quot;&quot;</span> &#125;,<br>      &#125;,<br>      <span class="hljs-string">&quot;/api2&quot;</span>: &#123;<br>        <span class="hljs-comment">// åŒ¹é…æ‰€æœ‰ä»¥ &#x27;/api2&#x27;å¼€å¤´çš„è¯·æ±‚è·¯å¾„</span><br>        <span class="hljs-attr">target</span>: <span class="hljs-string">&quot;http://localhost:5001&quot;</span>, <span class="hljs-comment">// ä»£ç†ç›®æ ‡çš„åŸºç¡€è·¯å¾„</span><br>        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">pathRewrite</span>: &#123; <span class="hljs-string">&quot;^/api2&quot;</span>: <span class="hljs-string">&quot;&quot;</span> &#125;,<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>&#125;;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">   changeOriginè®¾ç½®ä¸ºtrueæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:5000</span><br><span class="hljs-comment">   changeOriginè®¾ç½®ä¸ºfalseæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:8080</span><br><span class="hljs-comment">   changeOriginé»˜è®¤å€¼ä¸ºtrue</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ol><li>ä¼˜ç‚¹ï¼šå¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸”å¯ä»¥çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚</li><li>ç¼ºç‚¹ï¼šé…ç½®ç•¥å¾®ç¹çï¼Œè¯·æ±‚èµ„æºæ—¶å¿…é¡»åŠ å‰ç¼€ã€‚</li></ol><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â  &lt;button @click=&quot;getStudents&quot;&gt;è·å–å­¦ç”Ÿä¿¡æ¯&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;getCars&quot;&gt;è·å–æ±½è½¦ä¿¡æ¯&lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import axios from &quot;axios&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  methods: &#123;<br>    getStudents() &#123;<br>      axios.get(&quot;http://localhost:8080/atguigu/students&quot;).then(<br>        (response) =&gt; &#123;<br>          console.log(response.data);<br>        &#125;,<br>        (error) =&gt; &#123;<br>          console.log(error.message);<br>        &#125;<br>      );<br>    &#125;,<br>    getCars() &#123;<br>      axios.get(&quot;http://localhost:8080/demo/cars&quot;).then(<br>        (response) =&gt; &#123;<br>          console.log(response.data);<br>        &#125;,<br>        (error) =&gt; &#123;<br>          console.log(error.message);<br>        &#125;<br>      );<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h2 id="github-æœç´¢æ¡ˆä¾‹"><a href="#github-æœç´¢æ¡ˆä¾‹" class="headerlink" title="github æœç´¢æ¡ˆä¾‹"></a>github æœç´¢æ¡ˆä¾‹</h2><h3 id="axios-å®ç°"><a href="#axios-å®ç°" class="headerlink" title="axios å®ç°"></a>axios å®ç°</h3><p>test.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-comment">//ç¼–å†™ä¸€ä¸ªjavascriptå¯¹è±¡ ES6</span></span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> user = &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°æ­¦&quot;</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;ç”·&quot;</span>,</span><br><span class="language-javascript">  &#125;; <span class="hljs-comment">//å°†JSå¯¹è±¡è½¬æ¢ä¸ºJSONå¯¹è±¡</span></span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(user);</span><br><span class="language-javascript">  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json);</span><br><span class="language-javascript">  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user);</span><br><span class="language-javascript">  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;==================&quot;</span>); <span class="hljs-comment">//å°†JSONå¯¹è±¡è½¬æ¢ä¸ºJSå¯¹è±¡ // var obj = JSON.parse(json);</span></span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> obj = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(json);</span><br><span class="language-javascript">  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;Â  Â  &lt;Search /&gt; Â  Â  &lt;List /&gt; Â &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Search from &quot;./components/Search&quot;;<br>import List from &quot;./components/List&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Search,<br>    List,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>Search.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;section class=&quot;jumbotron&quot;&gt;<br>    Â  Â <br>    &lt;h3 class=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;<br>    Â  Â <br>    &lt;div&gt;<br>      Â  Â  Â <br>      &lt;input<br>        type=&quot;text&quot;<br>        placeholder=&quot;enter the name you search&quot;<br>        v-model=&quot;keyWord&quot;<br>      /&gt;<br>      Â  Â  Â  Â  Â  Â  Â  &lt;button @click=&quot;searchUsers&quot;&gt;Search&lt;/button&gt; Â  Â <br>    &lt;/div&gt;<br>    Â <br>  &lt;/section&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>import axios from &quot;axios&quot;;<br>export default &#123;<br>  name: &quot;Search&quot;,<br>  data() &#123;<br>    return &#123;<br>      keyWord: &quot;&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    searchUsers() &#123;<br>      pubsub.publish(&quot;updateListData&quot;, &#123;<br>        isFirst: false,<br>        isLoading: true,<br>        errMsg: &quot;&quot;,<br>        users: [],<br>      &#125;); /* Â  Â  Â  this.$bus.$emit(&quot;updateListData&quot;, &#123;<br>Â  Â  Â  Â  isFirst: false,<br>Â  Â  Â  Â  isLoading: true,<br>Â  Â  Â  Â  errMsg: &quot;&quot;,<br>Â  Â  Â  Â  users: [],<br>Â  Â  Â  &#125;); */<br>      axios.get(`https://api.github.com/search/users?q=$&#123;this.keyWord&#125;`).then(<br>        (response) =&gt; &#123;<br>          console.log(<br>            &quot;è¯·æ±‚æˆåŠŸäº†&quot;,<br>            response.data.items<br>          ); /* this.$bus.$emit(&quot;updateListData&quot;, &#123;<br>Â  Â  Â  Â  Â  Â  isLoading: false,<br>Â  Â  Â  Â  Â  Â  errMsg: &quot;&quot;,<br>Â  Â  Â  Â  Â  Â  users: response.data.items,<br>Â  Â  Â  Â  Â  &#125;); */<br>          pubsub.publish(&quot;updateListData&quot;, &#123;<br>            isLoading: false,<br>            errMsg: &quot;&quot;,<br>            users: response.data.items,<br>          &#125;);<br>        &#125;,<br>        (error) =&gt; &#123;<br>          console.log(<br>            &quot;è¯·æ±‚å¤±è´¥äº†&quot;,<br>            error.message<br>          ); /* this.$bus.$emit(&quot;updateListData&quot;, &#123;<br>Â  Â  Â  Â  Â  Â  isLoading: false,<br>Â  Â  Â  Â  Â  Â  errMsg: error.message,<br>Â  Â  Â  Â  Â  Â  users: [],<br>Â  Â  Â  Â  Â  &#125;); */<br>          pubsub.publish(&quot;updateListData&quot;, &#123;<br>            isLoading: false,<br>            errMsg: error.message,<br>            users: [],<br>          &#125;);<br>        &#125;<br>      );<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>List.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;section class=&quot;jumbotron&quot;&gt;<br>    Â  Â <br>    &lt;h3 class=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;<br>    Â  Â <br>    &lt;div&gt;<br>      Â  Â  Â <br>      &lt;input<br>        type=&quot;text&quot;<br>        placeholder=&quot;enter the name you search&quot;<br>        v-model=&quot;keyWord&quot;<br>      /&gt;<br>      Â  Â  Â  Â  Â  Â  Â  &lt;button @click=&quot;searchUsers&quot;&gt;Search&lt;/button&gt; Â  Â <br>    &lt;/div&gt;<br>    Â <br>  &lt;/section&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>import axios from &quot;axios&quot;;<br>export default &#123;<br>  name: &quot;Search&quot;,<br>  data() &#123;<br>    return &#123;<br>      keyWord: &quot;&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    searchUsers() &#123;<br>      pubsub.publish(&quot;updateListData&quot;, &#123;<br>        isFirst: false,<br>        isLoading: true,<br>        errMsg: &quot;&quot;,<br>        users: [],<br>      &#125;); /* Â  Â  Â  this.$bus.$emit(&quot;updateListData&quot;, &#123;<br>Â  Â  Â  Â  isFirst: false,<br>Â  Â  Â  Â  isLoading: true,<br>Â  Â  Â  Â  errMsg: &quot;&quot;,<br>Â  Â  Â  Â  users: [],<br>Â  Â  Â  &#125;); */<br>      axios.get(`https://api.github.com/search/users?q=$&#123;this.keyWord&#125;`).then(<br>        (response) =&gt; &#123;<br>          console.log(<br>            &quot;è¯·æ±‚æˆåŠŸäº†&quot;,<br>            response.data.items<br>          ); /* this.$bus.$emit(&quot;updateListData&quot;, &#123;<br>Â  Â  Â  Â  Â  Â  isLoading: false,<br>Â  Â  Â  Â  Â  Â  errMsg: &quot;&quot;,<br>Â  Â  Â  Â  Â  Â  users: response.data.items,<br>Â  Â  Â  Â  Â  &#125;); */<br>          pubsub.publish(&quot;updateListData&quot;, &#123;<br>            isLoading: false,<br>            errMsg: &quot;&quot;,<br>            users: response.data.items,<br>          &#125;);<br>        &#125;,<br>        (error) =&gt; &#123;<br>          console.log(<br>            &quot;è¯·æ±‚å¤±è´¥äº†&quot;,<br>            error.message<br>          ); /* this.$bus.$emit(&quot;updateListData&quot;, &#123;<br>Â  Â  Â  Â  Â  Â  isLoading: false,<br>Â  Â  Â  Â  Â  Â  errMsg: error.message,<br>Â  Â  Â  Â  Â  Â  users: [],<br>Â  Â  Â  Â  Â  &#125;); */<br>          pubsub.publish(&quot;updateListData&quot;, &#123;<br>            isLoading: false,<br>            errMsg: error.message,<br>            users: [],<br>          &#125;);<br>        &#125;<br>      );<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="vue-resource-å®ç°"><a href="#vue-resource-å®ç°" class="headerlink" title="vue-resource å®ç°"></a>vue-resource å®ç°</h3><p>test.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-comment">//ç¼–å†™ä¸€ä¸ªjavascriptå¯¹è±¡ ES6</span></span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> user = &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°æ­¦&quot;</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;ç”·&quot;</span>,</span><br><span class="language-javascript">  &#125;; <span class="hljs-comment">//å°†JSå¯¹è±¡è½¬æ¢ä¸ºJSONå¯¹è±¡</span></span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(user);</span><br><span class="language-javascript">  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json);</span><br><span class="language-javascript">  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user);</span><br><span class="language-javascript">  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;==================&quot;</span>); <span class="hljs-comment">//å°†JSONå¯¹è±¡è½¬æ¢ä¸ºJSå¯¹è±¡ // var obj = JSON.parse(json);</span></span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> obj = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(json);</span><br><span class="language-javascript">  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> vueResource <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-resource&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(vueResource);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;Â  Â  &lt;Search /&gt; Â  Â  &lt;List /&gt; Â &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Search from &quot;./components/Search&quot;;<br>import List from &quot;./components/List&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Search,<br>    List,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>Search.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;section class=&quot;jumbotron&quot;&gt;<br>    Â  Â <br>    &lt;h3 class=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;<br>    Â  Â <br>    &lt;div&gt;<br>      Â  Â  Â <br>      &lt;input<br>        type=&quot;text&quot;<br>        placeholder=&quot;enter the name you search&quot;<br>        v-model=&quot;keyWord&quot;<br>      /&gt;<br>      Â  Â  Â  Â  Â  Â  Â  &lt;button @click=&quot;searchUsers&quot;&gt;Search&lt;/button&gt; Â  Â <br>    &lt;/div&gt;<br>    Â <br>  &lt;/section&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>export default &#123;<br>  name: &quot;Search&quot;,<br>  data() &#123;<br>    return &#123;<br>      keyWord: &quot;&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    searchUsers() &#123;<br>      console.log(this);<br>      pubsub.publish(&quot;updateListData&quot;, &#123;<br>        isFirst: false,<br>        isLoading: true,<br>        errMsg: &quot;&quot;,<br>        users: [],<br>      &#125;); /* Â  Â  Â  this.$bus.$emit(&quot;updateListData&quot;, &#123;<br>Â  Â  Â  Â  isFirst: false,<br>Â  Â  Â  Â  isLoading: true,<br>Â  Â  Â  Â  errMsg: &quot;&quot;,<br>Â  Â  Â  Â  users: [],<br>Â  Â  Â  &#125;); */<br>      this.$http<br>        .get(`https://api.github.com/search/users?q=$&#123;this.keyWord&#125;`)<br>        .then(<br>          (response) =&gt; &#123;<br>            console.log(<br>              &quot;è¯·æ±‚æˆåŠŸäº†&quot;,<br>              response.data.items<br>            ); /* this.$bus.$emit(&quot;updateListData&quot;, &#123;<br>Â  Â  Â  Â  Â  Â  isLoading: false,<br>Â  Â  Â  Â  Â  Â  errMsg: &quot;&quot;,<br>Â  Â  Â  Â  Â  Â  users: response.data.items,<br>Â  Â  Â  Â  Â  &#125;); */<br>            pubsub.publish(&quot;updateListData&quot;, &#123;<br>              isLoading: false,<br>              errMsg: &quot;&quot;,<br>              users: response.data.items,<br>            &#125;);<br>          &#125;,<br>          (error) =&gt; &#123;<br>            console.log(<br>              &quot;è¯·æ±‚å¤±è´¥äº†&quot;,<br>              error.message<br>            ); /* this.$bus.$emit(&quot;updateListData&quot;, &#123;<br>Â  Â  Â  Â  Â  Â  isLoading: false,<br>Â  Â  Â  Â  Â  Â  errMsg: error.message,<br>Â  Â  Â  Â  Â  Â  users: [],<br>Â  Â  Â  Â  Â  &#125;); */<br>            pubsub.publish(&quot;updateListData&quot;, &#123;<br>              isLoading: false,<br>              errMsg: error.message,<br>              users: [],<br>            &#125;);<br>          &#125;<br>        );<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>List.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;row&quot;&gt;<br>    Â  Â <br>    &lt;!-- å±•ç¤ºç”¨æˆ·åˆ—è¡¨ --&gt;<br>    Â  Â <br>    &lt;div<br>      v-show=&quot;info.users.length&quot;<br>      class=&quot;card&quot;<br>      v-for=&quot;user in info.users&quot;<br>      :key=&quot;user.login&quot;<br>    &gt;<br>      Â  Â  Â <br>      &lt;a :href=&quot;user.html_url&quot; target=&quot;_blank&quot;&gt;<br>        Â  Â  Â  Â  &lt;img :src=&quot;user.avatar_url&quot; style=&quot;width: 100px&quot; /&gt; Â  Â  Â <br>      &lt;/a&gt;<br>      Â  Â  Â <br>      &lt;p class=&quot;card-text&quot;&gt;&#123;&#123; user.login &#125;&#125;&lt;/p&gt;<br>      Â  Â <br>    &lt;/div&gt;<br>    Â  Â <br>    &lt;!-- å±•ç¤ºæ¬¢è¿è¯ --&gt;<br>    Â  Â <br>    &lt;h1 v-show=&quot;info.isFirst&quot;&gt;æ¬¢è¿ä½¿ç”¨!&lt;/h1&gt;<br>    Â  Â <br>    &lt;!-- å±•ç¤ºåŠ è½½ä¸­ --&gt;<br>    Â  Â <br>    &lt;h1 v-show=&quot;info.isLoading&quot;&gt;åŠ è½½ä¸­...&lt;/h1&gt;<br>    Â  Â <br>    &lt;!-- å±•ç¤ºé”™è¯¯ä¿¡æ¯ --&gt;<br>    Â  Â <br>    &lt;h1 v-show=&quot;info.errMsg&quot;&gt;&#123;&#123; info.errMsg &#125;&#125;&lt;/h1&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &quot;pubsub-js&quot;;<br>export default &#123;<br>  name: &quot;List&quot;,<br>  data() &#123;<br>    return &#123;<br>      info: &#123;<br>        isFirst: true,<br>        isLoading: false,<br>        errMsg: &quot;&quot;,<br>        users: [],<br>      &#125;,<br>    &#125;;<br>  &#125;,<br>  mounted() &#123;<br>    pubsub.subscribe(&quot;updateListData&quot;, (_, dataObj) =&gt; &#123;<br>      console.log(&quot;Listæ”¶åˆ°äº†æ•°æ®&quot;, dataObj);<br>      this.info = &#123; ...this.info, ...dataObj &#125;;<br>    &#125;); /* this.$bus.$on(&quot;updateListData&quot;, (dataObj) =&gt; &#123;<br>Â  Â  Â  // console.log(&quot;Listæ”¶åˆ°äº†æ•°æ®&quot;, users);<br>Â  Â  Â  this.info = &#123; ...this.info, ...dataObj &#125;;<br>Â  Â  &#125;); */<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.album &#123;<br>Â  min-height: 50rem; /* Can be removed; just added for demo purposes */<br>Â  padding-top: 3rem;<br>Â  padding-bottom: 3rem;<br>Â  background-color: #f7f7f7;<br>&#125;<br><br><br>.card &#123;<br>Â  float: left;<br>Â  width: 33.333%;<br>Â  padding: 0.75rem;<br>Â  margin-bottom: 2rem;<br>Â  border: 1px solid #efefef;<br>Â  text-align: center;<br>&#125;<br><br><br>.card &gt; img &#123;<br>Â  margin-bottom: 0.75rem;<br>Â  border-radius: 100px;<br>&#125;<br><br><br>.card-text &#123;<br>Â  font-size: 85%;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h2 id="æ’æ§½"><a href="#æ’æ§½" class="headerlink" title="æ’æ§½"></a>æ’æ§½</h2><ol><li>ä½œç”¨ï¼šè®©çˆ¶ç»„ä»¶å¯ä»¥å‘å­ç»„ä»¶æŒ‡å®šä½ç½®æ’å…¥ html ç»“æ„ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äº <strong>çˆ¶ç»„ä»¶ &#x3D;&#x3D;&#x3D;&gt; å­ç»„ä»¶</strong> ã€‚</li><li>åˆ†ç±»ï¼šé»˜è®¤æ’æ§½ã€å…·åæ’æ§½ã€ä½œç”¨åŸŸæ’æ§½</li><li>ä½¿ç”¨æ–¹å¼ï¼š</li><li>é»˜è®¤æ’æ§½ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs vue">çˆ¶ç»„ä»¶ä¸­ï¼š<br>&lt;Category&gt;<br>           &lt;div&gt;htmlç»“æ„1&lt;/div&gt;<br>        &lt;/Category&gt;<br>å­ç»„ä»¶ä¸­ï¼š<br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;!-- å®šä¹‰æ’æ§½ --&gt;<br>    &lt;slot&gt;æ’æ§½é»˜è®¤å†…å®¹...&lt;/slot&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><ol start="2"><li>å…·åæ’æ§½ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs vue">çˆ¶ç»„ä»¶ä¸­ï¼š<br>&lt;Category&gt;<br>            &lt;template slot=&quot;center&quot;&gt;<br>              &lt;div&gt;htmlç»“æ„1&lt;/div&gt;<br>            &lt;/template&gt;<br><br>            &lt;template v-slot:footer&gt;<br>               &lt;div&gt;htmlç»“æ„2&lt;/div&gt;<br>            &lt;/template&gt;<br>        &lt;/Category&gt;<br>å­ç»„ä»¶ä¸­ï¼š<br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;!-- å®šä¹‰æ’æ§½ --&gt;<br>    &lt;slot name=&quot;center&quot;&gt;æ’æ§½é»˜è®¤å†…å®¹...&lt;/slot&gt;<br>    &lt;slot name=&quot;footer&quot;&gt;æ’æ§½é»˜è®¤å†…å®¹...&lt;/slot&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><ol start="3"><li>ä½œç”¨åŸŸæ’æ§½ï¼š</li><li>ç†è§£ï¼šæ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚ï¼ˆgames æ•°æ®åœ¨ Category ç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”± App ç»„ä»¶å†³å®šï¼‰</li><li>å…·ä½“ç¼–ç ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs vue">çˆ¶ç»„ä»¶ä¸­ï¼š<br>&lt;Category&gt;<br>&lt;template scope=&quot;scopeData&quot;&gt;<br>&lt;!-- ç”Ÿæˆçš„æ˜¯ulåˆ—è¡¨ --&gt;<br>&lt;ul&gt;<br>&lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;<br>&lt;/ul&gt;<br>&lt;/template&gt;<br>&lt;/Category&gt;<br><br>&lt;Category&gt;<br>&lt;template slot-scope=&quot;scopeData&quot;&gt;<br>&lt;!-- ç”Ÿæˆçš„æ˜¯h4æ ‡é¢˜ --&gt;<br>&lt;h4 v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/h4&gt;<br>&lt;/template&gt;<br>&lt;/Category&gt;<br>å­ç»„ä»¶ä¸­ï¼š<br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;slot :games=&quot;games&quot;&gt;&lt;/slot&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Category&quot;,<br>  props: [&quot;title&quot;],<br>  //æ•°æ®åœ¨å­ç»„ä»¶è‡ªèº«<br>  data() &#123;<br>    return &#123;<br>      games: [&quot;çº¢è‰²è­¦æˆ’&quot;, &quot;ç©¿è¶Šç«çº¿&quot;, &quot;åŠ²èˆå›¢&quot;, &quot;è¶…çº§ç›ä¸½&quot;],<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç :"></a>ä»£ç :</h3><h4 id="é»˜è®¤æ’æ§½"><a href="#é»˜è®¤æ’æ§½" class="headerlink" title="é»˜è®¤æ’æ§½"></a>é»˜è®¤æ’æ§½</h4><p>Category.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;category&quot;&gt;<br>    Â  Â <br>    &lt;h3&gt;&#123;&#123; title &#125;&#125;åˆ†ç±»&lt;/h3&gt;<br>    Â  Â <br>    &lt;!-- å®šä¹‰ä¸€ä¸ªæ’æ§½(æŒ–ä¸ªå‘, ç­‰ç€ç»„ä»¶çš„ä½¿ç”¨è€…è¿›è¡Œå¡«å……) --&gt;<br>    Â  Â  &lt;slot&gt;æˆ‘æ˜¯ä¸€ä¸ªé»˜è®¤å€¼, å½“ä½¿ç”¨è€…æ²¡æœ‰ä¼ é€’å…·ä½“ç»“æ„æ—¶, æˆ‘ä¼šå‡ºç°&lt;/slot&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Category&quot;,<br>  props: [&quot;title&quot;],<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.category &#123;<br>Â  background-color: skyblue;<br>Â  width: 200px;<br>Â  height: 300px;<br>&#125;<br>h3 &#123;<br>Â  text-align: center;<br>Â  background-color: orange;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;<br>    Â  Â <br>    &lt;Category title=&quot;ç¾é£Ÿ&quot;&gt;<br>      Â  Â  Â  &lt;img src=&quot;./ç¾é£Ÿ.jpg&quot; alt=&quot;&quot; /&gt; Â  Â <br>    &lt;/Category&gt;<br>    Â  Â <br>    &lt;Category title=&quot;æ¸¸æˆ&quot;&gt;<br>      Â  Â  Â <br>      &lt;ul&gt;<br>        Â  Â  Â  Â <br>        &lt;li v-for=&quot;(g, index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123; g &#125;&#125;&lt;/li&gt;<br>        Â  Â  Â <br>      &lt;/ul&gt;<br>      Â  Â <br>    &lt;/Category&gt;<br>    Â  Â <br>    &lt;Category title=&quot;ç”µå½±&quot;&gt;<br>      Â  Â  Â <br>      &lt;video<br>        controls<br>        src=&quot;http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4&quot;<br>      &gt;&lt;/video&gt;<br>      Â  Â <br>    &lt;/Category&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Category from &quot;./components/Category&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Category,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      foods: [&quot;ç«é”…&quot;, &quot;çƒ§çƒ¤&quot;, &quot;å°é¾™è™¾&quot;, &quot;ç‰›æ’&quot;],<br>      games: [&quot;çº¢è‰²è­¦æˆ’&quot;, &quot;ç©¿è¶Šç«çº¿&quot;, &quot;åŠ²èˆå›¢&quot;, &quot;è¶…çº§ç›ä¸½&quot;],<br>      films: [&quot;ã€Šæ•™çˆ¶ã€‹&quot;, &quot;ã€Šæ‹†å¼¹ä¸“å®¶ã€‹&quot;, &quot;ã€Šä½ å¥½ï¼Œæç„•è‹±ã€‹&quot;, &quot;ã€Šå°šç¡…è°·ã€‹&quot;],<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.container &#123;<br>Â  display: flex;<br>Â  justify-content: space-around;<br>&#125;<br><br><br>img &#123;<br>Â  width: 100%;<br>&#125;<br>video &#123;<br>Â  width: 100%;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> vueResource <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-resource&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(vueResource);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="å…·åæ’æ§½"><a href="#å…·åæ’æ§½" class="headerlink" title="å…·åæ’æ§½"></a>å…·åæ’æ§½</h4><p>Category.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;category&quot;&gt;<br>    Â  Â <br>    &lt;h3&gt;&#123;&#123; title &#125;&#125;åˆ†ç±»&lt;/h3&gt;<br>    Â  Â <br>    &lt;!-- å®šä¹‰ä¸€ä¸ªæ’æ§½(æŒ–ä¸ªå‘, ç­‰ç€ç»„ä»¶çš„ä½¿ç”¨è€…è¿›è¡Œå¡«å……) --&gt;<br>    Â  Â <br>    &lt;slot name=&quot;center&quot;<br>      &gt;æˆ‘æ˜¯ä¸€ä¸ªé»˜è®¤å€¼, å½“ä½¿ç”¨è€…æ²¡æœ‰ä¼ é€’å…·ä½“ç»“æ„æ—¶, æˆ‘ä¼šå‡ºç°1&lt;/slot<br>    &gt;<br>    Â  Â <br>    &lt;slot name=&quot;footer&quot;<br>      &gt;æˆ‘æ˜¯ä¸€ä¸ªé»˜è®¤å€¼, å½“ä½¿ç”¨è€…æ²¡æœ‰ä¼ é€’å…·ä½“ç»“æ„æ—¶, æˆ‘ä¼šå‡ºç°2&lt;/slot<br>    &gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Category&quot;,<br>  props: [&quot;title&quot;],<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.category &#123;<br>Â  background-color: skyblue;<br>Â  width: 200px;<br>Â  height: 300px;<br>&#125;<br>h3 &#123;<br>Â  text-align: center;<br>Â  background-color: orange;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;<br>    Â  Â <br>    &lt;Category title=&quot;ç¾é£Ÿ&quot;&gt;<br>      Â  Â  Â  &lt;img slot=&quot;center&quot; src=&quot;./ç¾é£Ÿ.jpg&quot; alt=&quot;&quot; /&gt; Â  Â  Â <br>      &lt;a slot=&quot;footer&quot; href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;æ›´å¤šç¾é£Ÿ&lt;/a&gt;<br>      Â  Â <br>    &lt;/Category&gt;<br>    Â  Â <br>    &lt;Category title=&quot;æ¸¸æˆ&quot;&gt;<br>      Â  Â  Â <br>      &lt;ul slot=&quot;center&quot;&gt;<br>        Â  Â  Â  Â <br>        &lt;li v-for=&quot;(g, index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123; g &#125;&#125;&lt;/li&gt;<br>        Â  Â  Â <br>      &lt;/ul&gt;<br>      Â  Â  Â <br>      &lt;div slot=&quot;footer&quot; class=&quot;foot&quot;&gt;<br>        Â  Â  Â  Â  &lt;a href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;å•æœºæ¸¸æˆ&lt;/a&gt; Â  Â <br>        Â  Â  &lt;a href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;ç½‘ç»œæ¸¸æˆ&lt;/a&gt; Â  Â  Â <br>      &lt;/div&gt;<br>      Â  Â <br>    &lt;/Category&gt;<br>    Â  Â <br>    &lt;Category title=&quot;ç”µå½±&quot;&gt;<br>      Â  Â  Â <br>      &lt;video<br>        slot=&quot;center&quot;<br>        controls<br>        src=&quot;http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4&quot;<br>      &gt;&lt;/video&gt;<br>      Â  Â  Â <br>      &lt;!-- &lt;template slot=&quot;footer&quot;&gt; --&gt;<br>      Â  Â  Â <br>      &lt;!-- æ³¨æ„v-slot:footeråªèƒ½æ”¾åœ¨templateä¸Š --&gt;<br>      Â  Â  Â <br>      &lt;template v-slot:footer&gt;<br>        Â  Â  Â  Â <br>        &lt;div class=&quot;foot&quot;&gt;<br>          Â  Â  Â  Â  Â  &lt;a href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;ç»å…¸&lt;/a&gt; Â  Â <br>          Â  Â  Â  &lt;a href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;çƒ­é—¨&lt;/a&gt; Â  Â  Â  Â <br>          Â  &lt;a href=&quot;http://www.baidu.com&quot; target=&quot;_blank&quot;&gt;æ¨è&lt;/a&gt; Â  Â  Â  Â <br>        &lt;/div&gt;<br>        Â  Â  Â  Â <br>        &lt;h4&gt;æ¬¢è¿å‰æ¥è§‚å½±&lt;/h4&gt;<br>        Â  Â  Â <br>      &lt;/template&gt;<br>      Â  Â <br>    &lt;/Category&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Category from &quot;./components/Category&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Category,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      foods: [&quot;ç«é”…&quot;, &quot;çƒ§çƒ¤&quot;, &quot;å°é¾™è™¾&quot;, &quot;ç‰›æ’&quot;],<br>      games: [&quot;çº¢è‰²è­¦æˆ’&quot;, &quot;ç©¿è¶Šç«çº¿&quot;, &quot;åŠ²èˆå›¢&quot;, &quot;è¶…çº§ç›ä¸½&quot;],<br>      films: [&quot;ã€Šæ•™çˆ¶ã€‹&quot;, &quot;ã€Šæ‹†å¼¹ä¸“å®¶ã€‹&quot;, &quot;ã€Šä½ å¥½ï¼Œæç„•è‹±ã€‹&quot;, &quot;ã€Šå°šç¡…è°·ã€‹&quot;],<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.container,<br>.foot &#123;<br>Â  display: flex;<br>Â  justify-content: space-around;<br>&#125;<br><br><br>img &#123;<br>Â  width: 100%;<br>&#125;<br>video &#123;<br>Â  width: 100%;<br>&#125;<br>h4 &#123;<br>Â  text-align: center;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> vueResource <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-resource&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(vueResource);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="ä½œç”¨åŸŸæ’æ§½"><a href="#ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="ä½œç”¨åŸŸæ’æ§½"></a>ä½œç”¨åŸŸæ’æ§½</h4><p>Category.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;category&quot;&gt;<br>    Â  Â <br>    &lt;h3&gt;&#123;&#123; title &#125;&#125;åˆ†ç±»&lt;/h3&gt;<br>    Â  Â <br>    &lt;!-- å®šä¹‰ä¸€ä¸ªæ’æ§½(æŒ–ä¸ªå‘, ç­‰ç€ç»„ä»¶çš„ä½¿ç”¨è€…è¿›è¡Œå¡«å……) --&gt;<br>    Â  Â <br>    &lt;slot :games=&quot;games&quot;<br>      &gt;æˆ‘æ˜¯ä¸€ä¸ªé»˜è®¤å€¼, å½“ä½¿ç”¨è€…æ²¡æœ‰ä¼ é€’å…·ä½“ç»“æ„æ—¶, æˆ‘ä¼šå‡ºç°1&lt;/slot<br>    &gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Category&quot;,<br>  props: [&quot;title&quot;],<br>  data() &#123;<br>    return &#123;<br>      games: [&quot;çº¢è‰²è­¦æˆ’&quot;, &quot;ç©¿è¶Šç«çº¿&quot;, &quot;åŠ²èˆå›¢&quot;, &quot;è¶…çº§ç›ä¸½&quot;],<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.category &#123;<br>Â  background-color: skyblue;<br>Â  width: 200px;<br>Â  height: 300px;<br>&#125;<br>h3 &#123;<br>Â  text-align: center;<br>Â  background-color: orange;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;<br>    Â  Â <br>    &lt;!-- æ•°æ®ä¸åœ¨è¿™ä¸ªå½“å‰vueæ–‡ä»¶ä¸­, è€Œåœ¨åˆ«çš„ç»„ä»¶ä¸­, ä½†æ˜¯æƒ³è¦å†³å®šç»„ä»¶ä¸­çš„ç»“æ„, å°±è¦ä½¿ç”¨ä½œç”¨åŸŸæ’æ§½ --&gt;<br>    Â  Â <br>    &lt;Category title=&quot;æ¸¸æˆ&quot;&gt;<br>      Â  Â  Â <br>      &lt;template scope=&quot;atguigu&quot;&gt;<br>        Â  Â  Â  Â <br>        &lt;ul&gt;<br>          Â  Â  Â  Â  Â <br>          &lt;li v-for=&quot;(g, index) in atguigu.games&quot; :key=&quot;index&quot;&gt;&#123;&#123; g &#125;&#125;&lt;/li&gt;<br>          Â  Â  Â  Â <br>        &lt;/ul&gt;<br>        Â  Â  Â <br>      &lt;/template&gt;<br>      Â  Â <br>    &lt;/Category&gt;<br><br>    Â  Â <br>    &lt;Category title=&quot;æ¸¸æˆ&quot;&gt;<br>      Â  Â  Â <br>      &lt;template scope=&quot;&#123;games&#125;&quot;&gt;<br>        Â  Â  Â  Â <br>        &lt;ol&gt;<br>          Â  Â  Â  Â  Â <br>          &lt;li style=&quot;color:red&quot; v-for=&quot;(g, index) in games&quot; :key=&quot;index&quot;&gt;<br>            &#123;&#123; g &#125;&#125;<br>          &lt;/li&gt;<br>          Â  Â  Â  Â <br>        &lt;/ol&gt;<br>        Â  Â  Â <br>      &lt;/template&gt;<br>      Â  Â <br>    &lt;/Category&gt;<br><br>    Â  Â <br>    &lt;Category title=&quot;æ¸¸æˆ&quot;&gt;<br>      Â  Â  Â <br>      &lt;template slot-scope=&quot;&#123; games &#125;&quot;&gt;<br>        Â  Â  Â  Â <br>        &lt;h4 v-for=&quot;(g, index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123; g &#125;&#125;&lt;/h4&gt;<br>        Â  Â  Â <br>      &lt;/template&gt;<br>      Â  Â <br>    &lt;/Category&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Category from &quot;./components/Category&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Category,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.container,<br>.foot &#123;<br>Â  display: flex;<br>Â  justify-content: space-around;<br>&#125;<br><br><br>img &#123;<br>Â  width: 100%;<br>&#125;<br>video &#123;<br>Â  width: 100%;<br>&#125;<br>h4 &#123;<br>Â  text-align: center;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> vueResource <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-resource&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(vueResource);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><p>å¤šç»„ä»¶å…±äº«æ•°æ®â€“å…¨å±€äº‹ä»¶æ€»çº¿å®ç°<br><img src="http://cdn.xiamu.icu//FuMy4PDGENZU1TiC98Pdisx31xaq.png"><br>å¤šç»„ä»¶å…±äº«æ•°æ®â€“vuex å®ç°<br><img src="http://cdn.xiamu.icu//FhetOor1f-3xp5dvNrzcRnlKttJq.png"></p><p>å®‰è£… vuex<br>PS E:\Code\Vue\vue_test&gt; npm i vuex@3<br><strong>æ³¨æ„ vue2 ä¸­, è¦ç”¨ vuex çš„ 3 ç‰ˆæœ¬</strong><br><strong>vue3 ä¸­, è¦ç”¨ vuex çš„ 4 ç‰ˆæœ¬</strong></p><h3 id="1-æ¦‚å¿µ"><a href="#1-æ¦‚å¿µ" class="headerlink" title="1.æ¦‚å¿µ"></a>1.æ¦‚å¿µ</h3><pre><code class="hljs">    åœ¨Vueä¸­å®ç°é›†ä¸­å¼çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†çš„ä¸€ä¸ªVueæ’ä»¶ï¼Œå¯¹vueåº”ç”¨ä¸­å¤šä¸ªç»„ä»¶çš„å…±äº«çŠ¶æ€è¿›è¡Œé›†ä¸­å¼çš„ç®¡ç†ï¼ˆè¯»/å†™ï¼‰ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œä¸”é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚</code></pre><h3 id="2-ä½•æ—¶ä½¿ç”¨ï¼Ÿ"><a href="#2-ä½•æ—¶ä½¿ç”¨ï¼Ÿ" class="headerlink" title="2.ä½•æ—¶ä½¿ç”¨ï¼Ÿ"></a>2.ä½•æ—¶ä½¿ç”¨ï¼Ÿ</h3><pre><code class="hljs">    å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«æ•°æ®æ—¶</code></pre><h3 id="3-æ­å»º-vuex-ç¯å¢ƒ"><a href="#3-æ­å»º-vuex-ç¯å¢ƒ" class="headerlink" title="3.æ­å»º vuex ç¯å¢ƒ"></a>3.æ­å»º vuex ç¯å¢ƒ</h3><ol><li>åˆ›å»ºæ–‡ä»¶ï¼š<code>src/store/index.js</code></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//å¼•å…¥Vueæ ¸å¿ƒåº“</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">//å¼•å…¥Vuex</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><span class="hljs-comment">//åº”ç”¨Vuexæ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><br><span class="hljs-comment">//å‡†å¤‡actionså¯¹è±¡â€”â€”å“åº”ç»„ä»¶ä¸­ç”¨æˆ·çš„åŠ¨ä½œ</span><br><span class="hljs-keyword">const</span> actions = &#123;&#125;;<br><span class="hljs-comment">//å‡†å¤‡mutationså¯¹è±¡â€”â€”ä¿®æ”¹stateä¸­çš„æ•°æ®</span><br><span class="hljs-keyword">const</span> mutations = &#123;&#125;;<br><span class="hljs-comment">//å‡†å¤‡stateå¯¹è±¡â€”â€”ä¿å­˜å…·ä½“çš„æ•°æ®</span><br><span class="hljs-keyword">const</span> state = &#123;&#125;;<br><br><span class="hljs-comment">//åˆ›å»ºå¹¶æš´éœ²store</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  actions,<br>  mutations,<br>  state,<br>&#125;);<br></code></pre></td></tr></table></figure><ol start="2"><li>åœ¨<code>main.js</code>ä¸­åˆ›å»º vm æ—¶ä¼ å…¥<code>store</code>é…ç½®é¡¹</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">......<br><span class="hljs-comment">//å¼•å…¥store</span><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./store&#x27;</span><br>......<br><br><span class="hljs-comment">//åˆ›å»ºvm</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br><span class="hljs-attr">el</span>:<span class="hljs-string">&#x27;#app&#x27;</span>,<br><span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>store<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="4-åŸºæœ¬ä½¿ç”¨"><a href="#4-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="4.åŸºæœ¬ä½¿ç”¨"></a>4.åŸºæœ¬ä½¿ç”¨</h3><ol><li>åˆå§‹åŒ–æ•°æ®ã€é…ç½®<code>actions</code>ã€é…ç½®<code>mutations</code>ï¼Œæ“ä½œæ–‡ä»¶<code>store.js</code></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//å¼•å…¥Vueæ ¸å¿ƒåº“</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">//å¼•å…¥Vuex</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><span class="hljs-comment">//å¼•ç”¨Vuex</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><br><span class="hljs-keyword">const</span> actions = &#123;<br>  <span class="hljs-comment">//å“åº”ç»„ä»¶ä¸­åŠ çš„åŠ¨ä½œ</span><br>  <span class="hljs-title function_">jia</span>(<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-comment">// console.log(&#x27;actionsä¸­çš„jiaè¢«è°ƒç”¨äº†&#x27;,miniStore,value)</span><br>    context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>  &#125;,<br>&#125;;<br><br><span class="hljs-keyword">const</span> mutations = &#123;<br>  <span class="hljs-comment">//æ‰§è¡ŒåŠ </span><br>  <span class="hljs-title function_">JIA</span>(<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-comment">// console.log(&#x27;mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†&#x27;,state,value)</span><br>    state.<span class="hljs-property">sum</span> += value;<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">//åˆå§‹åŒ–æ•°æ®</span><br><span class="hljs-keyword">const</span> state = &#123;<br>  <span class="hljs-attr">sum</span>: <span class="hljs-number">0</span>,<br>&#125;;<br><br><span class="hljs-comment">//åˆ›å»ºå¹¶æš´éœ²store</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  actions,<br>  mutations,<br>  state,<br>&#125;);<br></code></pre></td></tr></table></figure><ol start="2"><li>ç»„ä»¶ä¸­è¯»å– vuex ä¸­çš„æ•°æ®ï¼š<code>$store.state.sum</code></li><li>ç»„ä»¶ä¸­ä¿®æ”¹ vuex ä¸­çš„æ•°æ®ï¼š<code>$store.dispatch(&#39;actionä¸­çš„æ–¹æ³•å&#39;,æ•°æ®)</code> æˆ– <code>$store.commit(&#39;mutationsä¸­çš„æ–¹æ³•å&#39;,æ•°æ®)</code><blockquote><p>å¤‡æ³¨ï¼šè‹¥æ²¡æœ‰ç½‘ç»œè¯·æ±‚æˆ–å…¶ä»–ä¸šåŠ¡é€»è¾‘ï¼Œç»„ä»¶ä¸­ä¹Ÿå¯ä»¥è¶Šè¿‡ actionsï¼Œå³ä¸å†™<code>dispatch</code>ï¼Œç›´æ¥ç¼–å†™<code>commit</code></p></blockquote></li></ol><h3 id="5-getters-çš„ä½¿ç”¨"><a href="#5-getters-çš„ä½¿ç”¨" class="headerlink" title="5.getters çš„ä½¿ç”¨"></a>5.getters çš„ä½¿ç”¨</h3><ol><li>æ¦‚å¿µï¼šå½“ state ä¸­çš„æ•°æ®éœ€è¦ç»è¿‡åŠ å·¥åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ getters åŠ å·¥ã€‚</li><li>åœ¨<code>store.js</code>ä¸­è¿½åŠ <code>getters</code>é…ç½®</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">......<br><br><span class="hljs-keyword">const</span> getters = &#123;<br><span class="hljs-title function_">bigSum</span>(<span class="hljs-params">state</span>)&#123;<br><span class="hljs-keyword">return</span> state.<span class="hljs-property">sum</span> * <span class="hljs-number">10</span><br>&#125;<br>&#125;<br><br><span class="hljs-comment">//åˆ›å»ºå¹¶æš´éœ²store</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>......<br>getters<br>&#125;)<br></code></pre></td></tr></table></figure><ol start="3"><li>ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š<code>$store.getters.bigSum</code></li></ol><h3 id="6-å››ä¸ª-map-æ–¹æ³•çš„ä½¿ç”¨"><a href="#6-å››ä¸ª-map-æ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="6.å››ä¸ª map æ–¹æ³•çš„ä½¿ç”¨"></a>6.å››ä¸ª map æ–¹æ³•çš„ä½¿ç”¨</h3><ol><li><strong>mapState æ–¹æ³•ï¼š</strong>ç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„<code>state</code>ä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">computed</span>: &#123;<br>    <span class="hljs-comment">//å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼šsumã€schoolã€subjectï¼ˆå¯¹è±¡å†™æ³•ï¼‰</span><br>     ...<span class="hljs-title function_">mapState</span>(&#123;<span class="hljs-attr">sum</span>:<span class="hljs-string">&#x27;sum&#x27;</span>,<span class="hljs-attr">school</span>:<span class="hljs-string">&#x27;school&#x27;</span>,<span class="hljs-attr">subject</span>:<span class="hljs-string">&#x27;subject&#x27;</span>&#125;),<br><br>    <span class="hljs-comment">//å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼šsumã€schoolã€subjectï¼ˆæ•°ç»„å†™æ³•ï¼‰</span><br>    ...<span class="hljs-title function_">mapState</span>([<span class="hljs-string">&#x27;sum&#x27;</span>,<span class="hljs-string">&#x27;school&#x27;</span>,<span class="hljs-string">&#x27;subject&#x27;</span>]),<br>&#125;,<br></code></pre></td></tr></table></figure><ol start="2"><li><strong>mapGetters æ–¹æ³•ï¼š</strong>ç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„<code>getters</code>ä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">computed</span>: &#123;<br>    <span class="hljs-comment">//å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼šbigSumï¼ˆå¯¹è±¡å†™æ³•ï¼‰</span><br>    ...<span class="hljs-title function_">mapGetters</span>(&#123;<span class="hljs-attr">bigSum</span>:<span class="hljs-string">&#x27;bigSum&#x27;</span>&#125;),<br><br>    <span class="hljs-comment">//å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼šbigSumï¼ˆæ•°ç»„å†™æ³•ï¼‰</span><br>    ...<span class="hljs-title function_">mapGetters</span>([<span class="hljs-string">&#x27;bigSum&#x27;</span>])<br>&#125;,<br></code></pre></td></tr></table></figure><ol start="3"><li><strong>mapActions æ–¹æ³•ï¼š</strong>ç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸<code>actions</code>å¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«<code>$store.dispatch(xxx)</code>çš„å‡½æ•°</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-comment">//é mapActionsç”Ÿæˆï¼šincrementOddã€incrementWaitï¼ˆå¯¹è±¡å½¢å¼ï¼‰</span><br>    ...<span class="hljs-title function_">mapActions</span>(&#123;<span class="hljs-attr">incrementOdd</span>:<span class="hljs-string">&#x27;jiaOdd&#x27;</span>,<span class="hljs-attr">incrementWait</span>:<span class="hljs-string">&#x27;jiaWait&#x27;</span>&#125;)<br><br>    <span class="hljs-comment">//é mapActionsç”Ÿæˆï¼šincrementOddã€incrementWaitï¼ˆæ•°ç»„å½¢å¼ï¼‰</span><br>    ...<span class="hljs-title function_">mapActions</span>([<span class="hljs-string">&#x27;jiaOdd&#x27;</span>,<span class="hljs-string">&#x27;jiaWait&#x27;</span>])<br>&#125;<br></code></pre></td></tr></table></figure><ol start="4"><li><strong>mapMutations æ–¹æ³•ï¼š</strong>ç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸<code>mutations</code>å¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«<code>$store.commit(xxx)</code>çš„å‡½æ•°</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-comment">//é mapActionsç”Ÿæˆï¼šincrementã€decrementï¼ˆå¯¹è±¡å½¢å¼ï¼‰</span><br>    ...<span class="hljs-title function_">mapMutations</span>(&#123;<span class="hljs-attr">increment</span>:<span class="hljs-string">&#x27;JIA&#x27;</span>,<span class="hljs-attr">decrement</span>:<span class="hljs-string">&#x27;JIAN&#x27;</span>&#125;),<br><br>    <span class="hljs-comment">//é mapMutationsç”Ÿæˆï¼šJIAã€JIANï¼ˆå¯¹è±¡å½¢å¼ï¼‰</span><br>    ...<span class="hljs-title function_">mapMutations</span>([<span class="hljs-string">&#x27;JIA&#x27;</span>,<span class="hljs-string">&#x27;JIAN&#x27;</span>]),<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>å¤‡æ³¨ï¼šmapActions ä¸ mapMutations ä½¿ç”¨æ—¶ï¼Œè‹¥éœ€è¦ä¼ é€’å‚æ•°éœ€è¦ï¼šåœ¨æ¨¡æ¿ä¸­ç»‘å®šäº‹ä»¶æ—¶ä¼ é€’å¥½å‚æ•°ï¼Œå¦åˆ™å‚æ•°æ˜¯äº‹ä»¶å¯¹è±¡ã€‚</p></blockquote><h3 id="7-æ¨¡å—åŒ–-å‘½åç©ºé—´"><a href="#7-æ¨¡å—åŒ–-å‘½åç©ºé—´" class="headerlink" title="7.æ¨¡å—åŒ–+å‘½åç©ºé—´"></a>7.æ¨¡å—åŒ–+å‘½åç©ºé—´</h3><ol><li>ç›®çš„ï¼šè®©ä»£ç æ›´å¥½ç»´æŠ¤ï¼Œè®©å¤šç§æ•°æ®åˆ†ç±»æ›´åŠ æ˜ç¡®ã€‚</li><li>ä¿®æ”¹<code>store.js</code></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> countAbout = &#123;<br>  <span class="hljs-attr">namespaced</span>:<span class="hljs-literal">true</span>,<span class="hljs-comment">//å¼€å¯å‘½åç©ºé—´</span><br>  <span class="hljs-attr">state</span>:&#123;<span class="hljs-attr">x</span>:<span class="hljs-number">1</span>&#125;,<br>  <span class="hljs-attr">mutations</span>: &#123; ... &#125;,<br>  <span class="hljs-attr">actions</span>: &#123; ... &#125;,<br>  <span class="hljs-attr">getters</span>: &#123;<br>    <span class="hljs-title function_">bigSum</span>(<span class="hljs-params">state</span>)&#123;<br>       <span class="hljs-keyword">return</span> state.<span class="hljs-property">sum</span> * <span class="hljs-number">10</span><br>    &#125;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> personAbout = &#123;<br>  <span class="hljs-attr">namespaced</span>:<span class="hljs-literal">true</span>,<span class="hljs-comment">//å¼€å¯å‘½åç©ºé—´</span><br>  <span class="hljs-attr">state</span>:&#123; ... &#125;,<br>  <span class="hljs-attr">mutations</span>: &#123; ... &#125;,<br>  <span class="hljs-attr">actions</span>: &#123; ... &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-attr">modules</span>: &#123;<br>    countAbout,<br>    personAbout<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><ol start="3"><li>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å– state æ•°æ®ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å–</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">personAbout</span>.<span class="hljs-property">list</span><br><span class="hljs-comment">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapStateè¯»å–ï¼š</span><br>...<span class="hljs-title function_">mapState</span>(<span class="hljs-string">&#x27;countAbout&#x27;</span>,[<span class="hljs-string">&#x27;sum&#x27;</span>,<span class="hljs-string">&#x27;school&#x27;</span>,<span class="hljs-string">&#x27;subject&#x27;</span>]),<br></code></pre></td></tr></table></figure><ol start="4"><li>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å– getters æ•°æ®ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å–</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">getters</span>[<span class="hljs-string">&#x27;personAbout/firstPersonName&#x27;</span>]<br><span class="hljs-comment">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapGettersè¯»å–ï¼š</span><br>...<span class="hljs-title function_">mapGetters</span>(<span class="hljs-string">&#x27;countAbout&#x27;</span>,[<span class="hljs-string">&#x27;bigSum&#x27;</span>])<br></code></pre></td></tr></table></figure><ol start="5"><li>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨ dispatch</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥dispatch</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&#x27;personAbout/addPersonWang&#x27;</span>,person)<br><span class="hljs-comment">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapActionsï¼š</span><br>...<span class="hljs-title function_">mapActions</span>(<span class="hljs-string">&#x27;countAbout&#x27;</span>,&#123;<span class="hljs-attr">incrementOdd</span>:<span class="hljs-string">&#x27;jiaOdd&#x27;</span>,<span class="hljs-attr">incrementWait</span>:<span class="hljs-string">&#x27;jiaWait&#x27;</span>&#125;)<br></code></pre></td></tr></table></figure><ol start="6"><li>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨ commit</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥commit</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;personAbout/ADD_PERSON&#x27;</span>,person)<br><span class="hljs-comment">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapMutationsï¼š</span><br>...<span class="hljs-title function_">mapMutations</span>(<span class="hljs-string">&#x27;countAbout&#x27;</span>,&#123;<span class="hljs-attr">increment</span>:<span class="hljs-string">&#x27;JIA&#x27;</span>,<span class="hljs-attr">decrement</span>:<span class="hljs-string">&#x27;JIAN&#x27;</span>&#125;),<br></code></pre></td></tr></table></figure><h3 id="æ±‚å’Œæ¡ˆä¾‹-çº¯-vue-ç‰ˆ"><a href="#æ±‚å’Œæ¡ˆä¾‹-çº¯-vue-ç‰ˆ" class="headerlink" title="æ±‚å’Œæ¡ˆä¾‹_çº¯ vue ç‰ˆ"></a>æ±‚å’Œæ¡ˆä¾‹_çº¯ vue ç‰ˆ</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> vueResource <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-resource&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(vueResource);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;Â  Â  &lt;Count /&gt; Â &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Count from &quot;./components/Count&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Count,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>Count.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;category&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å½“å‰æ±‚å’Œä¸º:&#123;&#123; sum &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;select v-model.number=&quot;n&quot;&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;<br>      Â  Â <br>    &lt;/select&gt;<br>    Â  Â  &lt;button @click=&quot;increament&quot;&gt;+&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;decreament&quot;&gt;-&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentOdd&quot;&gt;å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ &lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentWait&quot;&gt;ç­‰ä¸€ç­‰å†åŠ &lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Count&quot;,<br>  data() &#123;<br>    return &#123;<br>      n: 1,<br>      sum: 0,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    increament() &#123;<br>      this.sum = this.sum + this.n;<br>    &#125;,<br>    decreament() &#123;<br>      this.sum = this.sum - this.n;<br>    &#125;,<br>    increamentOdd() &#123;<br>      if (this.sum % 2) &#123;<br>        this.sum = this.sum + this.n;<br>      &#125;<br>    &#125;,<br>    increamentWait() &#123;<br>      setTimeout(() =&gt; &#123;<br>        this.sum = this.sum + this.n;<br>      &#125;, 500);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>button &#123;<br>Â  margin-left: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="æ±‚å’Œæ¡ˆä¾‹-vuex-ç‰ˆ"><a href="#æ±‚å’Œæ¡ˆä¾‹-vuex-ç‰ˆ" class="headerlink" title="æ±‚å’Œæ¡ˆä¾‹_vuex ç‰ˆ"></a>æ±‚å’Œæ¡ˆä¾‹_vuex ç‰ˆ</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å¼•å…¥Vue</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥App</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> vueResource <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-resource&quot;</span>;<br><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./store&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(vueResource);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-attr">store</span>: store,<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;Â  Â  &lt;Count /&gt; Â &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Count from &quot;./components/Count&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Count,<br>  &#125;,<br>  mounted() &#123;<br>    console.log(&quot;App&quot;, this);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>store&#x2F;index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><br><span class="hljs-comment">// å‡†å¤‡actions--ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ</span><br><span class="hljs-keyword">const</span> actions = &#123;<br>  <span class="hljs-comment">// jia:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jiaè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIA&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-comment">// jian:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jianè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIAN&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-attr">jiaOdd</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaOddè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-keyword">if</span> (context.<span class="hljs-property">state</span>.<span class="hljs-property">sum</span> % <span class="hljs-number">2</span>) &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">jiaWait</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaWaitè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;, <span class="hljs-number">500</span>);<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡actmutations--ç”¨äºæ“ä½œæ•°æ®</span><br><span class="hljs-keyword">const</span> mutations = &#123;<br>  <span class="hljs-attr">JIA</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> + value;<br>  &#125;,<br>  <span class="hljs-attr">JIAN</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIANè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> - value;<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡state--ç”¨äºå­˜å‚¨æ•°æ®</span><br><span class="hljs-keyword">const</span> state = &#123;<br>  <span class="hljs-attr">sum</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// å½“å‰çš„å’Œ</span><br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  actions,<br>  mutations,<br>  state,<br>&#125;);<br></code></pre></td></tr></table></figure><p>components&#x2F;Count.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><br><span class="hljs-comment">// å‡†å¤‡actions--ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ</span><br><span class="hljs-keyword">const</span> actions = &#123;<br>  <span class="hljs-comment">// jia:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jiaè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIA&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-comment">// jian:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jianè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIAN&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-attr">jiaOdd</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaOddè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-keyword">if</span> (context.<span class="hljs-property">state</span>.<span class="hljs-property">sum</span> % <span class="hljs-number">2</span>) &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">jiaWait</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaWaitè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;, <span class="hljs-number">500</span>);<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡actmutations--ç”¨äºæ“ä½œæ•°æ®</span><br><span class="hljs-keyword">const</span> mutations = &#123;<br>  <span class="hljs-attr">JIA</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> + value;<br>  &#125;,<br>  <span class="hljs-attr">JIAN</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIANè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> - value;<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡state--ç”¨äºå­˜å‚¨æ•°æ®</span><br><span class="hljs-keyword">const</span> state = &#123;<br>  <span class="hljs-attr">sum</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// å½“å‰çš„å’Œ</span><br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  actions,<br>  mutations,<br>  state,<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="æ±‚å’Œæ¡ˆä¾‹-getters"><a href="#æ±‚å’Œæ¡ˆä¾‹-getters" class="headerlink" title="æ±‚å’Œæ¡ˆä¾‹_getters"></a>æ±‚å’Œæ¡ˆä¾‹_getters</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å¼•å…¥Vue</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥App</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> vueResource <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-resource&quot;</span>;<br><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./store&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(vueResource);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-attr">store</span>: store,<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;Â  Â  &lt;Count /&gt; Â &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Count from &quot;./components/Count&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Count,<br>  &#125;,<br>  mounted() &#123;<br>    console.log(&quot;App&quot;, this);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>store&#x2F;index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><br><span class="hljs-comment">// å‡†å¤‡actions--ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ</span><br><span class="hljs-keyword">const</span> actions = &#123;<br>  <span class="hljs-comment">// jia:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jiaè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIA&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-comment">// jian:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jianè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIAN&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-attr">jiaOdd</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaOddè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-keyword">if</span> (context.<span class="hljs-property">state</span>.<span class="hljs-property">sum</span> % <span class="hljs-number">2</span>) &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">jiaWait</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaWaitè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;, <span class="hljs-number">500</span>);<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡actmutations--ç”¨äºæ“ä½œæ•°æ®</span><br><span class="hljs-keyword">const</span> mutations = &#123;<br>  <span class="hljs-attr">JIA</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> + value;<br>  &#125;,<br>  <span class="hljs-attr">JIAN</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIANè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> - value;<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡state--ç”¨äºå­˜å‚¨æ•°æ®</span><br><span class="hljs-keyword">const</span> state = &#123;<br>  <span class="hljs-attr">sum</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// å½“å‰çš„å’Œ</span><br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡getters--ç”¨äºå°†stateä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥</span><br><span class="hljs-keyword">const</span> getters = &#123;<br>  <span class="hljs-title function_">bigSum</span>(<span class="hljs-params">state</span>) &#123;<br>    <span class="hljs-keyword">return</span> state.<span class="hljs-property">sum</span> * <span class="hljs-number">10</span>;<br>  &#125;,<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  actions,<br>  mutations,<br>  state,<br>  getters,<br>&#125;);<br></code></pre></td></tr></table></figure><p>components&#x2F;Count.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;category&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å½“å‰æ±‚å’Œä¸º:&#123;&#123; $store.state.sum &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å½“å‰æ±‚å’Œçš„10å€ä¸º:&#123;&#123; $store.getters.bigSum &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;select v-model.number=&quot;n&quot;&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;<br>      Â  Â <br>    &lt;/select&gt;<br>    Â  Â  &lt;button @click=&quot;increament&quot;&gt;+&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;decreament&quot;&gt;-&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentOdd&quot;&gt;å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ &lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentWait&quot;&gt;ç­‰ä¸€ç­‰å†åŠ &lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Count&quot;,<br>  data() &#123;<br>    return &#123;<br>      n: 1,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    increament() &#123;<br>      this.$store.commit(&quot;JIA&quot;, this.n);<br>    &#125;,<br>    decreament() &#123;<br>      this.$store.commit(&quot;JIAN&quot;, this.n);<br>    &#125;,<br>    increamentOdd() &#123;<br>      this.$store.dispatch(&quot;jiaOdd&quot;, this.n);<br>    &#125;,<br>    increamentWait() &#123;<br>      this.$store.dispatch(&quot;jiaWait&quot;, this.n);<br>    &#125;,<br>  &#125;,<br>  mounted() &#123;<br>    console.log(&quot;Count&quot;, this);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>button &#123;<br>Â  margin-left: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="æ±‚å’Œæ¡ˆä¾‹-mapState-ä¸-mapGetters"><a href="#æ±‚å’Œæ¡ˆä¾‹-mapState-ä¸-mapGetters" class="headerlink" title="æ±‚å’Œæ¡ˆä¾‹_mapState ä¸ mapGetters"></a>æ±‚å’Œæ¡ˆä¾‹_mapState ä¸ mapGetters</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å¼•å…¥Vue</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥App</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> vueResource <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-resource&quot;</span>;<br><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./store&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(vueResource);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-attr">store</span>: store,<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;Â  Â  &lt;Count /&gt; Â &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Count from &quot;./components/Count&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Count,<br>  &#125;,<br>  mounted() &#123;<br>    // console.log(&#x27;App&#x27;, this)<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>store&#x2F;index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><br><span class="hljs-comment">// å‡†å¤‡actions--ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ</span><br><span class="hljs-keyword">const</span> actions = &#123;<br>  <span class="hljs-comment">// jia:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jiaè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIA&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-comment">// jian:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jianè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIAN&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-attr">jiaOdd</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaOddè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-keyword">if</span> (context.<span class="hljs-property">state</span>.<span class="hljs-property">sum</span> % <span class="hljs-number">2</span>) &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">jiaWait</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaWaitè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;, <span class="hljs-number">500</span>);<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡actmutations--ç”¨äºæ“ä½œæ•°æ®</span><br><span class="hljs-keyword">const</span> mutations = &#123;<br>  <span class="hljs-attr">JIA</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> + value;<br>  &#125;,<br>  <span class="hljs-attr">JIAN</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIANè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> - value;<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡state--ç”¨äºå­˜å‚¨æ•°æ®</span><br><span class="hljs-keyword">const</span> state = &#123;<br>  <span class="hljs-attr">sum</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// å½“å‰çš„å’Œ</span><br>  <span class="hljs-attr">school</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,<br>  <span class="hljs-attr">subject</span>: <span class="hljs-string">&quot;å‰ç«¯&quot;</span>,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡getters--ç”¨äºå°†stateä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥</span><br><span class="hljs-keyword">const</span> getters = &#123;<br>  <span class="hljs-title function_">bigSum</span>(<span class="hljs-params">state</span>) &#123;<br>    <span class="hljs-keyword">return</span> state.<span class="hljs-property">sum</span> * <span class="hljs-number">10</span>;<br>  &#125;,<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  actions,<br>  mutations,<br>  state,<br>  getters,<br>&#125;);<br></code></pre></td></tr></table></figure><p>components&#x2F;Count.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;category&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å½“å‰æ±‚å’Œä¸º:&#123;&#123; sum &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å½“å‰æ±‚å’Œçš„10å€ä¸º:&#123;&#123; bigSum &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;æˆ‘åœ¨&#123;&#123; school &#125;&#125;, å­¦ä¹ &#123;&#123; subject &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;select v-model.number=&quot;n&quot;&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;<br>      Â  Â <br>    &lt;/select&gt;<br>    Â  Â  &lt;button @click=&quot;increament&quot;&gt;+&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;decreament&quot;&gt;-&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentOdd&quot;&gt;å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ &lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentWait&quot;&gt;ç­‰ä¸€ç­‰å†åŠ &lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; mapState, mapGetters &#125; from &quot;vuex&quot;;<br>export default &#123;<br>  name: &quot;Count&quot;,<br>  data() &#123;<br>    return &#123;<br>      n: 1, //ç”¨æˆ·é€‰æ‹©çš„æ•°å­—<br>    &#125;;<br>  &#125;,<br>  computed: &#123;<br>    //é ç¨‹åºå‘˜è‡ªå·±äº²è‡ªå»å†™è®¡ç®—å±æ€§<br>    /* sum() &#123;<br>Â  Â  Â  return this.$store.state.sum;<br>Â  Â  &#125;,<br>Â  Â  school() &#123;<br>Â  Â  Â  return this.$store.state.school;<br>Â  Â  &#125;,<br>Â  Â  subject() &#123;<br>Â  Â  Â  return this.$store.state.subject;<br>Â  Â  &#125;, */<br><br>    //å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ã€‚ï¼ˆå¯¹è±¡å†™æ³•ï¼‰<br>    // ...mapState(&#123;sum: &#x27;sum&#x27;, school: &#x27;school&#x27;, subject: &#x27;subject&#x27;&#125;),<br><br>    //å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰<br>    ...mapState([<br>      &quot;sum&quot;,<br>      &quot;school&quot;,<br>      &quot;subject&quot;,<br>    ]) /* ***************************************************** */ /* bigSum() &#123;<br>Â  Â  Â  return this.$store.getters.bigSum;<br>Â  Â  &#125;, */, //å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ã€‚ï¼ˆå¯¹è±¡å†™æ³•ï¼‰ // ...mapGetters(&#123;&#x27;bigSum&#x27;: &#x27;bigSum&#x27;&#125;), //å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰<br><br>    ...mapGetters([&quot;bigSum&quot;]),<br>  &#125;,<br>  methods: &#123;<br>    increament() &#123;<br>      this.$store.commit(&quot;JIA&quot;, this.n);<br>    &#125;,<br>    decreament() &#123;<br>      this.$store.commit(&quot;JIAN&quot;, this.n);<br>    &#125;,<br>    increamentOdd() &#123;<br>      this.$store.dispatch(&quot;jiaOdd&quot;, this.n);<br>    &#125;,<br>    increamentWait() &#123;<br>      this.$store.dispatch(&quot;jiaWait&quot;, this.n);<br>    &#125;,<br>  &#125;,<br>  mounted() &#123;<br>    const x = mapState(&#123; sum: &quot;sum&quot;, school: &quot;school&quot;, subject: &quot;subject&quot; &#125;);<br>    console.log(x); // console.log(&quot;Count&quot;, this);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>button &#123;<br>Â  margin-left: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="æ±‚å’Œæ¡ˆä¾‹-mapMutations-ä¸-mapActions"><a href="#æ±‚å’Œæ¡ˆä¾‹-mapMutations-ä¸-mapActions" class="headerlink" title="æ±‚å’Œæ¡ˆä¾‹_mapMutations ä¸ mapActions"></a>æ±‚å’Œæ¡ˆä¾‹_mapMutations ä¸ mapActions</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å¼•å…¥Vue</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥App</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> vueResource <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-resource&quot;</span>;<br><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./store&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(vueResource);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-attr">store</span>: store,<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;Â  Â  &lt;Count /&gt; Â &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Count from &quot;./components/Count&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Count,<br>  &#125;,<br>  mounted() &#123;<br>    // console.log(&#x27;App&#x27;, this)<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>store&#x2F;index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><br><span class="hljs-comment">// å‡†å¤‡actions--ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ</span><br><span class="hljs-keyword">const</span> actions = &#123;<br>  <span class="hljs-comment">// jia:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jiaè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIA&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-comment">// jian:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jianè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIAN&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-attr">jiaOdd</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaOddè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-keyword">if</span> (context.<span class="hljs-property">state</span>.<span class="hljs-property">sum</span> % <span class="hljs-number">2</span>) &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">jiaWait</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaWaitè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;, <span class="hljs-number">500</span>);<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡actmutations--ç”¨äºæ“ä½œæ•°æ®</span><br><span class="hljs-keyword">const</span> mutations = &#123;<br>  <span class="hljs-attr">JIA</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> + value;<br>  &#125;,<br>  <span class="hljs-attr">JIAN</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIANè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> - value;<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡state--ç”¨äºå­˜å‚¨æ•°æ®</span><br><span class="hljs-keyword">const</span> state = &#123;<br>  <span class="hljs-attr">sum</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// å½“å‰çš„å’Œ</span><br>  <span class="hljs-attr">school</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,<br>  <span class="hljs-attr">subject</span>: <span class="hljs-string">&quot;å‰ç«¯&quot;</span>,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡getters--ç”¨äºå°†stateä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥</span><br><span class="hljs-keyword">const</span> getters = &#123;<br>  <span class="hljs-title function_">bigSum</span>(<span class="hljs-params">state</span>) &#123;<br>    <span class="hljs-keyword">return</span> state.<span class="hljs-property">sum</span> * <span class="hljs-number">10</span>;<br>  &#125;,<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  actions,<br>  mutations,<br>  state,<br>  getters,<br>&#125;);<br></code></pre></td></tr></table></figure><p>components&#x2F;Count.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;category&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å½“å‰æ±‚å’Œä¸º:&#123;&#123; sum &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å½“å‰æ±‚å’Œçš„10å€ä¸º:&#123;&#123; bigSum &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;æˆ‘åœ¨&#123;&#123; school &#125;&#125;, å­¦ä¹ &#123;&#123; subject &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;select v-model.number=&quot;n&quot;&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;<br>      Â  Â <br>    &lt;/select&gt;<br>    Â  Â  &lt;button @click=&quot;increament(n)&quot;&gt;+&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;decreament(n)&quot;&gt;-&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentOdd(n)&quot;&gt;å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ &lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentWait(n)&quot;&gt;ç­‰ä¸€ç­‰å†åŠ &lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; mapState, mapGetters, mapMutations, mapActions &#125; from &quot;vuex&quot;;<br>export default &#123;<br>  name: &quot;Count&quot;,<br>  data() &#123;<br>    return &#123;<br>      n: 1, //ç”¨æˆ·é€‰æ‹©çš„æ•°å­—<br>    &#125;;<br>  &#125;,<br>  computed: &#123;<br>    //å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ã€‚ï¼ˆå¯¹è±¡å†™æ³•ï¼‰<br>    // ...mapState(&#123;sum: &#x27;sum&#x27;, school: &#x27;school&#x27;, subject: &#x27;subject&#x27;&#125;),<br><br>    //å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰<br>    ...mapState([<br>      &quot;sum&quot;,<br>      &quot;school&quot;,<br>      &quot;subject&quot;,<br>    ]) /* ***************************************************** */, //å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ã€‚ï¼ˆå¯¹è±¡å†™æ³•ï¼‰ // ...mapGetters(&#123;&#x27;bigSum&#x27;: &#x27;bigSum&#x27;&#125;), //å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰<br><br>    ...mapGetters([&quot;bigSum&quot;]),<br>  &#125;,<br>  methods: &#123;<br>    //ç¨‹åºå‘˜äº²è‡ªå†™æ–¹æ³•<br>    /* increament() &#123;<br>Â  Â  Â  this.$store.commit(&quot;JIA&quot;, this.n);<br>Â  Â  &#125;,<br>Â  Â  decreament() &#123;<br>Â  Â  Â  this.$store.commit(&quot;JIAN&quot;, this.n);<br>Â  Â  &#125;, */<br><br>    // ä¸æ¨èçš„å†™æ³•<br>    /* increament() &#123;<br>Â  Â  Â  this.JIAJIA(this.n);<br>Â  Â  &#125;,<br>Â  Â  decreament() &#123;<br>Â  Â  Â  this.JIANJIAN(this.n);<br>Â  Â  &#125;,<br>Â  Â  ...mapMutations(&#123; JIAJIA: &quot;JIA&quot;, JIANJIAN: &quot;JIAN&quot; &#125;), */<br><br>    // è°ƒç”¨çš„æ—¶å€™éœ€è¦ä¼ å‚, ä¸ä¼ å‚, é»˜è®¤ç»™çš„å‚æ•°å°†ä¼šæ˜¯é¼ æ ‡ç‚¹å‡»äº‹ä»¶<br>    //å€ŸåŠ©mapMutationsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»è”ç³»mutations(å¯¹è±¡å†™æ³•)<br>    ...mapMutations(&#123;<br>      increament: &quot;JIA&quot;,<br>      decreament: &quot;JIAN&quot;,<br>    &#125;) /* **************************************************************** */ /* increamentOdd() &#123; //å€ŸåŠ©mapMutationsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»è”ç³»mutations(æ•°ç»„å†™æ³•) // ...mapMutations([&#x27;JIA&#x27;, &quot;JIAN&quot;]), //ç¨‹åºå‘˜äº²è‡ªå†™æ–¹æ³•<br>Â  Â  Â  this.$store.dispatch(&quot;jiaOdd&quot;, this.n);<br>Â  Â  &#125;,<br>Â  Â  increamentWait() &#123;<br>Â  Â  Â  this.$store.dispatch(&quot;jiaWait&quot;, this.n);<br>Â  Â  &#125;, */, //å€ŸåŠ©mapActionsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨dispatchå»è”ç³»actions(å¯¹è±¡å†™æ³•)<br><br>    ...mapActions(&#123; increamentOdd: &quot;jiaOdd&quot;, increamentWait: &quot;jiaWait&quot; &#125;), //å€ŸåŠ©mapActionsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨dispatchå»è”ç³»actions(æ•°ç»„å†™æ³•) // ...mapActions([&#x27;jiaOdd&#x27;, &#x27;jiaWait&#x27;]),<br>  &#125;,<br>  mounted() &#123;<br>    const x = mapState(&#123; sum: &quot;sum&quot;, school: &quot;school&quot;, subject: &quot;subject&quot; &#125;); // console.log(x);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>button &#123;<br>Â  margin-left: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><h3 id="æ±‚å’Œæ¡ˆä¾‹-å¤šç»„ä»¶å…±äº«æ•°æ®"><a href="#æ±‚å’Œæ¡ˆä¾‹-å¤šç»„ä»¶å…±äº«æ•°æ®" class="headerlink" title="æ±‚å’Œæ¡ˆä¾‹_å¤šç»„ä»¶å…±äº«æ•°æ®"></a>æ±‚å’Œæ¡ˆä¾‹_å¤šç»„ä»¶å…±äº«æ•°æ®</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å¼•å…¥Vue</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥App</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> vueResource <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-resource&quot;</span>;<br><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./store&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(vueResource);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-attr">store</span>: store,<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;<br>    Â  Â  &lt;Count /&gt; Â  Â <br>    &lt;hr /&gt;<br>    Â  Â  &lt;Person /&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Count from &quot;./components/Count&quot;;<br>import Person from &quot;./components/Person&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Count,<br>    Person,<br>  &#125;,<br>  mounted() &#123;<br>    // console.log(&#x27;App&#x27;, this)<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>store&#x2F;index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><br><span class="hljs-comment">// å‡†å¤‡actions--ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ</span><br><span class="hljs-keyword">const</span> actions = &#123;<br>  <span class="hljs-comment">// jia:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jiaè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIA&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-comment">// jian:function(context, value) &#123;</span><br>  <span class="hljs-comment">// Â  Â  console.log(&quot;actionsä¸­çš„jianè¢«è°ƒç”¨äº†&quot;, context, value);</span><br>  <span class="hljs-comment">// Â  Â  context.commit(&quot;JIAN&quot;, value)</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-attr">jiaOdd</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaOddè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-keyword">if</span> (context.<span class="hljs-property">state</span>.<span class="hljs-property">sum</span> % <span class="hljs-number">2</span>) &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">jiaWait</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaWaitè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>    &#125;, <span class="hljs-number">500</span>);<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡actmutations--ç”¨äºæ“ä½œæ•°æ®</span><br><span class="hljs-keyword">const</span> mutations = &#123;<br>  <span class="hljs-attr">JIA</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> + value;<br>  &#125;,<br>  <span class="hljs-attr">JIAN</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIANè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> - value;<br>  &#125;,<br>  <span class="hljs-attr">ADD_PERSON</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„ADD_PERSONè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>    state.<span class="hljs-property">personList</span>.<span class="hljs-title function_">unshift</span>(value);<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡state--ç”¨äºå­˜å‚¨æ•°æ®</span><br><span class="hljs-keyword">const</span> state = &#123;<br>  <span class="hljs-attr">sum</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// å½“å‰çš„å’Œ</span><br>  <span class="hljs-attr">school</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,<br>  <span class="hljs-attr">subject</span>: <span class="hljs-string">&quot;å‰ç«¯&quot;</span>,<br>  <span class="hljs-attr">personList</span>: [&#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span> &#125;],<br>&#125;;<br><br><span class="hljs-comment">// å‡†å¤‡getters--ç”¨äºå°†stateä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥</span><br><span class="hljs-keyword">const</span> getters = &#123;<br>  <span class="hljs-title function_">bigSum</span>(<span class="hljs-params">state</span>) &#123;<br>    <span class="hljs-keyword">return</span> state.<span class="hljs-property">sum</span> * <span class="hljs-number">10</span>;<br>  &#125;,<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  actions,<br>  mutations,<br>  state,<br>  getters,<br>&#125;);<br></code></pre></td></tr></table></figure><p>components&#x2F;Count.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;category&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å½“å‰æ±‚å’Œä¸º:&#123;&#123; sum &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;å½“å‰æ±‚å’Œçš„10å€ä¸º:&#123;&#123; bigSum &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2&gt;æˆ‘åœ¨&#123;&#123; school &#125;&#125;, å­¦ä¹ &#123;&#123; subject &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2 style=&quot;color:red&quot;&gt;Personç»„ä»¶çš„æ€»äººæ•°æ˜¯: &#123;&#123; personList.length &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;select v-model.number=&quot;n&quot;&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;<br>      Â  Â <br>    &lt;/select&gt;<br>    Â  Â  &lt;button @click=&quot;increament(n)&quot;&gt;+&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;decreament(n)&quot;&gt;-&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentOdd(n)&quot;&gt;å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ &lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentWait(n)&quot;&gt;ç­‰ä¸€ç­‰å†åŠ &lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; mapState, mapGetters, mapMutations, mapActions &#125; from &quot;vuex&quot;;<br>export default &#123;<br>  name: &quot;Count&quot;,<br>  data() &#123;<br>    return &#123;<br>      n: 1, //ç”¨æˆ·é€‰æ‹©çš„æ•°å­—<br>    &#125;;<br>  &#125;,<br>  computed: &#123;<br>    //å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ã€‚ï¼ˆå¯¹è±¡å†™æ³•ï¼‰<br>    // ...mapState(&#123;sum: &#x27;sum&#x27;, school: &#x27;school&#x27;, subject: &#x27;subject&#x27;&#125;),<br><br>    //å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰<br>    ...mapState([<br>      &quot;sum&quot;,<br>      &quot;school&quot;,<br>      &quot;subject&quot;,<br>      &quot;personList&quot;,<br>    ]) /* ***************************************************** */, //å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ã€‚ï¼ˆå¯¹è±¡å†™æ³•ï¼‰ // ...mapGetters(&#123;&#x27;bigSum&#x27;: &#x27;bigSum&#x27;&#125;), //å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰<br><br>    ...mapGetters([&quot;bigSum&quot;]),<br>  &#125;,<br>  methods: &#123;<br>    //å€ŸåŠ©mapMutationsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»è”ç³»mutations(å¯¹è±¡å†™æ³•)<br>    ...mapMutations(&#123; increament: &quot;JIA&quot;, decreament: &quot;JIAN&quot; &#125;), //å€ŸåŠ©mapMutationsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»è”ç³»mutations(æ•°ç»„å†™æ³•) // ...mapMutations([&#x27;JIA&#x27;, &quot;JIAN&quot;]), //å€ŸåŠ©mapActionsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨dispatchå»è”ç³»actions(å¯¹è±¡å†™æ³•)<br><br>    ...mapActions(&#123; increamentOdd: &quot;jiaOdd&quot;, increamentWait: &quot;jiaWait&quot; &#125;), //å€ŸåŠ©mapActionsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨dispatchå»è”ç³»actions(æ•°ç»„å†™æ³•) // ...mapActions([&#x27;jiaOdd&#x27;, &#x27;jiaWait&#x27;]),<br>  &#125;,<br>  mounted() &#123;<br>    const x = mapState(&#123; sum: &quot;sum&quot;, school: &quot;school&quot;, subject: &quot;subject&quot; &#125;); // console.log(x);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>button &#123;<br>Â  margin-left: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>components&#x2F;Person.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div&gt;<br>    Â  Â <br>    &lt;h2&gt;äººå‘˜åˆ—è¡¨&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2 style=&quot;color: red&quot;&gt;Countç»„ä»¶çš„æ±‚å’Œä¸º: &#123;&#123; sum &#125;&#125;&lt;/h2&gt;<br>    Â  Â  &lt;input type=&quot;text&quot; placeholder=&quot;è¯·è¾“å…¥åå­—&quot; v-model=&quot;name&quot; /&gt; Â  Â <br>    &lt;button @click=&quot;add&quot;&gt;æ·»åŠ &lt;/button&gt; Â  Â <br>    &lt;ul&gt;<br>      Â  Â  Â <br>      &lt;li v-for=&quot;p in personList&quot; :key=&quot;p.id&quot;&gt;&#123;&#123; p.name &#125;&#125;&lt;/li&gt;<br>      Â  Â <br>    &lt;/ul&gt;<br>    Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; nanoid &#125; from &quot;nanoid&quot;;<br>export default &#123;<br>  name: &quot;Person&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;&quot;,<br>    &#125;;<br>  &#125;,<br>  computed: &#123;<br>    personList() &#123;<br>      return this.$store.state.personList;<br>    &#125;,<br>    sum() &#123;<br>      return this.$store.state.sum;<br>    &#125;,<br>  &#125;,<br>  methods: &#123;<br>    add() &#123;<br>      const personObj = &#123; id: nanoid(), name: this.name &#125;; // console.log(personObj);<br>      this.$store.commit(&quot;ADD_PERSON&quot;, personObj);<br>      this.name = &quot;&quot;;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="æ±‚å’Œæ¡ˆä¾‹-vuex-æ¨¡å—åŒ–ç¼–ç "><a href="#æ±‚å’Œæ¡ˆä¾‹-vuex-æ¨¡å—åŒ–ç¼–ç " class="headerlink" title="æ±‚å’Œæ¡ˆä¾‹_vuex æ¨¡å—åŒ–ç¼–ç "></a>æ±‚å’Œæ¡ˆä¾‹_vuex æ¨¡å—åŒ–ç¼–ç </h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å¼•å…¥Vue</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥App</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// å¼•å…¥æ’ä»¶</span><br><span class="hljs-keyword">import</span> vueResource <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-resource&quot;</span>;<br><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./store&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(vueResource);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-attr">store</span>: store,<br>  <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-variable language_">this</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;container&quot;&gt;<br>    Â  Â  &lt;Count /&gt; Â  Â <br>    &lt;hr /&gt;<br>    Â  Â  &lt;Person /&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Count from &quot;./components/Count&quot;;<br>import Person from &quot;./components/Person&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Count,<br>    Person,<br>  &#125;,<br>  mounted() &#123;<br>    // console.log(&#x27;App&#x27;, this)<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>store&#x2F;index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><span class="hljs-keyword">import</span> countOptions <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./count&quot;</span>;<br><span class="hljs-keyword">import</span> personOptions <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./person&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-attr">modules</span>: &#123;<br>    <span class="hljs-attr">countAbout</span>: countOptions,<br>    <span class="hljs-attr">personAbout</span>: personOptions,<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><p>store&#x2F;count.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æ±‚å’Œç›¸å…³çš„é…ç½®</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">namespaced</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-attr">jiaOdd</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaOddè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>      <span class="hljs-keyword">if</span> (context.<span class="hljs-property">state</span>.<span class="hljs-property">sum</span> % <span class="hljs-number">2</span>) &#123;<br>        context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>      &#125;<br>    &#125;,<br>    <span class="hljs-attr">jiaWait</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">context, value</span>) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;actionsä¸­çš„jiaWaitè¢«è°ƒç”¨äº†&quot;</span>, context, value);<br>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;JIA&quot;</span>, value);<br>      &#125;, <span class="hljs-number">500</span>);<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">mutations</span>: &#123;<br>    <span class="hljs-attr">JIA</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>      state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> + value;<br>    &#125;,<br>    <span class="hljs-attr">JIAN</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„JIANè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>      state.<span class="hljs-property">sum</span> = state.<span class="hljs-property">sum</span> - value;<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">state</span>: &#123;<br>    <span class="hljs-attr">sum</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// å½“å‰çš„å’Œ</span><br>    <span class="hljs-attr">school</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,<br>    <span class="hljs-attr">subject</span>: <span class="hljs-string">&quot;å‰ç«¯&quot;</span>,<br>  &#125;,<br>  <span class="hljs-attr">getters</span>: &#123;<br>    <span class="hljs-title function_">bigSum</span>(<span class="hljs-params">state</span>) &#123;<br>      <span class="hljs-keyword">return</span> state.<span class="hljs-property">sum</span> * <span class="hljs-number">10</span>;<br>    &#125;,<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>store&#x2F;person.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//äººå‘˜ç®¡ç†ç›¸å…³çš„é…ç½®</span><br><span class="hljs-keyword">import</span> &#123; nanoid &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;nanoid&quot;</span>;<br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;axios&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">namespaced</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-title function_">addPersonWang</span>(<span class="hljs-params">context, value</span>) &#123;<br>      <span class="hljs-keyword">if</span> (value.<span class="hljs-property">name</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot;ç‹&quot;</span>) === <span class="hljs-number">0</span>) &#123;<br>        context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;ADD_PERSON&quot;</span>, value);<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;è¯·æ·»åŠ ä¸€ä¸ªå§“ç‹çš„äºº&quot;</span>);<br>      &#125;<br>    &#125;,<br>    <span class="hljs-title function_">addPersonServer</span>(<span class="hljs-params">context</span>) &#123;<br>      axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;https://api.uixsj.cn/hitokoto/get?type=social&quot;</span>).<span class="hljs-title function_">then</span>(<br>        <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> &#123;<br>          context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;ADD_PERSON&quot;</span>, &#123; <span class="hljs-attr">id</span>: <span class="hljs-title function_">nanoid</span>(), <span class="hljs-attr">name</span>: response.<span class="hljs-property">data</span> &#125;);<br>        &#125;,<br>        <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>          <span class="hljs-title function_">alert</span>(error.<span class="hljs-property">message</span>);<br>        &#125;<br>      );<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">mutations</span>: &#123;<br>    <span class="hljs-attr">ADD_PERSON</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">state, value</span>) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mutationsä¸­çš„ADD_PERSONè¢«è°ƒç”¨äº†&quot;</span>, state, value);<br>      state.<span class="hljs-property">personList</span>.<span class="hljs-title function_">unshift</span>(value);<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">state</span>: &#123;<br>    <span class="hljs-attr">personList</span>: [&#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span> &#125;],<br>  &#125;,<br>  <span class="hljs-attr">getters</span>: &#123;<br>    <span class="hljs-title function_">firstPersonName</span>(<span class="hljs-params">state</span>) &#123;<br>      <span class="hljs-keyword">return</span> state.<span class="hljs-property">personList</span>[<span class="hljs-number">0</span>].<span class="hljs-property">name</span>;<br>    &#125;,<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>components&#x2F;Count.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  Â <br>  &lt;div class=&quot;category&quot;&gt;<br>    Â  Â <br>    &lt;h2&gt;å½“å‰æ±‚å’Œä¸º:&#123;&#123; sum &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;!-- &lt;h2&gt;å½“å‰æ±‚å’Œçš„10å€ä¸º:&#123;&#123; bigSum &#125;&#125;&lt;/h2&gt; --&gt;<br>    Â  Â <br>    &lt;h2&gt;æˆ‘åœ¨&#123;&#123; school &#125;&#125;, å­¦ä¹ &#123;&#123; subject &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;h2 style=&quot;color:red&quot;&gt;Personç»„ä»¶çš„æ€»äººæ•°æ˜¯: &#123;&#123; personList.length &#125;&#125;&lt;/h2&gt;<br>    Â  Â <br>    &lt;select v-model.number=&quot;n&quot;&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;<br>      Â  Â  Â <br>      &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;<br>      Â  Â <br>    &lt;/select&gt;<br>    Â  Â  &lt;button @click=&quot;increament(n)&quot;&gt;+&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;decreament(n)&quot;&gt;-&lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentOdd(n)&quot;&gt;å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ &lt;/button&gt; Â  Â <br>    &lt;button @click=&quot;increamentWait(n)&quot;&gt;ç­‰ä¸€ç­‰å†åŠ &lt;/button&gt; Â <br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; mapState, mapGetters, mapMutations, mapActions &#125; from &quot;vuex&quot;;<br>export default &#123;<br>  name: &quot;Count&quot;,<br>  data() &#123;<br>    return &#123;<br>      n: 1, //ç”¨æˆ·é€‰æ‹©çš„æ•°å­—<br>    &#125;;<br>  &#125;,<br>  computed: &#123;<br>    //å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ã€‚ï¼ˆå¯¹è±¡å†™æ³•ï¼‰<br>    // ...mapState(&#123;sum: &#x27;sum&#x27;, school: &#x27;school&#x27;, subject: &#x27;subject&#x27;&#125;),<br><br>    //å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰<br>    ...mapState(&quot;countAbout&quot;, [&quot;sum&quot;, &quot;school&quot;, &quot;subject&quot;]),<br>    ...mapState(&quot;personAbout&quot;, [<br>      &quot;personList&quot;,<br>    ]) /* ***************************************************** */, //å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ã€‚ï¼ˆå¯¹è±¡å†™æ³•ï¼‰ // ...mapGetters(&#123;&#x27;bigSum&#x27;: &#x27;bigSum&#x27;&#125;), //å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ã€‚ï¼ˆæ•°ç»„å†™æ³•ï¼‰ // ...mapGetters([&quot;bigSum&quot;]),<br>  &#125;,<br>  methods: &#123;<br>    //å€ŸåŠ©mapMutationsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»è”ç³»mutations(å¯¹è±¡å†™æ³•)<br>    ...mapMutations(&quot;countAbout&quot;, &#123; increament: &quot;JIA&quot;, decreament: &quot;JIAN&quot; &#125;), //å€ŸåŠ©mapMutationsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»è”ç³»mutations(æ•°ç»„å†™æ³•) // ...mapMutations([&#x27;JIA&#x27;, &quot;JIAN&quot;]), //å€ŸåŠ©mapActionsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨dispatchå»è”ç³»actions(å¯¹è±¡å†™æ³•)<br><br>    ...mapActions(&quot;countAbout&quot;, &#123;<br>      increamentOdd: &quot;jiaOdd&quot;,<br>      increamentWait: &quot;jiaWait&quot;,<br>    &#125;), //å€ŸåŠ©mapActionsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨dispatchå»è”ç³»actions(æ•°ç»„å†™æ³•) // ...mapActions([&#x27;jiaOdd&#x27;, &#x27;jiaWait&#x27;]),<br>  &#125;,<br>  mounted() &#123;<br>    // const x = mapState(&#123; sum: &quot;sum&quot;, school: &quot;school&quot;, subject: &quot;subject&quot; &#125;);<br>    console.log(this.$store);<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>button &#123;<br>Â  margin-left: 5px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>components&#x2F;Person.js</p><h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><p><img src="http://cdn.xiamu.icu//FiqIKtuzebXqZRSTvkn-aJAU8tMO.png"><br><img src="http://cdn.xiamu.icu//Fpge1Ng9VZ77iS201NfdfyUhxb-f.png"><br><img src="http://cdn.xiamu.icu//Fuv9vrT_ZH-JO_YVhWdP-thig-af.png"><br>å¼•å…¥ vue-router<br>vue çš„ä¸€ä¸ªæ’ä»¶åº“, ä¸“é—¨ç”¨æ¥å®ç° SPA åº”ç”¨</p><p>2022 å¹´ 2 æœˆ 7 æ—¥ä»¥å, vue-router çš„é»˜è®¤ç‰ˆæœ¬, ä¸º 4 ç‰ˆæœ¬<br>vue-router4 åªèƒ½ç”¨åœ¨ vue3 ä¸­ä½¿ç”¨<br>vue-router3 æ‰, èƒ½ç”¨åœ¨ vue2 ä¸­<br>æ­¤æ—¶ç»ƒä¹ çš„ç¯å¢ƒæ˜¯ vue2, æ‰€ä»¥æˆ‘ä»¬å®‰è£… vue-router3 ç‰ˆæœ¬<br>E:\Code\Vue\vue_test&gt; npm i vue-router@3</p><ol><li>ç†è§£ï¼š ä¸€ä¸ªè·¯ç”±ï¼ˆrouteï¼‰å°±æ˜¯ä¸€ç»„æ˜ å°„å…³ç³»ï¼ˆkey - valueï¼‰ï¼Œå¤šä¸ªè·¯ç”±éœ€è¦è·¯ç”±å™¨ï¼ˆrouterï¼‰è¿›è¡Œç®¡ç†ã€‚</li><li>å‰ç«¯è·¯ç”±ï¼škey æ˜¯è·¯å¾„ï¼Œvalue æ˜¯ç»„ä»¶ã€‚</li></ol><h3 id="1-åŸºæœ¬ä½¿ç”¨"><a href="#1-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.åŸºæœ¬ä½¿ç”¨"></a>1.åŸºæœ¬ä½¿ç”¨</h3><ol><li>å®‰è£… vue-routerï¼Œå‘½ä»¤ï¼š<code>npm i vue-router</code></li><li>åº”ç”¨æ’ä»¶ï¼š<code>Vue.use(VueRouter)</code></li><li>ç¼–å†™ router é…ç½®é¡¹:</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//å¼•å…¥VueRouter</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span>;<br><span class="hljs-comment">//å¼•å…¥Luyou ç»„ä»¶</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../components/About&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../components/Home&quot;</span>;<br><br><span class="hljs-comment">//åˆ›å»ºrouterå®ä¾‹å¯¹è±¡ï¼Œå»ç®¡ç†ä¸€ç»„ä¸€ç»„çš„è·¯ç”±è§„åˆ™</span><br><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>  <span class="hljs-attr">routes</span>: [<br>    &#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/about&quot;</span>,<br>      <span class="hljs-attr">component</span>: <span class="hljs-title class_">About</span>,<br>    &#125;,<br>    &#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/home&quot;</span>,<br>      <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span>,<br>    &#125;,<br>  ],<br>&#125;);<br><br><span class="hljs-comment">//æš´éœ²router</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure><ol start="4"><li>å®ç°åˆ‡æ¢ï¼ˆactive-class å¯é…ç½®é«˜äº®æ ·å¼ï¼‰</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;router-link active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;<br></code></pre></td></tr></table></figure><ol start="5"><li>æŒ‡å®šå±•ç¤ºä½ç½®</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;router-view&gt;&lt;/router-view&gt;<br></code></pre></td></tr></table></figure><h3 id="2-å‡ ä¸ªæ³¨æ„ç‚¹"><a href="#2-å‡ ä¸ªæ³¨æ„ç‚¹" class="headerlink" title="2.å‡ ä¸ªæ³¨æ„ç‚¹"></a>2.å‡ ä¸ªæ³¨æ„ç‚¹</h3><ol><li>è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>pages</code>æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>components</code>æ–‡ä»¶å¤¹ã€‚</li><li>é€šè¿‡åˆ‡æ¢ï¼Œâ€œéšè—â€äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«é”€æ¯æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»æŒ‚è½½ã€‚</li><li>æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„<code>$route</code>å±æ€§ï¼Œé‡Œé¢å­˜å‚¨ç€è‡ªå·±çš„è·¯ç”±ä¿¡æ¯ã€‚</li><li>æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ª routerï¼Œå¯ä»¥é€šè¿‡ç»„ä»¶çš„<code>$router</code>å±æ€§è·å–åˆ°ã€‚</li></ol><h3 id="3-å¤šçº§è·¯ç”±ï¼ˆå¤šçº§è·¯ç”±ï¼‰"><a href="#3-å¤šçº§è·¯ç”±ï¼ˆå¤šçº§è·¯ç”±ï¼‰" class="headerlink" title="3.å¤šçº§è·¯ç”±ï¼ˆå¤šçº§è·¯ç”±ï¼‰"></a>3.å¤šçº§è·¯ç”±ï¼ˆå¤šçº§è·¯ç”±ï¼‰</h3><ol><li>é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨ children é…ç½®é¡¹ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">routes</span>: [<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/about&quot;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-title class_">About</span>,<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/home&quot;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span>,<br>    <span class="hljs-attr">children</span>: [<br>      <span class="hljs-comment">//é€šè¿‡childrené…ç½®å­çº§è·¯ç”±</span><br>      &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;news&quot;</span>, <span class="hljs-comment">//æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼š/news</span><br>        <span class="hljs-attr">component</span>: <span class="hljs-title class_">News</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;message&quot;</span>, <span class="hljs-comment">//æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼š/message</span><br>        <span class="hljs-attr">component</span>: <span class="hljs-title class_">Message</span>,<br>      &#125;,<br>    ],<br>  &#125;,<br>];<br></code></pre></td></tr></table></figure><ol start="2"><li>è·³è½¬ï¼ˆè¦å†™å®Œæ•´è·¯å¾„ï¼‰ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;router-link to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;<br></code></pre></td></tr></table></figure><h3 id="4-è·¯ç”±çš„-query-å‚æ•°"><a href="#4-è·¯ç”±çš„-query-å‚æ•°" class="headerlink" title="4.è·¯ç”±çš„ query å‚æ•°"></a>4.è·¯ç”±çš„ query å‚æ•°</h3><ol><li>ä¼ é€’å‚æ•°</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;<br>&lt;router-link :to=&quot;/home/message/detail?id=666&amp;title=ä½ å¥½&quot;&gt;è·³è½¬&lt;/router-link&gt;<br><br>&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³• --&gt;<br>&lt;router-link<br>  :to=&quot;&#123;<br>    path: &#x27;/home/message/detail&#x27;,<br>    query: &#123;<br>      id: 666,<br>      title: &#x27;ä½ å¥½&#x27;,<br>    &#125;,<br>  &#125;&quot;<br>&gt;è·³è½¬&lt;/router-link&gt;<br></code></pre></td></tr></table></figure><ol start="2"><li>æ¥æ”¶å‚æ•°ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$route.<span class="hljs-property">query</span>.<span class="hljs-property">id</span>;<br>$route.<span class="hljs-property">query</span>.<span class="hljs-property">title</span>;<br></code></pre></td></tr></table></figure><h3 id="5-å‘½åè·¯ç”±"><a href="#5-å‘½åè·¯ç”±" class="headerlink" title="5.å‘½åè·¯ç”±"></a>5.å‘½åè·¯ç”±</h3><ol><li>ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±çš„è·³è½¬ã€‚</li><li>å¦‚ä½•ä½¿ç”¨</li><li>ç»™è·¯ç”±å‘½åï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/demo&#x27;</span>,<br><span class="hljs-attr">component</span>:<span class="hljs-title class_">Demo</span>,<br><span class="hljs-attr">children</span>:[<br>&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;test&#x27;</span>,<br><span class="hljs-attr">component</span>:<span class="hljs-title class_">Test</span>,<br><span class="hljs-attr">children</span>:[<br>&#123;<br>                      <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;hello&#x27;</span> <span class="hljs-comment">//ç»™è·¯ç”±å‘½å</span><br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;welcome&#x27;</span>,<br><span class="hljs-attr">component</span>:<span class="hljs-title class_">Hello</span>,<br>&#125;<br>]<br>&#125;<br>]<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>ç®€åŒ–è·³è½¬ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!--ç®€åŒ–å‰ï¼Œéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ --&gt;<br>&lt;router-link to=&quot;/demo/test/welcome&quot;&gt;è·³è½¬&lt;/router-link&gt;<br><br>&lt;!--ç®€åŒ–åï¼Œç›´æ¥é€šè¿‡åå­—è·³è½¬ --&gt;<br>&lt;router-link :to=&quot;&#123; name: &#x27;hello&#x27; &#125;&quot;&gt;è·³è½¬&lt;/router-link&gt;<br><br>&lt;!--ç®€åŒ–å†™æ³•é…åˆä¼ é€’å‚æ•° --&gt;<br>&lt;router-link<br>  :to=&quot;&#123;<br>    name: &#x27;hello&#x27;,<br>    query: &#123;<br>      id: 666,<br>      title: &#x27;ä½ å¥½&#x27;,<br>    &#125;,<br>  &#125;&quot;<br>&gt;è·³è½¬&lt;/router-link&gt;<br></code></pre></td></tr></table></figure><h3 id="6-è·¯ç”±çš„-params-å‚æ•°"><a href="#6-è·¯ç”±çš„-params-å‚æ•°" class="headerlink" title="6.è·¯ç”±çš„ params å‚æ•°"></a>6.è·¯ç”±çš„ params å‚æ•°</h3><ol><li>é…ç½®è·¯ç”±ï¼Œå£°æ˜æ¥æ”¶ params å‚æ•°</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/home&#x27;</span>,<br><span class="hljs-attr">component</span>:<span class="hljs-title class_">Home</span>,<br><span class="hljs-attr">children</span>:[<br>&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;news&#x27;</span>,<br><span class="hljs-attr">component</span>:<span class="hljs-title class_">News</span><br>&#125;,<br>&#123;<br><span class="hljs-attr">component</span>:<span class="hljs-title class_">Message</span>,<br><span class="hljs-attr">children</span>:[<br>&#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;xiangqing&#x27;</span>,<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;detail/:id/:title&#x27;</span>, <span class="hljs-comment">//ä½¿ç”¨å ä½ç¬¦å£°æ˜æ¥æ”¶paramså‚æ•°</span><br><span class="hljs-attr">component</span>:<span class="hljs-title class_">Detail</span><br>&#125;<br>]<br>&#125;<br>]<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>ä¼ é€’å‚æ•°</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;<br>&lt;router-link :to=&quot;/home/message/detail/666/ä½ å¥½&quot;&gt;è·³è½¬&lt;/router-link&gt;<br><br>&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³• --&gt;<br>&lt;router-link<br>  :to=&quot;&#123;<br>    name: &#x27;xiangqing&#x27;,<br>    params: &#123;<br>      id: 666,<br>      title: &#x27;ä½ å¥½&#x27;,<br>    &#125;,<br>  &#125;&quot;<br>&gt;è·³è½¬&lt;/router-link&gt;<br></code></pre></td></tr></table></figure><ol start="3"><li>æ¥æ”¶å‚æ•°ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$route.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>;<br>$route.<span class="hljs-property">params</span>.<span class="hljs-property">title</span>;<br></code></pre></td></tr></table></figure><h3 id="7-è·¯ç”±çš„-props-é…ç½®"><a href="#7-è·¯ç”±çš„-props-é…ç½®" class="headerlink" title="7.è·¯ç”±çš„ props é…ç½®"></a>7.è·¯ç”±çš„ props é…ç½®</h3><pre><code class="hljs">ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;xiangqing&#x27;</span>,<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;detail/:id&#x27;</span>,<br><span class="hljs-attr">component</span>:<span class="hljs-title class_">Detail</span>,<br><br><span class="hljs-comment">//ç¬¬ä¸€ç§å†™æ³•ï¼špropså€¼ä¸ºå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­æ‰€æœ‰çš„key-valueçš„ç»„åˆæœ€ç»ˆéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶</span><br><span class="hljs-comment">// props:&#123;a:900&#125;</span><br><br><span class="hljs-comment">//ç¬¬äºŒç§å†™æ³•ï¼špropså€¼ä¸ºå¸ƒå°”å€¼ï¼Œå¸ƒå°”å€¼ä¸ºtrueï¼Œåˆ™æŠŠè·¯ç”±æ”¶åˆ°çš„æ‰€æœ‰paramså‚æ•°é€šè¿‡propsä¼ ç»™Detailç»„ä»¶</span><br><span class="hljs-comment">// props:true</span><br><br><span class="hljs-comment">//ç¬¬ä¸‰ç§å†™æ³•ï¼špropså€¼ä¸ºå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶</span><br><span class="hljs-title function_">props</span>(<span class="hljs-params">route</span>)&#123;<br><span class="hljs-keyword">return</span> &#123;<br><span class="hljs-attr">id</span>:route.<span class="hljs-property">query</span>.<span class="hljs-property">id</span>,<br><span class="hljs-attr">title</span>:route.<span class="hljs-property">query</span>.<span class="hljs-property">title</span><br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="8-lt-router-link-gt-çš„-replace-å±æ€§"><a href="#8-lt-router-link-gt-çš„-replace-å±æ€§" class="headerlink" title="8.&lt;router-link&gt;çš„ replace å±æ€§"></a>8.<code>&lt;router-link&gt;</code>çš„ replace å±æ€§</h3><ol><li>ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼</li><li>æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸º<code>push</code>å’Œ<code>replace</code>ï¼Œ<code>push</code>æ˜¯è¿½åŠ å†å²è®°å½•ï¼Œ<code>replace</code>æ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚è·¯ç”±è·³è½¬æ—¶å€™é»˜è®¤ä¸º<code>push</code></li><li>å¦‚ä½•å¼€å¯<code>replace</code>æ¨¡å¼ï¼š<code>&lt;router-link replace .......&gt;News&lt;/router-link&gt;</code></li></ol><h3 id="9-ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª"><a href="#9-ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª" class="headerlink" title="9.ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª"></a>9.ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª</h3><ol><li>ä½œç”¨ï¼šä¸å€ŸåŠ©<code>&lt;router-link&gt;</code>å®ç°è·¯ç”±è·³è½¬ï¼Œè®©è·¯ç”±è·³è½¬æ›´åŠ çµæ´»</li><li>å…·ä½“ç¼–ç ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//$routerçš„ä¸¤ä¸ªAPI</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">push</span>(&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;xiangqing&quot;</span>,<br>  <span class="hljs-attr">params</span>: &#123;<br>    <span class="hljs-attr">id</span>: xxx,<br>    <span class="hljs-attr">title</span>: xxx,<br>  &#125;,<br>&#125;);<br><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">replace</span>(&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;xiangqing&quot;</span>,<br>  <span class="hljs-attr">params</span>: &#123;<br>    <span class="hljs-attr">id</span>: xxx,<br>    <span class="hljs-attr">title</span>: xxx,<br>  &#125;,<br>&#125;);<br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">forward</span>(); <span class="hljs-comment">//å‰è¿›</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">back</span>(); <span class="hljs-comment">//åé€€</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">go</span>(); <span class="hljs-comment">//å¯å‰è¿›ä¹Ÿå¯åé€€</span><br></code></pre></td></tr></table></figure><h3 id="10-ç¼“å­˜è·¯ç”±ç»„ä»¶"><a href="#10-ç¼“å­˜è·¯ç”±ç»„ä»¶" class="headerlink" title="10.ç¼“å­˜è·¯ç”±ç»„ä»¶"></a>10.ç¼“å­˜è·¯ç”±ç»„ä»¶</h3><ol><li>ä½œç”¨ï¼šè®©ä¸å±•ç¤ºçš„è·¯ç”±ç»„ä»¶ä¿æŒæŒ‚è½½ï¼Œä¸è¢«é”€æ¯ã€‚</li><li>å…·ä½“ç¼–ç ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;keep-alive include=&quot;News&quot;&gt; <br>    &lt;router-view&gt;&lt;/router-view&gt;<br>&lt;/keep-alive&gt;<br></code></pre></td></tr></table></figure><h3 id="11-ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­"><a href="#11-ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­" class="headerlink" title="11.ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­"></a>11.ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</h3><ol><li>ä½œç”¨ï¼šè·¯ç”±ç»„ä»¶æ‰€ç‹¬æœ‰çš„ä¸¤ä¸ªé’©å­ï¼Œç”¨äºæ•è·è·¯ç”±ç»„ä»¶çš„æ¿€æ´»çŠ¶æ€ã€‚</li><li>å…·ä½“åå­—ï¼š<ol><li><code>activated</code>è·¯ç”±ç»„ä»¶è¢«æ¿€æ´»æ—¶è§¦å‘ã€‚</li><li><code>deactivated</code>è·¯ç”±ç»„ä»¶å¤±æ´»æ—¶è§¦å‘ã€‚</li></ol></li></ol><h3 id="12-è·¯ç”±å®ˆå«"><a href="#12-è·¯ç”±å®ˆå«" class="headerlink" title="12.è·¯ç”±å®ˆå«"></a>12.è·¯ç”±å®ˆå«</h3><ol><li>ä½œç”¨ï¼šå¯¹è·¯ç”±è¿›è¡Œæƒé™æ§åˆ¶</li><li>åˆ†ç±»ï¼šå…¨å±€å®ˆå«ã€ç‹¬äº«å®ˆå«ã€ç»„ä»¶å†…å®ˆå«</li><li>å…¨å±€å®ˆå«:</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//å…¨å±€å‰ç½®å®ˆå«ï¼šåˆå§‹åŒ–æ—¶æ‰§è¡Œã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢å‰æ‰§è¡Œ</span><br>router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;beforeEach&quot;</span>, to, <span class="hljs-keyword">from</span>);<br>  <span class="hljs-keyword">if</span> (to.<span class="hljs-property">meta</span>.<span class="hljs-property">isAuth</span>) &#123;<br>    <span class="hljs-comment">//åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;school&quot;</span>) === <span class="hljs-string">&quot;atguigu&quot;</span>) &#123;<br>      <span class="hljs-comment">//æƒé™æ§åˆ¶çš„å…·ä½“è§„åˆ™</span><br>      <span class="hljs-title function_">next</span>(); <span class="hljs-comment">//æ”¾è¡Œ</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;æš‚æ— æƒé™æŸ¥çœ‹&quot;</span>);<br>      <span class="hljs-comment">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span><br>    &#125;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-title function_">next</span>(); <span class="hljs-comment">//æ”¾è¡Œ</span><br>  &#125;<br>&#125;);<br><br><span class="hljs-comment">//å…¨å±€åç½®å®ˆå«ï¼šåˆå§‹åŒ–æ—¶æ‰§è¡Œã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢åæ‰§è¡Œ</span><br>router.<span class="hljs-title function_">afterEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;afterEach&quot;</span>, to, <span class="hljs-keyword">from</span>);<br>  <span class="hljs-keyword">if</span> (to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>) &#123;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>; <span class="hljs-comment">//ä¿®æ”¹ç½‘é¡µçš„title</span><br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&quot;vue_test&quot;</span>;<br>  &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><ol start="4"><li>ç‹¬äº«å®ˆå«:</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">beforeEnter</span>(<span class="hljs-params">to,<span class="hljs-keyword">from</span>,next</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;beforeEnter&#x27;</span>,to,<span class="hljs-keyword">from</span>)<br><span class="hljs-keyword">if</span>(to.<span class="hljs-property">meta</span>.<span class="hljs-property">isAuth</span>)&#123; <span class="hljs-comment">//åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶</span><br><span class="hljs-keyword">if</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;school&#x27;</span>) === <span class="hljs-string">&#x27;atguigu&#x27;</span>)&#123;<br><span class="hljs-title function_">next</span>()<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;æš‚æ— æƒé™æŸ¥çœ‹&#x27;</span>)<br><span class="hljs-comment">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span><br>&#125;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-title function_">next</span>()<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="5"><li>ç»„ä»¶å†…å®ˆå«ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//è¿›å…¥å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œè¿›å…¥è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span><br>beforeRouteEnter (to, <span class="hljs-keyword">from</span>, next) &#123;<br>&#125;,<br><span class="hljs-comment">//ç¦»å¼€å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œç¦»å¼€è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span><br>beforeRouteLeave (to, <span class="hljs-keyword">from</span>, next) &#123;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="13-è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼"><a href="#13-è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼" class="headerlink" title="13.è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼"></a>13.è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼</h3><p>éƒ¨ç½²é¡¹ç›®<br>npm run build<br>npm init<br>npm i express</p><ol><li>å¯¹äºä¸€ä¸ª url æ¥è¯´ï¼Œä»€ä¹ˆæ˜¯ hash å€¼ï¼Ÿâ€”â€” #åŠå…¶åé¢çš„å†…å®¹å°±æ˜¯ hash å€¼ã€‚</li><li>hash å€¼ä¸ä¼šåŒ…å«åœ¨ HTTP è¯·æ±‚ä¸­ï¼Œå³ï¼šhash å€¼ä¸ä¼šå¸¦ç»™æœåŠ¡å™¨ã€‚</li><li>hash æ¨¡å¼ï¼š</li><li>åœ°å€ä¸­æ°¸è¿œå¸¦ç€#å·ï¼Œä¸ç¾è§‚ ã€‚</li><li>è‹¥ä»¥åå°†åœ°å€é€šè¿‡ç¬¬ä¸‰æ–¹æ‰‹æœº app åˆ†äº«ï¼Œè‹¥ app æ ¡éªŒä¸¥æ ¼ï¼Œåˆ™åœ°å€ä¼šè¢«æ ‡è®°ä¸ºä¸åˆæ³•ã€‚</li><li>å…¼å®¹æ€§è¾ƒå¥½ã€‚</li><li>history æ¨¡å¼ï¼š</li><li>åœ°å€å¹²å‡€ï¼Œç¾è§‚ ã€‚</li><li>å…¼å®¹æ€§å’Œ hash æ¨¡å¼ç›¸æ¯”ç•¥å·®ã€‚</li><li>åº”ç”¨éƒ¨ç½²ä¸Šçº¿æ—¶éœ€è¦åç«¯äººå‘˜æ”¯æŒï¼Œè§£å†³åˆ·æ–°é¡µé¢æœåŠ¡ç«¯ 404 çš„é—®é¢˜ã€‚</li></ol><h2 id="ä½¿ç”¨-element-ui"><a href="#ä½¿ç”¨-element-ui" class="headerlink" title="ä½¿ç”¨ element-ui"></a>ä½¿ç”¨ element-ui</h2><p>å®‰è£… element-ui<br>npm i element-ui</p><p>æŒ‰éœ€å¼•å…¥<br>npm install babel-plugin-component -D</p>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue</title>
    <link href="/Vue/Vue/"/>
    <url>/Vue/Vue/</url>
    
    <content type="html"><![CDATA[<h2 id="Vue-çš„å®‰è£…"><a href="#Vue-çš„å®‰è£…" class="headerlink" title="Vue çš„å®‰è£…"></a>Vue çš„å®‰è£…</h2><p>åœ¨ vue çš„å®˜ç½‘ä¸­ä¸‹è½½ vue.js</p><p><img src="http://cdn.xiamu.icu//FhuE6W_YvUVHibqT1C_ygV8-_3V-.png"><br>vue.js ä¸€èˆ¬ä½¿ç”¨åœ¨å¼€å‘ç¯å¢ƒä¸­, vue.min.js ä¸€èˆ¬ä½¿ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒä¸­</p><p>ç„¶ååˆ›å»ºä¸€ä¸ª.html æ–‡ä»¶, åœ¨é¡µé¢ä¸Šè¿è¡Œ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>åˆå§‹Vue<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨é¡µé¢ä¸Šæ‰“å¼€ F12, å‘ç°æœ‰ä¸¤æ¡æç¤º<br><img src="http://cdn.xiamu.icu//FsB3iPVSUh479sTmNgwbLxcwmsWu.png"><br>ç¬¬ä¸€ä¸ªæç¤º, éœ€è¦æˆ‘ä»¬ä¸‹è½½ä¸€ä¸ª Vue çš„æ‹“å±•æ¥å¼€å‘<br><a href="https://devtools.vuejs.org/guide/installation.html">https://devtools.vuejs.org/guide/installation.html</a>ä¸‹è½½åœ°å€<br><img src="http://cdn.xiamu.icu//FozDFSHXvOICedenvKUr84W9qpCm.png"><br>ä¸‹è½½å®Œæˆä¹‹åä¼šåœ¨å³ä¸Šè§’æ˜¾ç¤º<br><img src="http://cdn.xiamu.icu//FnstYDzNp9eHg5jRjk1hz8wbTsIj.png"><br>ç¬¬äºŒä¸ªæç¤º, åˆ™æ˜¯æˆ‘ä»¬éœ€è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ vue.min.js<br>è¿™ä»£ç ç¼–å†™çš„è¿‡ç¨‹ä¸­, æˆ‘ä»¬å¯ä»¥å…³é—­è¿™ä¸ªæç¤º<br><img src="http://cdn.xiamu.icu//FkAoPi0wKkId4x0vdOf3RTIguozX.png"><br>Vue.config.productionTip&#x3D;false</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å†å›è¿‡å¤´çœ‹æ§åˆ¶å°, è­¦å‘Šå°±æ¶ˆå¤±äº†<br><img src="http://cdn.xiamu.icu//Fs8wwre-faG7khW8kPe0l3IaojR6.png"></p><h2 id="åˆè¯†-Vue"><a href="#åˆè¯†-Vue" class="headerlink" title="åˆè¯† Vue"></a>åˆè¯† Vue</h2><p>å®¹å™¨è·Ÿç»„ä»¶åªèƒ½ä¸€å¯¹ä¸€</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-template-variable">&#123;&#123;&#125;&#125;</span><br></code></pre></td></tr></table></figure><p>å«æ’å€¼è¯­æ³•, æ’å€¼è¡¨è¾¾å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>åˆå§‹Vue<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">åˆè¯†Vueï¼š</span><br><span class="hljs-comment">1.æƒ³è®©Vueå·¥ä½œï¼Œå°±å¿…é¡»åˆ›å»ºä¸€ä¸ªVueå®ä¾‹ï¼Œä¸”è¦ä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼›</span><br><span class="hljs-comment">2.rootå®¹å™¨é‡Œçš„ä»£ç ä¾ç„¶ç¬¦åˆhtmlè§„èŒƒï¼Œåªä¸è¿‡æ··å…¥äº†ä¸€äº›ç‰¹æ®Šçš„Vueè¯­æ³•ï¼›</span><br><span class="hljs-comment">3.rootå®¹å™¨é‡Œçš„ä»£ç è¢«ç§°ä¸ºã€Vueæ¨¡æ¿ã€‘ï¼›</span><br><span class="hljs-comment">4.Vueå®ä¾‹å’Œå®¹å™¨æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼›</span><br><span class="hljs-comment">5.çœŸå®å¼€å‘ä¸­åªæœ‰ä¸€ä¸ªVueå®ä¾‹ï¼Œå¹¶ä¸”ä¼šé…åˆç€ç»„ä»¶ä¸€èµ·ä½¿ç”¨ï¼›</span><br><span class="hljs-comment">6.&#123;&#123;xxx&#125;&#125;ä¸­çš„xxxè¦å†™jsè¡¨è¾¾å¼ï¼Œä¸”xxxå¯ä»¥è‡ªåŠ¨è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ï¼›</span><br><span class="hljs-comment">7.ä¸€æ—¦dataä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆé¡µé¢ä¸­ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ï¼›</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">æ³¨æ„åŒºåˆ†ï¼šjsè¡¨è¾¾å¼ å’Œ jsä»£ç (è¯­å¥)</span><br><span class="hljs-comment">1.è¡¨è¾¾å¼ï¼šä¸€ä¸ªè¡¨è¾¾å¼ä¼šäº§ç”Ÿä¸€ä¸ªå€¼ï¼Œå¯ä»¥æ”¾åœ¨ä»»ä½•ä¸€ä¸ªéœ€è¦å€¼çš„åœ°æ–¹ï¼š</span><br><span class="hljs-comment">(1). a</span><br><span class="hljs-comment">(2). a+b</span><br><span class="hljs-comment">(3). demo(1)</span><br><span class="hljs-comment">(4). x === y ? &#x27;a&#x27; : &#x27;b&#x27;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">2.jsä»£ç (è¯­å¥)</span><br><span class="hljs-comment">(1). if()&#123;&#125;</span><br><span class="hljs-comment">(2). for()&#123;&#125;</span><br><span class="hljs-comment">--&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, &#123;&#123;name&#125;&#125;, &#123;&#123;address&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span></span><br><span class="language-javascript">      <span class="hljs-comment">// åˆ›å»ºVueå®ä¾‹</span></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> x = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>, <span class="hljs-comment">// elç”¨äºæŒ‡å®šå½“å‰å®ä¾‹ä¸ºå“ªä¸ªå®¹å™¨æœåŠ¡, å€¼é€šè¿‡ä¸ºcssé€‰æ‹©å™¨å­—ç¬¦ä¸²</span></span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// dataä¸­ç”¨äºå­˜å‚¨æ•°æ®, æ•°æ®elæ‰€æŒ‡å®šçš„å®¹å™¨å»è¯•ç”¨, å€¼æˆ‘ä»¬æš‚æ—¶å†™å†™æˆä¸€ä¸ªå¯¹è±¡</span></span><br><span class="language-javascript">          <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">address</span>: <span class="hljs-string">&quot;åŒ—äº¬&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>v-bind å¯ä»¥ç®€å†™ :</p><h2 id="æ¨¡æ¿è¯­æ³•"><a href="#æ¨¡æ¿è¯­æ³•" class="headerlink" title="æ¨¡æ¿è¯­æ³•"></a>æ¨¡æ¿è¯­æ³•</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Vueæ¨¡æ¿è¯­æ³•æœ‰2å¤§ç±»ï¼š</span><br><span class="hljs-comment">1.æ’å€¼è¯­æ³•ï¼š</span><br><span class="hljs-comment">åŠŸèƒ½ï¼šç”¨äºè§£ææ ‡ç­¾ä½“å†…å®¹ã€‚</span><br><span class="hljs-comment">å†™æ³•ï¼š&#123;&#123;xxx&#125;&#125;ï¼Œxxxæ˜¯jsè¡¨è¾¾å¼ï¼Œä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ã€‚</span><br><span class="hljs-comment">2.æŒ‡ä»¤è¯­æ³•ï¼š</span><br><span class="hljs-comment">åŠŸèƒ½ï¼šç”¨äºè§£ææ ‡ç­¾ï¼ˆåŒ…æ‹¬ï¼šæ ‡ç­¾å±æ€§ã€æ ‡ç­¾ä½“å†…å®¹ã€ç»‘å®šäº‹ä»¶.....ï¼‰ã€‚</span><br><span class="hljs-comment">ä¸¾ä¾‹ï¼šv-bind:href=&quot;xxx&quot; æˆ–  ç®€å†™ä¸º :href=&quot;xxx&quot;ï¼ŒxxxåŒæ ·è¦å†™jsè¡¨è¾¾å¼ï¼Œ</span><br><span class="hljs-comment"> ä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ã€‚</span><br><span class="hljs-comment">å¤‡æ³¨ï¼šVueä¸­æœ‰å¾ˆå¤šçš„æŒ‡ä»¤ï¼Œä¸”å½¢å¼éƒ½æ˜¯ï¼šv-????ï¼Œæ­¤å¤„æˆ‘ä»¬åªæ˜¯æ‹¿v-bindä¸¾ä¸ªä¾‹å­ã€‚</span><br><span class="hljs-comment"> --&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-bind:href</span>=<span class="hljs-string">&quot;school.url&quot;</span> <span class="hljs-attr">x</span>=<span class="hljs-string">&quot;hello&quot;</span>&gt;</span>å»å°šç¡…è°·<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">:href</span>=<span class="hljs-string">&quot;school.url.toUpperCase()&quot;</span> <span class="hljs-attr">x</span>=<span class="hljs-string">&quot;hello&quot;</span>&gt;</span>å»å°šç¡…è°·<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;jack&quot;</span>,</span><br><span class="language-javascript">      <span class="hljs-attr">school</span>: &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;http://www.atguigu.com&quot;</span>,</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="æ•°æ®ç»‘å®š"><a href="#æ•°æ®ç»‘å®š" class="headerlink" title="æ•°æ®ç»‘å®š"></a>æ•°æ®ç»‘å®š</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Vueä¸­æœ‰2ç§æ•°æ®ç»‘å®šçš„æ–¹å¼ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.å•å‘ç»‘å®š(v-bind)ï¼šæ•°æ®åªèƒ½ä»dataæµå‘é¡µé¢ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.åŒå‘ç»‘å®š(v-model)ï¼šæ•°æ®ä¸ä»…èƒ½ä»dataæµå‘é¡µé¢ï¼Œè¿˜å¯ä»¥ä»é¡µé¢æµå‘dataã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å¤‡æ³¨ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.åŒå‘ç»‘å®šä¸€èˆ¬éƒ½åº”ç”¨åœ¨è¡¨å•ç±»å…ƒç´ ä¸Šï¼ˆå¦‚ï¼šinputã€selectç­‰ï¼‰</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.v-model:value å¯ä»¥ç®€å†™ä¸º v-modelï¼Œå› ä¸ºv-modelé»˜è®¤æ”¶é›†çš„å°±æ˜¯valueå€¼ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- å•å‘æ•°æ®ç»‘å®š: &lt;input type=&quot;text&quot; v-bind:value=&quot;name&quot;&gt;&lt;br&gt;</span><br><span class="hljs-comment">        åŒå‘æ•°æ®ç»‘å®š: &lt;input type=&quot;text&quot; v-model:value=&quot;name&quot;&gt; --&gt;</span><br><br>  å•å‘æ•°æ®ç»‘å®š: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;name&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>  åŒå‘æ•°æ®ç»‘å®š: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;name&quot;</span> /&gt;</span><br><br>  <span class="hljs-comment">&lt;!-- å¦‚ä¸‹ä»£ç æ˜¯é”™è¯¯çš„, å› ä¸ºv-modelåªèƒ½åº”ç”¨åœ¨è¡¨å•ç±»(è¾“å…¥ç±»å…ƒç´ ä¸Š) --&gt;</span><br>  <span class="hljs-comment">&lt;!-- &lt;h2 v-model:x=&quot;name&quot;&gt;ä½ å¥½å•Š&lt;/h2&gt; --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FkN-VKccqn98LfjSOAGho-PKzueW.png"></p><h2 id="el-ä¸-data-çš„ä¸¤ç§å†™æ³•"><a href="#el-ä¸-data-çš„ä¸¤ç§å†™æ³•" class="headerlink" title="el ä¸ data çš„ä¸¤ç§å†™æ³•"></a>el ä¸ data çš„ä¸¤ç§å†™æ³•</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">dataä¸elçš„2ç§å†™æ³•</span><br><span class="hljs-comment">1.elæœ‰2ç§å†™æ³•</span><br><span class="hljs-comment">(1).new Vueæ—¶å€™é…ç½®elå±æ€§ã€‚</span><br><span class="hljs-comment">(2).å…ˆåˆ›å»ºVueå®ä¾‹ï¼Œéšåå†é€šè¿‡vm.$mount(&#x27;#root&#x27;)æŒ‡å®šelçš„å€¼ã€‚</span><br><span class="hljs-comment">2.dataæœ‰2ç§å†™æ³•</span><br><span class="hljs-comment">(1).å¯¹è±¡å¼</span><br><span class="hljs-comment">(2).å‡½æ•°å¼</span><br><span class="hljs-comment">å¦‚ä½•é€‰æ‹©ï¼šç›®å‰å“ªç§å†™æ³•éƒ½å¯ä»¥ï¼Œä»¥åå­¦ä¹ åˆ°ç»„ä»¶æ—¶ï¼Œdataå¿…é¡»ä½¿ç”¨å‡½æ•°å¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</span><br><span class="hljs-comment">3.ä¸€ä¸ªé‡è¦çš„åŸåˆ™ï¼š</span><br><span class="hljs-comment">ç”±Vueç®¡ç†çš„å‡½æ•°ï¼Œä¸€å®šä¸è¦å†™ç®­å¤´å‡½æ•°ï¼Œä¸€æ—¦å†™äº†ç®­å¤´å‡½æ•°ï¼Œthiså°±ä¸å†æ˜¯Vueå®ä¾‹äº†ã€‚</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä½ å¥½, &#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-comment">// elçš„ä¸¤ç§å†™æ³•</span></span><br><span class="language-javascript">  <span class="hljs-keyword">const</span> v = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// el: &#x27;#root&#x27;, // ç¬¬ä¸€ç§å†™æ³•</span></span><br><span class="language-javascript">    <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;);</span><br><span class="language-javascript">  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(v);</span><br><span class="language-javascript">  v.$mount(<span class="hljs-string">&quot;#root&quot;</span>); <span class="hljs-comment">// ç¬¬äºŒç§å†™æ³•</span></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-comment">// dataçš„ä¸¤ç§å†™æ³•</span></span><br><span class="language-javascript">  <span class="hljs-comment">//dataçš„ç¬¬ä¸€ç§å†™æ³•: å¯¹è±¡å¼</span></span><br><span class="language-javascript">  <span class="hljs-comment">/* Â  Â  Â  Â  new Vue(&#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  el: &#x27;#root&#x27;,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data: &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name: &#x27;å°šç¡…è°·&#x27;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &#125;) */</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-comment">//dataçš„ç¬¬äºŒç§å†™æ³•: å‡½æ•°å¼</span></span><br><span class="language-javascript">  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">data</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">      &#125;;</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="ç†è§£-MVVM"><a href="#ç†è§£-MVVM" class="headerlink" title="ç†è§£ MVVM"></a>ç†è§£ MVVM</h2><h3 id="ç¼–å†™ä»£ç ç‰‡æ®µ"><a href="#ç¼–å†™ä»£ç ç‰‡æ®µ" class="headerlink" title="ç¼–å†™ä»£ç ç‰‡æ®µ"></a>ç¼–å†™ä»£ç ç‰‡æ®µ</h3><p><img src="http://cdn.xiamu.icu//Fmrh-jif1Oct4SsBaXevvqdboLM3.png"><br><img src="http://cdn.xiamu.icu//ForNNCn9gFKlgtoGVxt3OwjVoIug.png"><br>å¤åˆ¶å¦‚ä¸‹ä»£ç ä¿å­˜</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;Print to console&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;scope&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;html, javascript, typescript&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;prefix&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;v1&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;body&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>      <span class="hljs-string">&quot;new Vue(&#123;&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-string">&quot; Â  Â el: &#x27;#root&#x27;,&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-string">&quot; Â  Â data: &#123;&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-string">&quot; Â  Â  Â  Â $1&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-string">&quot; Â  Â &#125;&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-string">&quot;&#125;)&quot;</span><br>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ç”Ÿæˆä¸€ä¸ªVueå®ä¾‹&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>åœ¨é¡µé¢ä¸­åªéœ€è¦è¾“å…¥ v1, å°±å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ª Vue å®ä¾‹, éå¸¸çš„æ–¹ä¾¿<br><img src="http://cdn.xiamu.icu//Fk8T9TE0eA0hyqhRubaMfzzGBRn_.png"><br><img src="http://cdn.xiamu.icu//FkpARlNJIeoPEhcehZgyx2CVOSV9.png"></p><h3 id="MVVM-æ¨¡å‹"><a href="#MVVM-æ¨¡å‹" class="headerlink" title="MVVM æ¨¡å‹"></a>MVVM æ¨¡å‹</h3><ol><li>Mï¼šæ¨¡å‹(Model) ï¼šå¯¹åº” data ä¸­çš„æ•°æ®</li><li>Vï¼šè§†å›¾(View) ï¼šæ¨¡æ¿</li><li>VMï¼šè§†å›¾æ¨¡å‹(ViewModel) ï¼š Vue å®ä¾‹å¯¹è±¡</li></ol><p><img src="http://cdn.xiamu.icu//FrH780-IlvcSQ07Szb4VrEeiYJeL.png"><br>MVVM æ¨¡å‹å°±æ˜¯æŠŠä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„æ•°æ®å’Œä¸€å †ä¹±ä¸ƒå…«ç³Ÿçš„ DOM ç»“æ„åœ¨ä¸­é—´ä½¿ç”¨ VM è¿æ¥<br><img src="http://cdn.xiamu.icu//Fh0F7zDEzwnYD3ecu6o2jpOAWRhA.png"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  MVVMæ¨¡å‹</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1. Mï¼šæ¨¡å‹(Model) ï¼šdataä¸­çš„æ•°æ®</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2. Vï¼šè§†å›¾(View) ï¼šæ¨¡æ¿ä»£ç </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3. VMï¼šè§†å›¾æ¨¡å‹(ViewModel)ï¼šVueå®ä¾‹</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  è§‚å¯Ÿå‘ç°ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.dataä¸­æ‰€æœ‰çš„å±æ€§ï¼Œæœ€åéƒ½å‡ºç°åœ¨äº†vmèº«ä¸Šã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.vmèº«ä¸Šæ‰€æœ‰çš„å±æ€§ åŠ VueåŸå‹ä¸Šæ‰€æœ‰å±æ€§ï¼Œåœ¨Vueæ¨¡æ¿ä¸­éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br></code></pre></td></tr></table></figure><h2 id="å›é¡¾-Object-defineProperty-æ–¹æ³•"><a href="#å›é¡¾-Object-defineProperty-æ–¹æ³•" class="headerlink" title="å›é¡¾ Object.defineProperty æ–¹æ³•"></a>å›é¡¾ Object.defineProperty æ–¹æ³•</h2><h3 id="enumerable"><a href="#enumerable" class="headerlink" title="enumerable"></a>enumerable</h3><p>æ­¤æ—¶è¿™ç§å†™æ³•æ˜¯å¯ä»¥éå† person çš„å±æ€§çš„<br><img src="http://cdn.xiamu.icu//FtX0tgWd8uzb9cUW8J4MfgavMiya.png"><br><img src="http://cdn.xiamu.icu//FrXA8Fuq8qGMBTPkqInoZSFTIAsa.png"><br><img src="http://cdn.xiamu.icu//FgKVbzn25iQnN7Xh35OZsb9i9BGN.png"><br>ä»ä¸Šå¯ä»¥è§‚å¯Ÿåˆ° Object.defineProperty å®šä¹‰çš„å±æ€§, é»˜è®¤æ˜¯ä¸èƒ½è¢«éå†çš„<br>åªæœ‰è®¾ç½®äº† enumerable: true æ‰èƒ½è¢«éå†</p><h3 id="writable"><a href="#writable" class="headerlink" title="writable"></a>writable</h3><p><img src="http://cdn.xiamu.icu//FjjGZnZ3OGWCli-wJmX6Vk3gzWaK.png"><br><img src="http://cdn.xiamu.icu//Fm4rhC52nQ_CkFeshhKPbIiw7OV2.png"><br><img src="http://cdn.xiamu.icu//Fo_cGboLeidmD7mUWL3s-Fhim2gQ.png"><br>ä»ä¸Šé¢å¯ä»¥è§‚å¯Ÿåˆ° Object.defineProperty å®šä¹‰çš„å±æ€§, é»˜è®¤æ˜¯ä¸èƒ½ä¿®æ”¹çš„<br>åªæœ‰è®¾ç½®äº† Â writable: true, æ‰èƒ½è¢«ä¿®æ”¹</p><p><img src="http://cdn.xiamu.icu//FidL1vdJvYpkmBCyGrQT82nUA3LN.png"><br><img src="http://cdn.xiamu.icu//FqmfosKwNZauwOzbEAT28FsI4FSE.png"><br><img src="http://cdn.xiamu.icu//FoscBO3dZI55tcMQt5rJ9RdPfnU5.png"><br>ä»ä¸Šé¢å¯ä»¥è§‚å¯Ÿåˆ° Object.defineProperty å®šä¹‰çš„å±æ€§, é»˜è®¤æ˜¯ä¸èƒ½åˆ é™¤çš„<br>åªæœ‰è®¾ç½®äº† Â configurable: true æ‰èƒ½è¢«åˆ é™¤</p><h2 id="æ•°æ®ä»£ç†"><a href="#æ•°æ®ä»£ç†" class="headerlink" title="æ•°æ®ä»£ç†"></a>æ•°æ®ä»£ç†</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">1.Vueä¸­çš„æ•°æ®ä»£ç†ï¼š</span><br><span class="hljs-comment">é€šè¿‡vmå¯¹è±¡æ¥ä»£ç†dataå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œï¼ˆè¯»/å†™ï¼‰</span><br><span class="hljs-comment">2.Vueä¸­æ•°æ®ä»£ç†çš„å¥½å¤„ï¼š</span><br><span class="hljs-comment">æ›´åŠ æ–¹ä¾¿çš„æ“ä½œdataä¸­çš„æ•°æ®</span><br><span class="hljs-comment">3.åŸºæœ¬åŸç†ï¼š</span><br><span class="hljs-comment">é€šè¿‡Object.defineProperty()æŠŠdataå¯¹è±¡ä¸­æ‰€æœ‰å±æ€§æ·»åŠ åˆ°vmä¸Šã€‚</span><br><span class="hljs-comment">ä¸ºæ¯ä¸€ä¸ªæ·»åŠ åˆ°vmä¸Šçš„å±æ€§ï¼Œéƒ½æŒ‡å®šä¸€ä¸ªgetter/setterã€‚</span><br><span class="hljs-comment">åœ¨getter/setterå†…éƒ¨å»æ“ä½œï¼ˆè¯»/å†™ï¼‰dataä¸­å¯¹åº”çš„å±æ€§ã€‚</span><br><span class="hljs-comment">--&gt;</span><br><br><span class="hljs-comment">&lt;!-- æ•°æ®ä»£ç†: é€šè¿‡ä¸€ä¸ªå¯¹è±¡ä»£ç†å¯¹å¦ä¸€ä¸ªå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œ (è¯»/å†™) --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">let</span> obj = &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">100</span> &#125;;</span><br><span class="language-javascript">  <span class="hljs-keyword">let</span> obj2 = &#123; <span class="hljs-attr">y</span>: <span class="hljs-number">200</span> &#125;;</span><br><span class="language-javascript">  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj2, <span class="hljs-string">&quot;x&quot;</span>, &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> obj.<span class="hljs-property">x</span>;</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-title function_">set</span>(<span class="hljs-params">value</span>) &#123;</span><br><span class="language-javascript">      obj.<span class="hljs-property">x</span> = value;</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FlGlmxKnTsYowLjHqx2x6w8Tg5Pg.png"><br>ä¿®æ”¹äº† obj2.x çš„å€¼, obj.x å€¼ä¹Ÿéšä¹‹å‘ç”Ÿäº†å˜åŒ–</p><p><img src="http://cdn.xiamu.icu//FpGm4QqLJHKKg6ZK1Qr0I1HiZWgf.png"></p><p>vm ä¸­ä½¿ç”¨äº† Object.defineProperty ä»£ç†äº†_data çš„å±æ€§<br>_data.name ä¸­æœ‰ data çš„å€¼<br><img src="http://cdn.xiamu.icu//FuSX3UYZcaTceN6qhdgso5BwKnp5.png"></p><h2 id="äº‹ä»¶å¤„ç†"><a href="#äº‹ä»¶å¤„ç†" class="headerlink" title="äº‹ä»¶å¤„ç†"></a>äº‹ä»¶å¤„ç†</h2><p>äº‹ä»¶çš„åŸºæœ¬ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  äº‹ä»¶çš„åŸºæœ¬ä½¿ç”¨ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.ä½¿ç”¨v-on:xxx æˆ– @xxx ç»‘å®šäº‹ä»¶ï¼Œå…¶ä¸­xxxæ˜¯äº‹ä»¶åï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.äº‹ä»¶çš„å›è°ƒéœ€è¦é…ç½®åœ¨methodså¯¹è±¡ä¸­ï¼Œæœ€ç»ˆä¼šåœ¨vmä¸Šï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œä¸è¦ç”¨ç®­å¤´å‡½æ•°ï¼å¦åˆ™thiså°±ä¸æ˜¯vmäº†ï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  4.methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œéƒ½æ˜¯è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼Œthisçš„æŒ‡å‘æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  5.@click=&quot;demo&quot; å’Œ @click=&quot;demo($event)&quot; æ•ˆæœä¸€è‡´ï¼Œä½†åè€…å¯ä»¥ä¼ å‚ï¼›</span><br><span class="hljs-comment">Â  Â  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ¬¢è¿æ¥åˆ°&#123;&#123;name&#125;&#125;å­¦ä¹ <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">&quot;showInfo1&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;showInfo2(66, $event)&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">showInfo1</span>(<span class="hljs-params">event</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">innerText</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// æ­¤å¤„çš„thisæ˜¯vmå¯¹è±¡</span></span><br><span class="language-javascript">        <span class="hljs-comment">// alert(&#x27;åŒå­¦æ‚¨å¥½!&#x27;);</span></span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      <span class="hljs-title function_">showInfo2</span>(<span class="hljs-params">number, a</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);</span><br><span class="language-javascript">        <span class="hljs-comment">// console.log(event.target.innerText);</span></span><br><span class="language-javascript">        <span class="hljs-comment">// console.log(this); // æ­¤å¤„çš„thisæ˜¯vmå¯¹è±¡</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(number);</span><br><span class="language-javascript">        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;åŒå­¦æ‚¨å¥½!!&quot;</span>);</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>äº‹ä»¶ä¿®é¥°ç¬¦</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>äº‹ä»¶ä¿®é¥°ç¬¦<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  * &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.demo1</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">background-color</span>: skyblue;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.box1</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">background-color</span>: skyblue;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.box2</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">background-color</span>: orange;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.list</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">background-color</span>: peru;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">overflow</span>: auto;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-tag">li</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css">      Â  Â </span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Vueä¸­çš„äº‹ä»¶ä¿®é¥°ç¬¦ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.preventï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆå¸¸ç”¨ï¼‰ï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.stopï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨ï¼‰ï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.onceï¼šäº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰ï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  4.captureï¼šä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼ï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  5.selfï¼šåªæœ‰event.targetæ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ—¶æ‰è§¦å‘äº‹ä»¶ï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  6.passiveï¼šäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•ï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆå¸¸ç”¨ï¼‰ï¼› --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ¬¢è¿æ¥åˆ°&#123;&#123;name&#125;&#125;å­¦ä¹ <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://www.atguigu.com&quot;</span> @<span class="hljs-attr">click.prevent</span>=<span class="hljs-string">&quot;showInfo&quot;</span></span><br><span class="hljs-tag">        &gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;/a<br>      &gt;<br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨ï¼‰ï¼› --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;demo1&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;showInfo&quot;</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.stop</span>=<span class="hljs-string">&quot;showInfo&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>        Â  Â <br>        <span class="hljs-comment">&lt;!-- ä¿®é¥°ç¬¦å¯ä»¥è¿ç»­å†™ --&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://www.atguigu.com&quot;</span> @<span class="hljs-attr">click.prevent.stop</span>=<span class="hljs-string">&quot;showInfo&quot;</span></span><br><span class="hljs-tag">          &gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;/a<br>        &gt;<br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- è§¦å‘è¿‡ä¸€æ¬¡ä¹‹åå°±ä¸ä¼šå†è§¦å‘äº† --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- äº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰ï¼› --&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.once</span>=<span class="hljs-string">&quot;showInfo&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼ï¼› --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span> @<span class="hljs-attr">click.capture</span>=<span class="hljs-string">&quot;showMsg(1)&quot;</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â  div1 Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box2&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;showMsg(2)&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  div2 Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- åªæœ‰event.targetæ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ—¶æ‰è§¦å‘äº‹ä»¶ï¼› --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;demo1&quot;</span> @<span class="hljs-attr">click.self</span>=<span class="hljs-string">&quot;showInfo&quot;</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;showInfo&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•ï¼› --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> @<span class="hljs-attr">wheel.passive</span>=<span class="hljs-string">&quot;demo&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- scrollç”¨è¿™ä¸ªäº‹ä»¶ä¹‹åå°±å¯ä»¥ä¸ç”¨æ·»åŠ passiveä¿®é¥°ç¬¦ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- wheeläº‹ä»¶ä¼šåœ¨å‡½æ•°è°ƒç”¨å®Œä¹‹å, æ»šåŠ¨æ¡æ‰ä¼šå‘ç”Ÿå˜åŒ– --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ç»™wheelåŠ ä¸Špassiveä¹‹å, å³ä½¿å‡½æ•°è¿˜æ²¡æ‰§è¡Œå®Œ, æ»šåŠ¨æ¡ä¾æ—§ä¼šæ»šåŠ¨ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> @<span class="hljs-attr">scroll</span>=<span class="hljs-string">&quot;demo&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">showInfo</span>(<span class="hljs-params">event</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// event.preventDefault();</span></span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;åŒå­¦ä½ å¥½! &quot;</span>);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-title function_">showMsg</span>(<span class="hljs-params">msg</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-title function_">demo</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000</span>; i++) &#123;</span><br><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;#&quot;</span>);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="é”®ç›˜äº‹ä»¶"><a href="#é”®ç›˜äº‹ä»¶" class="headerlink" title="é”®ç›˜äº‹ä»¶"></a>é”®ç›˜äº‹ä»¶</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>é”®ç›˜äº‹ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">1.Vueä¸­å¸¸ç”¨çš„æŒ‰é”®åˆ«åï¼š</span><br><span class="hljs-comment">å›è½¦ =&gt; enter</span><br><span class="hljs-comment">åˆ é™¤ =&gt; delete (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)</span><br><span class="hljs-comment">é€€å‡º =&gt; esc</span><br><span class="hljs-comment">ç©ºæ ¼ =&gt; space</span><br><span class="hljs-comment">æ¢è¡Œ =&gt; tab (ç‰¹æ®Šï¼Œå¿…é¡»é…åˆkeydownå»ä½¿ç”¨)</span><br><span class="hljs-comment">ä¸Š =&gt; up</span><br><span class="hljs-comment">ä¸‹ =&gt; down</span><br><span class="hljs-comment">å·¦ =&gt; left</span><br><span class="hljs-comment">å³ =&gt; right</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">2.Vueæœªæä¾›åˆ«åçš„æŒ‰é”®ï¼Œå¯ä»¥ä½¿ç”¨æŒ‰é”®åŸå§‹çš„keyå€¼å»ç»‘å®šï¼Œä½†æ³¨æ„è¦è½¬ä¸ºkebab-caseï¼ˆçŸ­æ¨ªçº¿å‘½åï¼‰</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">3.ç³»ç»Ÿä¿®é¥°é”®ï¼ˆç”¨æ³•ç‰¹æ®Šï¼‰ï¼šctrlã€altã€shiftã€meta</span><br><span class="hljs-comment">(1).é…åˆkeyupä½¿ç”¨ï¼šæŒ‰ä¸‹ä¿®é¥°é”®çš„åŒæ—¶ï¼Œå†æŒ‰ä¸‹å…¶ä»–é”®ï¼Œéšåé‡Šæ”¾å…¶ä»–é”®ï¼Œäº‹ä»¶æ‰è¢«è§¦å‘ã€‚</span><br><span class="hljs-comment">(2).é…åˆkeydownä½¿ç”¨ï¼šæ­£å¸¸è§¦å‘äº‹ä»¶ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">4.ä¹Ÿå¯ä»¥ä½¿ç”¨keyCodeå»æŒ‡å®šå…·ä½“çš„æŒ‰é”®ï¼ˆä¸æ¨èï¼‰</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">5.Vue.config.keyCodes.è‡ªå®šä¹‰é”®å = é”®ç ï¼Œå¯ä»¥å»å®šåˆ¶æŒ‰é”®åˆ«å</span><br><span class="hljs-comment">--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ¬¢è¿æ¥åˆ°&#123;&#123;name&#125;&#125;å­¦ä¹ <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- &lt;input type=&quot;text&quot; placeholder=&quot;æŒ‰ä¸‹å›è½¦æç¤ºè¾“å…¥&quot; @keyup.caps-lock=&quot;showInfo&quot;&gt; --&gt;</span><br>        <span class="hljs-comment">&lt;!-- &lt;input type=&quot;text&quot; placeholder=&quot;æŒ‰ä¸‹å›è½¦æç¤ºè¾“å…¥&quot; @keydown.tab=&quot;showInfo&quot;&gt; --&gt;</span><br>        <span class="hljs-comment">&lt;!-- &lt;input type=&quot;text&quot; placeholder=&quot;æŒ‰ä¸‹å›è½¦æç¤ºè¾“å…¥&quot; @keydown.ctrl=&quot;showInfo&quot;&gt; --&gt;</span><br>        <span class="hljs-comment">&lt;!-- &lt;input type=&quot;text&quot; placeholder=&quot;æŒ‰ä¸‹å›è½¦æç¤ºè¾“å…¥&quot; @keydown.huiche=&quot;showInfo&quot;&gt; --&gt;</span><br><br>        <span class="hljs-comment">&lt;!-- åªå…è®¸æŒ‰ä¸‹CtrlYçš„æ—¶å€™è§¦å‘äº‹ä»¶ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;æŒ‰ä¸‹å›è½¦æç¤ºè¾“å…¥&quot;</span> @<span class="hljs-attr">keydown.ctrl.y</span>=<span class="hljs-string">&quot;showInfo&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span> <span class="hljs-comment">// é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span></span><br><span class="language-javascript">        <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">keyCodes</span>.<span class="hljs-property">huiche</span> = <span class="hljs-number">13</span>  <span class="hljs-comment">// å®šä¹‰äº†ä¸€ä¸ªåˆ«åæŒ‰é”®</span></span><br><span class="language-javascript">        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°šç¡…è°·&#x27;</span></span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">showInfo</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">key</span>, e.<span class="hljs-property">keyCode</span>);</span><br><span class="language-javascript">                    <span class="hljs-comment">// console.log(e.target.value);</span></span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h2><p>å§“åæ¡ˆä¾‹_æ’å€¼è¯­æ³•å®ç°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å§“åæ¡ˆä¾‹_æ’å€¼è¯­æ³•å®ç°<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â  å§“: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;firstName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;lastName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å…¨å: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;firstName&#125;&#125;-&#123;&#123;lastName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> Â  Â  Â  Â  å…¨å:<br>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;firstName.slice(0, 3)&#125;&#125;-&#123;&#123;lastName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span></span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">firstName</span>: <span class="hljs-string">&quot;å¼ &quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">lastName</span>: <span class="hljs-string">&quot;ä¸‰&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å§“åæ¡ˆä¾‹_methods å®ç°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å§“åæ¡ˆä¾‹_methodså®ç°<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â  å§“: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;firstName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;lastName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å…¨å: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName()&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- æ’å€¼è¯­æ³•è°ƒç”¨æ–¹æ³•éœ€è¦åŠ () --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ç»‘å®šäº‹ä»¶çš„æ–¹æ³•å¯åŠ æ‹¬å·, ä¹Ÿå¯ä¸åŠ æ‹¬å· --&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span></span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">firstName</span>: <span class="hljs-string">&quot;å¼ &quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">lastName</span>: <span class="hljs-string">&quot;ä¸‰&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">fullName</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// alert(1)</span></span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å§“åæ¡ˆä¾‹_è®¡ç®—å±æ€§</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å§“åæ¡ˆä¾‹_è®¡ç®—å±æ€§<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  è®¡ç®—å±æ€§ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.å®šä¹‰ï¼šè¦ç”¨çš„å±æ€§ä¸å­˜åœ¨ï¼Œè¦é€šè¿‡å·²æœ‰å±æ€§è®¡ç®—å¾—æ¥ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.åŸç†ï¼šåº•å±‚å€ŸåŠ©äº†Objcet.definepropertyæ–¹æ³•æä¾›çš„getterå’Œsetterã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.getå‡½æ•°ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Ÿ</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).åˆæ¬¡è¯»å–æ—¶ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).å½“ä¾èµ–çš„æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ä¼šè¢«å†æ¬¡è°ƒç”¨ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  4.ä¼˜åŠ¿ï¼šä¸methodså®ç°ç›¸æ¯”ï¼Œå†…éƒ¨æœ‰ç¼“å­˜æœºåˆ¶ï¼ˆå¤ç”¨ï¼‰ï¼Œæ•ˆç‡æ›´é«˜ï¼Œè°ƒè¯•æ–¹ä¾¿ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  5.å¤‡æ³¨ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.è®¡ç®—å±æ€§æœ€ç»ˆä¼šå‡ºç°åœ¨vmä¸Šï¼Œç›´æ¥è¯»å–ä½¿ç”¨å³å¯ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.å¦‚æœè®¡ç®—å±æ€§è¦è¢«ä¿®æ”¹ï¼Œé‚£å¿…é¡»å†™setå‡½æ•°å»å“åº”ä¿®æ”¹ï¼Œä¸”setä¸­è¦å¼•èµ·è®¡ç®—æ—¶ä¾èµ–çš„æ•°æ®å‘ç”Ÿæ”¹å˜ã€‚</span><br><span class="hljs-comment">Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â  å§“: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;firstName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;lastName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å…¨å: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å…¨å: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å…¨å: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å…¨å: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- fullNameé‡Œé¢çš„getå‡½æ•°åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡, å› ä¸ºè¿™é‡Œé¢æœ‰ç¼“å­˜æœºåˆ¶ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- å¦‚æœåœ¨methodsä¸­å®šä¹‰çš„å‡½æ•°ä¸­å­˜åœ¨getå‡½æ•°, ä¸”è°ƒç”¨çš„æ˜¯methodsé‡Œé¢å‡½æ•°çš„get, ä¼šè¢«è°ƒç”¨å¤šæ¬¡ --&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">firstName</span>: <span class="hljs-string">&quot;å¼ &quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">lastName</span>: <span class="hljs-string">&quot;ä¸‰&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// è®¡ç®—å±æ€§, ä»¥åè®¡ç®—å‡ºæ¥çš„å±æ€§, ä¸åœ¨_data</span></span><br><span class="language-javascript">          <span class="hljs-attr">fullName</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// get æœ‰ä»€ä¹ˆä½œç”¨? å½“æœ‰äººè¯»å–fullNameæ—¶, getå°±ä¼šè¢«è°ƒç”¨, ä¸”è¿”å›å€¼å°±ä½œä¸ºfullNameçš„å€¼</span></span><br><span class="language-javascript">            <span class="hljs-comment">// get ä»€ä¹ˆæ—¶å€™è¢«è°ƒç”¨?</span></span><br><span class="language-javascript">            <span class="hljs-comment">// 1. åˆæ¬¡è¯»å–fullNameæ—¶</span></span><br><span class="language-javascript">            <span class="hljs-comment">// 2. æ‰€ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶</span></span><br><span class="language-javascript">            <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;getè¢«è°ƒç”¨äº†&quot;</span>); <span class="hljs-comment">// console.log(this); // æ­¤å¤„çš„thisæ˜¯vm</span></span><br><span class="language-javascript">              <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;</span><br><span class="language-javascript">            &#125;, <span class="hljs-comment">// setä»€ä¹ˆæ—¶å€™è¢«è°ƒç”¨? // å½“fullNameè¢«ä¿®æ”¹æ—¶</span></span><br><span class="language-javascript">            <span class="hljs-title function_">set</span>(<span class="hljs-params">value</span>) &#123;</span><br><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;set&quot;</span>, value);</span><br><span class="language-javascript">              <span class="hljs-keyword">const</span> arr = value.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;-&quot;</span>);</span><br><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[<span class="hljs-number">0</span>]);</span><br><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[<span class="hljs-number">1</span>]);</span><br><span class="language-javascript">              <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> = arr[<span class="hljs-number">0</span>];</span><br><span class="language-javascript">              <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span> = arr[<span class="hljs-number">1</span>];</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å§“åæ¡ˆä¾‹_è®¡ç®—å±æ€§ç®€å†™</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å§“åæ¡ˆä¾‹_è®¡ç®—å±æ€§ç®€å†™<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â  å§“: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;firstName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;lastName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å…¨å: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">firstName</span>: <span class="hljs-string">&quot;å¼ &quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">lastName</span>: <span class="hljs-string">&quot;ä¸‰&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// å®Œæ•´å†™æ³•</span></span><br><span class="language-javascript">          <span class="hljs-comment">/* Â  Â  Â  Â  Â  Â  Â  Â  fullName: &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  get() &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(&#x27;getè¢«è°ƒç”¨äº†&#x27;);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return this.firstName + &#x27;-&#x27; + this.lastName</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  set(value) &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(&#x27;set&#x27;, value);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const arr = value.split(&#x27;-&#x27;);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(arr[0]);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(arr[1]);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.firstName = arr[0];</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.lastName = arr[1];</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125; */</span></span><br><span class="language-javascript">          <span class="hljs-comment">// ç®€å†™å†™æ³•</span></span><br><span class="language-javascript">          <span class="hljs-comment">// åªè€ƒè™‘è¯»å–, ä¸è€ƒè™‘ä¿®æ”¹çš„æ—¶å€™æ‰èƒ½ä½¿ç”¨ç®€å†™çš„æ–¹å¼</span></span><br><span class="language-javascript">          <span class="hljs-title function_">fullName</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;getè¢«è°ƒç”¨äº†&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="ç›‘è§†å±æ€§"><a href="#ç›‘è§†å±æ€§" class="headerlink" title="ç›‘è§†å±æ€§"></a>ç›‘è§†å±æ€§</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å¤©æ°”æ¡ˆä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;&#123;info&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ç»‘å®šäº‹ä»¶çš„æ—¶å€™: @xxx=&quot;yyy&quot; yyyå¯ä»¥å†™ä¸€äº›ç®€å•çš„è¯­å¥ --&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;isHot = !isHot&quot;</span>&gt;</span>åˆ‡æ¢å¤©æ°”<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- &lt;button @click=&quot;changeWeather&quot;&gt;åˆ‡æ¢å¤©æ°”&lt;/button&gt; --&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">isHot</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">changeWeather</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">info</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span> ? <span class="hljs-string">&quot;ç‚çƒ­&quot;</span> : <span class="hljs-string">&quot;å‡‰çˆ½&quot;</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å¤©æ°”æ¡ˆä¾‹_ç›‘è§†å±æ€§<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  ç›‘è§†å±æ€§watchï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.å½“è¢«ç›‘è§†çš„å±æ€§å˜åŒ–æ—¶, å›è°ƒå‡½æ•°è‡ªåŠ¨è°ƒç”¨, è¿›è¡Œç›¸å…³æ“ä½œ</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.ç›‘è§†çš„å±æ€§å¿…é¡»å­˜åœ¨ï¼Œæ‰èƒ½è¿›è¡Œç›‘è§†ï¼ï¼</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.ç›‘è§†çš„ä¸¤ç§å†™æ³•ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).new Vueæ—¶ä¼ å…¥watché…ç½®</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).é€šè¿‡vm.$watchç›‘è§†</span><br><span class="hljs-comment">Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;&#123;info&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ç»‘å®šäº‹ä»¶çš„æ—¶å€™: @xxx=&quot;yyy&quot; yyyå¯ä»¥å†™ä¸€äº›ç®€å•çš„è¯­å¥ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- &lt;button @click=&quot;isHot = !isHot&quot;&gt;åˆ‡æ¢å¤©æ°”&lt;/button&gt; --&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeWeather&quot;</span>&gt;</span>åˆ‡æ¢å¤©æ°”<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">isHot</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">changeWeather</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">info</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span> ? <span class="hljs-string">&quot;ç‚çƒ­&quot;</span> : <span class="hljs-string">&quot;å‡‰çˆ½&quot;</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125; <span class="hljs-comment">/* Â  Â  Â  Â  Â  Â  watch: &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isHot: &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  immediate:true, // åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€æ¬¡</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // handler ä»€ä¹ˆæ—¶å€™è°ƒç”¨? isHotå‘ç”Ÿæ”¹å˜æ—¶</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handler(newValue, oldValue) &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(&#x27;isHotè¢«ä¿®æ”¹äº†&#x27;, newValue, oldValue);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125; */</span>,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">      vm.$watch(<span class="hljs-string">&quot;isHot&quot;</span>, &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€æ¬¡ // handler ä»€ä¹ˆæ—¶å€™è°ƒç”¨? isHotå‘ç”Ÿæ”¹å˜æ—¶</span></span><br><span class="language-javascript">        <span class="hljs-title function_">handler</span>(<span class="hljs-params">newValue, oldValue</span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;isHotè¢«ä¿®æ”¹äº†&quot;</span>, newValue, oldValue);</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å¤©æ°”æ¡ˆä¾‹_æ·±åº¦ç›‘è§†<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  æ·±åº¦ç›‘è§†ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).Vueä¸­çš„watché»˜è®¤ä¸ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜ï¼ˆä¸€å±‚ï¼‰ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).é…ç½®deep:trueå¯ä»¥ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼æ”¹å˜ï¼ˆå¤šå±‚ï¼‰ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  å¤‡æ³¨ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).Vueè‡ªèº«å¯ä»¥ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜ï¼Œä½†Vueæä¾›çš„watché»˜è®¤ä¸å¯ä»¥ï¼</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).ä½¿ç”¨watchæ—¶æ ¹æ®æ•°æ®çš„å…·ä½“ç»“æ„ï¼Œå†³å®šæ˜¯å¦é‡‡ç”¨æ·±åº¦ç›‘è§†ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;&#123;info&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeWeather&quot;</span>&gt;</span>åˆ‡æ¢å¤©æ°”<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>açš„å€¼æ˜¯: &#123;&#123;numbers.a&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;numbers.a++&quot;</span>&gt;</span>ç‚¹æˆ‘a++<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>bçš„å€¼æ˜¯: &#123;&#123;numbers.b&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;numbers.b++&quot;</span>&gt;</span>ç‚¹æˆ‘b++<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;numbers = &#123;a:666,b:999&#125;&quot;</span>&gt;</span>ç‚¹æˆ‘æ›¿æ¢numbers<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">isHot</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">numbers</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">b</span>: <span class="hljs-number">1</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">changeWeather</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">info</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span> ? <span class="hljs-string">&quot;ç‚çƒ­&quot;</span> : <span class="hljs-string">&quot;å‡‰çˆ½&quot;</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">watch</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">isHot</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// immediate: true, // åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€æ¬¡</span></span><br><span class="language-javascript">            <span class="hljs-comment">// handler ä»€ä¹ˆæ—¶å€™è°ƒç”¨? isHotå‘ç”Ÿæ”¹å˜æ—¶</span></span><br><span class="language-javascript">            <span class="hljs-title function_">handler</span>(<span class="hljs-params">newValue, oldValue</span>) &#123;</span><br><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;isHotè¢«ä¿®æ”¹äº†&quot;</span>, newValue, oldValue);</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">          &#125;, <span class="hljs-comment">// ç›‘è§†å¤šçº§ç»“æ„ä¸­æŸä¸ªå±æ€§çš„å˜åŒ– // ç›‘è§†å¤šçº§ç»“æ„ä¸­æ‰€æœ‰å±æ€§çš„å˜åŒ–</span></span><br><span class="language-javascript">          <span class="hljs-comment">/* Â  Â  Â  Â  Â  Â  Â  Â  &#x27;numbers.a&#x27;: &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handler(newValue, oldValue) &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(&#x27;numbersè¢«ä¿®æ”¹äº†&#x27;, newValue, oldValue);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &#125;, */</span></span><br><span class="language-javascript">          <span class="hljs-attr">numbers</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">            <span class="hljs-title function_">handler</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;numbersè¢«ä¿®æ”¹äº†&quot;</span>);</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å¤©æ°”æ¡ˆä¾‹_ç›‘è§†å±æ€§_ç®€å†™<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;&#123;info&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeWeather&quot;</span>&gt;</span>åˆ‡æ¢å¤©æ°”<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">isHot</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">changeWeather</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">info</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">isHot</span> ? <span class="hljs-string">&quot;ç‚çƒ­&quot;</span> : <span class="hljs-string">&quot;å‡‰çˆ½&quot;</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">watch</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// æ­£å¸¸å†™æ³•</span></span><br><span class="language-javascript">          <span class="hljs-comment">/* Â  Â  Â  Â  Â  Â  Â  Â  isHot: &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // immediate: true, // åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€æ¬¡</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // handler ä»€ä¹ˆæ—¶å€™è°ƒç”¨? isHotå‘ç”Ÿæ”¹å˜æ—¶</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // deep: true,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handler(newValue, oldValue) &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(&#x27;isHotè¢«ä¿®æ”¹äº†&#x27;, newValue, oldValue);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;, */</span></span><br><span class="language-javascript">          <span class="hljs-comment">// ç®€å†™</span></span><br><span class="language-javascript">          <span class="hljs-comment">// æ²¡æœ‰deep, immediateçš„æ—¶å€™å°±å¯ä»¥ç®€å†™</span></span><br><span class="language-javascript">          <span class="hljs-comment">// isHot(newValue, oldValue) &#123;</span></span><br><span class="language-javascript">          <span class="hljs-comment">// Â  Â  console.log(&#x27;isHotè¢«ä¿®æ”¹äº†&#x27;, newValue, oldValue);</span></span><br><span class="language-javascript">          <span class="hljs-comment">// &#125;</span></span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;); <span class="hljs-comment">// æ­£å¸¸çš„å†™æ³• // vm.$watch(&#x27;isHot&#x27;, &#123; // Â  Â  // immediate: true, // åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€æ¬¡ // Â  Â  // handler ä»€ä¹ˆæ—¶å€™è°ƒç”¨? isHotå‘ç”Ÿæ”¹å˜æ—¶ // Â  Â  // deep: true, // Â  Â  handler(newValue, oldValue) &#123; // Â  Â  Â  Â  console.log(&#x27;isHotè¢«ä¿®æ”¹äº†&#x27;, newValue, oldValue); // Â  Â  &#125; // &#125;) // ç®€å†™æ–¹å¼</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      vm.$watch(<span class="hljs-string">&quot;isHot&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">newValue, oldValue</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;isHotè¢«ä¿®æ”¹äº†&quot;</span>, newValue, oldValue);</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸¤ä¸ªé‡è¦çš„å°åŸåˆ™ï¼š 1.æ‰€è¢« Vue ç®¡ç†çš„å‡½æ•°ï¼Œæœ€å¥½å†™æˆæ™®é€šå‡½æ•°ï¼Œè¿™æ · this çš„æŒ‡å‘æ‰æ˜¯ vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚ 2.æ‰€æœ‰ä¸è¢« Vue æ‰€ç®¡ç†çš„å‡½æ•°ï¼ˆå®šæ—¶å™¨çš„å›è°ƒå‡½æ•°ã€ajax çš„å›è°ƒå‡½æ•°ç­‰ã€Promise çš„å›è°ƒå‡½æ•°ï¼‰ï¼Œæœ€å¥½å†™æˆç®­å¤´å‡½æ•°ï¼Œè¿™æ · this çš„æŒ‡å‘æ‰æ˜¯ vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å§“åæ¡ˆä¾‹_watchå®ç°<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  computedå’Œwatchä¹‹é—´çš„åŒºåˆ«ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.computedèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œwatchéƒ½å¯ä»¥å®Œæˆã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.watchèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œcomputedä¸ä¸€å®šèƒ½å®Œæˆï¼Œä¾‹å¦‚ï¼šwatchå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  ä¸¤ä¸ªé‡è¦çš„å°åŸåˆ™ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.æ‰€è¢«Vueç®¡ç†çš„å‡½æ•°ï¼Œæœ€å¥½å†™æˆæ™®é€šå‡½æ•°ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.æ‰€æœ‰ä¸è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼ˆå®šæ—¶å™¨çš„å›è°ƒå‡½æ•°ã€ajaxçš„å›è°ƒå‡½æ•°ç­‰ã€Promiseçš„å›è°ƒå‡½æ•°ï¼‰ï¼Œæœ€å¥½å†™æˆç®­å¤´å‡½æ•°ï¼Œ</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  è¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</span><br><span class="hljs-comment">Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â  å§“: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;firstName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;lastName&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â  å…¨å: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">firstName</span>: <span class="hljs-string">&quot;å¼ &quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">lastName</span>: <span class="hljs-string">&quot;ä¸‰&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">fullName</span>: <span class="hljs-string">&quot;å¼ -ä¸‰&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">watch</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">firstName</span>(<span class="hljs-params">val</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">              <span class="hljs-variable language_">this</span>.<span class="hljs-property">fullName</span> = val + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;</span><br><span class="language-javascript">            &#125;, <span class="hljs-number">1000</span>);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-title function_">lastName</span>(<span class="hljs-params">val</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">fullName</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> + <span class="hljs-string">&quot;-&quot;</span> + val;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="ç»‘å®šæ ·å¼"><a href="#ç»‘å®šæ ·å¼" class="headerlink" title="ç»‘å®šæ ·å¼"></a>ç»‘å®šæ ·å¼</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç»‘å®šæ ·å¼<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.basic</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.happy</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">border</span>: <span class="hljs-number">4px</span> solid red;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  ;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.644</span>);</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">30deg</span>, yellow, pink, orange, yellow);</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.sad</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">border</span>: <span class="hljs-number">4px</span> dashed <span class="hljs-built_in">rgb</span>(<span class="hljs-number">2</span>, <span class="hljs-number">197</span>, <span class="hljs-number">2</span>);</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">background-color</span>: gray;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.normal</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">background-color</span>: skyblue;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.atguigu1</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">background-color</span>: yellowgreen;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.atguigu2</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">text-shadow</span>: <span class="hljs-number">2px</span> <span class="hljs-number">2px</span> <span class="hljs-number">10px</span> red;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.atguigu3</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css">      Â  Â </span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  ç»‘å®šæ ·å¼ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1. classæ ·å¼</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å†™æ³•:class=&quot;xxx&quot; xxxå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å¯¹è±¡ã€æ•°ç»„ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å­—ç¬¦ä¸²å†™æ³•é€‚ç”¨äºï¼šç±»åä¸ç¡®å®šï¼Œè¦åŠ¨æ€è·å–ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å¯¹è±¡å†™æ³•é€‚ç”¨äºï¼šè¦ç»‘å®šå¤šä¸ªæ ·å¼ï¼Œä¸ªæ•°ä¸ç¡®å®šï¼Œåå­—ä¹Ÿä¸ç¡®å®šã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  æ•°ç»„å†™æ³•é€‚ç”¨äºï¼šè¦ç»‘å®šå¤šä¸ªæ ·å¼ï¼Œä¸ªæ•°ç¡®å®šï¼Œåå­—ä¹Ÿç¡®å®šï¼Œä½†ä¸ç¡®å®šç”¨ä¸ç”¨ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2. styleæ ·å¼</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  :style=&quot;&#123;fontSize: xxx&#125;&quot;å…¶ä¸­xxxæ˜¯åŠ¨æ€å€¼ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  :style=&quot;[a,b]&quot;å…¶ä¸­aã€bæ˜¯æ ·å¼å¯¹è±¡ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ç»‘å®šclassæ ·å¼ -- å­—ç¬¦ä¸²å†™æ³•, é€‚ç”¨äº: æ ·å¼çš„ç±»åä¸ç¡®å®š, éœ€è¦åŠ¨æ€æŒ‡å®š --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;mood&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeMood&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ç»‘å®šclassæ ·å¼ -- æ•°ç»„å†™æ³•, é€‚ç”¨äº: è¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ä¸ç¡®å®š, åå­—ä¹Ÿä¸ç¡®å®š --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;classArr&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ç»‘å®šclassæ ·å¼ -- å¯¹è±¡å†™æ³•, é€‚ç”¨äº: è¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ç¡®å®š, åå­—ä¹Ÿç¡®å®š, ä½†è¦åŠ¨æ€å†³å®šç”¨ä¸ç”¨ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;classObj&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;&#123;atguigu1: true, atguigu2: true&#125;&quot;</span>&gt;</span><br>        &#123;&#123;name&#125;&#125;<br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;fontSize: fsize+&#x27;px&#x27;&#125;&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ç»‘å®šstyleæ ·å¼ -- å¯¹è±¡å†™æ³• --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;styleObj&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ç»‘å®šstyleæ ·å¼ -- æ•°ç»„å†™æ³• --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- æ•°æ®å†™æ³•å¾ˆå°‘ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;[styleObj, styleObj2]&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic&quot;</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;styleArr&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">mood</span>: <span class="hljs-string">&quot;normal&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">classArr</span>: [<span class="hljs-string">&quot;atguigu1&quot;</span>, <span class="hljs-string">&quot;atguigu2&quot;</span>, <span class="hljs-string">&quot;atguigu3&quot;</span>],</span><br><span class="language-javascript">          <span class="hljs-attr">classObj</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">atguigu1</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">atguigu2</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-attr">fsize</span>: <span class="hljs-number">40</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">styleObj</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">fontSize</span>: <span class="hljs-string">&quot;40px&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;red&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-attr">styleObj2</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&quot;orange&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-attr">styleArr</span>: [</span><br><span class="language-javascript">            &#123;</span><br><span class="language-javascript">              <span class="hljs-attr">fontSize</span>: <span class="hljs-string">&quot;40px&quot;</span>,</span><br><span class="language-javascript">              <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;blue&quot;</span>,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            &#123;</span><br><span class="language-javascript">              <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&quot;gray&quot;</span>,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">          ],</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">changeMood</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">/* Â  Â console.log(parseInt(Math.random()*3));</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â let rand = parseInt(Math.random()*3)</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â if (rand == 0) &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â this.mood = &#x27;happy&#x27;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â if (rand == 1) &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â this.mood = &#x27;sad&#x27;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â if (rand == 2) &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â this.mood = &#x27;normal&#x27;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &#125; */</span></span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> arr = [<span class="hljs-string">&quot;happy&quot;</span>, <span class="hljs-string">&quot;sad&quot;</span>, <span class="hljs-string">&quot;normal&quot;</span>];</span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> index = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">3</span>);</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">mood</span> = arr[index];</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ¡ä»¶æ¸²æŸ“<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  æ¡ä»¶æ¸²æŸ“ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.v-if</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å†™æ³•ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).v-if=&quot;è¡¨è¾¾å¼&quot; </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).v-else-if=&quot;è¡¨è¾¾å¼&quot;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (3).v-else=&quot;è¡¨è¾¾å¼&quot;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  é€‚ç”¨äºï¼šåˆ‡æ¢é¢‘ç‡è¾ƒä½çš„åœºæ™¯ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ç‰¹ç‚¹ï¼šä¸å±•ç¤ºçš„DOMå…ƒç´ ç›´æ¥è¢«ç§»é™¤ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  æ³¨æ„ï¼šv-ifå¯ä»¥å’Œ:v-else-ifã€v-elseä¸€èµ·ä½¿ç”¨ï¼Œä½†è¦æ±‚ç»“æ„ä¸èƒ½è¢«â€œæ‰“æ–­â€ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.v-show</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å†™æ³•ï¼šv-show=&quot;è¡¨è¾¾å¼&quot;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  é€‚ç”¨äºï¼šåˆ‡æ¢é¢‘ç‡è¾ƒé«˜çš„åœºæ™¯ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ç‰¹ç‚¹ï¼šä¸å±•ç¤ºçš„DOMå…ƒç´ æœªè¢«ç§»é™¤ï¼Œä»…ä»…æ˜¯ä½¿ç”¨æ ·å¼éšè—æ‰</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.å¤‡æ³¨ï¼šä½¿ç”¨v-ifçš„æ—¶ï¼Œå…ƒç´ å¯èƒ½æ— æ³•è·å–åˆ°ï¼Œè€Œä½¿ç”¨v-showä¸€å®šå¯ä»¥è·å–åˆ°ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å½“å‰çš„nå€¼æ˜¯:&#123;&#123;n&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;n++&quot;</span>&gt;</span>ç‚¹æˆ‘n+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ä½¿ç”¨v-showåšæ¡ä»¶æ¸²æŸ“ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- &lt;h2 v-show=&quot;true&quot;&gt;æ¬¢è¿æ¥åˆ°&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- &lt;h2 v-show=&quot;a&quot;&gt;æ¬¢è¿æ¥åˆ°&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- &lt;h2 v-show=&quot;1 === 3&quot;&gt;æ¬¢è¿æ¥åˆ°&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ä½¿ç”¨v-showåšæ¡ä»¶æ¸²æŸ“ Â --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- &lt;h2 v-if=&quot;1 === 1&quot;&gt;æ¬¢è¿æ¥åˆ°&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- &lt;h2 v-if=&quot;false&quot;&gt;æ¬¢è¿æ¥åˆ°&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- v-elseå’Œv-else-if --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ä¸­é—´çš„divä¸å…è®¸è¢«æ‰“æ–­ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- &lt;div v-if=&quot;n === 1&quot;&gt;Angular&lt;/div&gt; --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- &lt;div v-else-if=&quot;n === 2&quot;&gt;React&lt;/div&gt; --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- &lt;div v-else-if=&quot;n === 3&quot;&gt;Vue&lt;/div&gt; --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- &lt;div v-else&gt;å“ˆå“ˆ&lt;/div&gt; --&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- v-ifå’Œtemplateçš„é…åˆä½¿ç”¨ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- templateæ ‡ç­¾å†…éƒ¨åªèƒ½è·Ÿv-ifä¸€èµ·é…åˆä½¿ç”¨, ä¸èƒ½è·Ÿv-show --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;n === 1&quot;</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä½ å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å°šç¡…è°·<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>åŒ—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">a</span>: <span class="hljs-literal">false</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">n</span>: <span class="hljs-number">0</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h2><p>åŸºæœ¬åˆ—è¡¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>åŸºæœ¬åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  v-foræŒ‡ä»¤:</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.ç”¨äºå±•ç¤ºåˆ—è¡¨æ•°æ®</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.è¯­æ³•ï¼šv-for=&quot;(item, index) in xxx&quot; :key=&quot;yyy&quot;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.å¯éå†ï¼šæ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰ã€æŒ‡å®šæ¬¡æ•°ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- éå†æ•°ç»„ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>äººå‘˜åˆ—è¡¨(éå†æ•°ç»„)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-comment">&lt;!-- ä¸¤ä¸ªå‚æ•°ä¹Ÿå¯ä»¥ä¸åŠ å°æ‹¬å·(), ä½†æ˜¯æœ€å¥½å…»æˆä¸€ä¸ªå¥½çš„ä¹ æƒ¯ --&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-comment">&lt;!-- &lt;li v-for=&quot;person,index in persons&quot; :key=&quot;index&quot;&gt;&lt;/li&gt; --&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-comment">&lt;!-- ä¹Ÿå¯ä»¥ä½¿ç”¨ofæ¥éå†, æ¥è¿‘ JavaScript è¿­ä»£å™¨çš„è¯­æ³• --&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-comment">&lt;!-- &lt;li v-for=&quot;(person,index) of persons&quot; :key=&quot;index&quot;&gt;&lt;/li&gt; --&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(person,index) in persons&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;index&#125;&#125; - &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.id&#125;&#125; Â  Â  Â  Â  Â <br>          Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- éå†å¯¹è±¡ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ±½è½¦ä¿¡æ¯(éå†å¯¹è±¡)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(value,key) in car&quot;</span> <span class="hljs-attr">::key</span>=<span class="hljs-string">&quot;key&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;key&#125;&#125; -- &#123;&#123;value&#125;&#125; Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â  Â  Â  Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- éå†å­—ç¬¦ä¸² --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>éå†å­—ç¬¦ä¸²(ç”¨å¾—å°‘)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(char,index) in str&quot;</span> <span class="hljs-attr">::key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;index&#125;&#125; -- &#123;&#123;char&#125;&#125; Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â  Â  Â  Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- éå†æŒ‡å®šæ¬¡æ•° --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>éå†æŒ‡å®šæ¬¡æ•°(ç”¨å¾—å°‘)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(number,index) in 5&quot;</span> <span class="hljs-attr">::key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;number&#125;&#125; -- &#123;&#123;index&#125;&#125; Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">persons</span>: [</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;002&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;æå››&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">19</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;003&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;ç‹äº”&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;,</span><br><span class="language-javascript">          ],</span><br><span class="language-javascript">          <span class="hljs-attr">car</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¥¥è¿ªA8&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">price</span>: <span class="hljs-string">&quot;70ä¸‡&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;é»‘è‰²&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-attr">str</span>: <span class="hljs-string">&quot;hello&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>key çš„åŸç†<br>å¼€å‘ä¸­å¦‚ä½•é€‰æ‹© key?: 1.æœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸º key, æ¯”å¦‚ idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼ã€‚ 2.å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œä½¿ç”¨ index ä½œä¸º key æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>keyçš„åŸç†<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  é¢è¯•é¢˜ï¼šreactã€vueä¸­çš„keyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿï¼ˆkeyçš„å†…éƒ¨åŸç†ï¼‰</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1. è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVueä¼šæ ¹æ®ã€æ–°æ•°æ®ã€‘ç”Ÿæˆã€æ–°çš„è™šæ‹ŸDOMã€‘, </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  éšåVueè¿›è¡Œã€æ–°è™šæ‹ŸDOMã€‘ä¸ã€æ—§è™šæ‹ŸDOMã€‘çš„å·®å¼‚æ¯”è¾ƒï¼Œæ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.å¯¹æ¯”è§„åˆ™ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).æ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â‘ .è‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜, ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOMï¼</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â‘¡.è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†, åˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOMã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„key</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  åˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°åˆ°é¡µé¢ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3. ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1. è‹¥å¯¹æ•°æ®è¿›è¡Œï¼šé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œ:</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–° ==&gt; ç•Œé¢æ•ˆæœæ²¡é—®é¢˜, ä½†æ•ˆç‡ä½ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2. å¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOMï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–° ==&gt; ç•Œé¢æœ‰é—®é¢˜ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  4. å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?:</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.æœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkey, æ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œ</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- éå†æ•°ç»„ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>äººå‘˜åˆ—è¡¨(éå†æ•°ç»„)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>æ·»åŠ ä¸€ä¸ªè€åˆ˜<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(person,index) in persons&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;person.id&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.id&#125;&#125;<br>          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span> Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">persons</span>: [</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;002&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;æå››&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">19</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;003&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;ç‹äº”&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;,</span><br><span class="language-javascript">          ],</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">add</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">persons</span>.<span class="hljs-title function_">unshift</span>(&#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;004&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;è€åˆ˜&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">40</span> &#125;);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FvndVbk8QcXbm5WQfmIAwM9RHDnA.png"><br><img src="http://cdn.xiamu.icu//FjdbeZ3yMnWRT3Q8WquMC_mPz-Wu.png"></p><h2 id="ç›‘è§†æ•°æ®çš„åŸç†"><a href="#ç›‘è§†æ•°æ®çš„åŸç†" class="headerlink" title="ç›‘è§†æ•°æ®çš„åŸç†"></a>ç›‘è§†æ•°æ®çš„åŸç†</h2><p>ç›‘æµ‹æ•°æ®çš„åŸç†å°±æ˜¯ç›‘æµ‹ set è¢«è°ƒç”¨ç›‘æµ‹çš„, ä¸€æ—¦ set è¢«è°ƒç”¨, å°±ä¼šè¢«ç›‘æµ‹åˆ°</p><p><img src="http://cdn.xiamu.icu//FgHfvU2dLxl5hH8ah8xUA9HXIySU.png"><br><img src="http://cdn.xiamu.icu//Fu4DQlMOWpmwRulYpiez5Y5zWcee.png"><br>å› ä¸º vm.student &#x3D;&#x3D;&#x3D; vm._data.student , æ‰€ä»¥ä¸Šé¢çš„ä»£ç å¯ä»¥ç®€å†™<br><img src="http://cdn.xiamu.icu//FpsAmhp7QDUOrVrOH141OdpbTVvi.png"><br><img src="http://cdn.xiamu.icu//FmAe94iutK9tZkmQjKUzCmdpQJ8F.png"><br>æ³¨æ„, è¿™ç§æ–¹å¼åªèƒ½ç»™ vm ä¸­çš„æŸä¸€ä¸ªå¯¹è±¡è¿½åŠ å±æ€§, ä¸èƒ½ç»™ data è¿½åŠ ä¸€ä¸ªå±æ€§<br><img src="http://cdn.xiamu.icu//FkKNuDplkfonq-FkH1s9lVBfW7Ln.png"></p><p><img src="http://cdn.xiamu.icu//FlEyJyZmqK1C8HuzYEiqcFze3SQR.png"></p><p><img src="http://cdn.xiamu.icu//FjHDyckS-FbvMDlOjl2r9xNeFykV.png"><br>åªç”¨ç€äº†è¿™ä¸ƒä¸ªæ–¹æ³•, vue ä¼šå‘ç°ä¿®æ”¹äº†æ•°ç»„<br>ä¸‹é¢è¿™ç§æ–¹æ³•, ä¿®æ”¹æ•°ç»„, vue ä¹Ÿä¼šå‘ç°, ç„¶åæ¸²æŸ“é¡µé¢<br><img src="http://cdn.xiamu.icu//Fv0-H4bK9jhOhepkOuZt57foJ5FY.png"></p><p>æ•°ç»„é‡Œé¢ä¸èƒ½å¤Ÿä½¿ç”¨ getset æ¥ç›‘è§†, å°½ç®¡ä¿®æ”¹äº†æ•°ç»„ç´¢å¼•çš„å€¼, ä½†æ˜¯é¡µé¢å¹¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜<br><img src="http://cdn.xiamu.icu//FpoigAWQViUCrjG4rikXwt_132y8.png"><br>ä½¿ç”¨äº† push çš„æ–¹å¼ä¿®æ”¹äº†æ•°ç»„, ä½†æ˜¯é¡µé¢å‘ç”Ÿäº†å˜åŒ–<br><img src="http://cdn.xiamu.icu//Flv_U3B_lTrJhiAvKjQVTxi7ao5F.png"><br>ä½¿ç”¨äº†è¿™ä¸ƒä¸ªæ–¹æ³•ä¸­çš„ä¿®æ”¹äº†æ•°ç»„, éƒ½æ˜¯å“åº”å¼çš„, é¡µé¢éƒ½ä¼šæœ‰ååº”çš„</p><h2 id="åˆ—è¡¨æ¸²æŸ“-1"><a href="#åˆ—è¡¨æ¸²æŸ“-1" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h2><p>åŸºæœ¬åˆ—è¡¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>åŸºæœ¬åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  v-foræŒ‡ä»¤:</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.ç”¨äºå±•ç¤ºåˆ—è¡¨æ•°æ®</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.è¯­æ³•ï¼šv-for=&quot;(item, index) in xxx&quot; :key=&quot;yyy&quot;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.å¯éå†ï¼šæ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰ã€æŒ‡å®šæ¬¡æ•°ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- éå†æ•°ç»„ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>äººå‘˜åˆ—è¡¨(éå†æ•°ç»„)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-comment">&lt;!-- ä¸¤ä¸ªå‚æ•°ä¹Ÿå¯ä»¥ä¸åŠ å°æ‹¬å·(), ä½†æ˜¯æœ€å¥½å…»æˆä¸€ä¸ªå¥½çš„ä¹ æƒ¯ --&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-comment">&lt;!-- &lt;li v-for=&quot;person,index in persons&quot; :key=&quot;index&quot;&gt;&lt;/li&gt; --&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-comment">&lt;!-- ä¹Ÿå¯ä»¥ä½¿ç”¨ofæ¥éå†, æ¥è¿‘ JavaScript è¿­ä»£å™¨çš„è¯­æ³• --&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-comment">&lt;!-- &lt;li v-for=&quot;(person,index) of persons&quot; :key=&quot;index&quot;&gt;&lt;/li&gt; --&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(person,index) in persons&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;index&#125;&#125; - &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.id&#125;&#125; Â  Â  Â  Â  Â <br>          Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- éå†å¯¹è±¡ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ±½è½¦ä¿¡æ¯(éå†å¯¹è±¡)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(value,key) in car&quot;</span> <span class="hljs-attr">::key</span>=<span class="hljs-string">&quot;key&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;key&#125;&#125; -- &#123;&#123;value&#125;&#125; Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â  Â  Â  Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- éå†å­—ç¬¦ä¸² --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>éå†å­—ç¬¦ä¸²(ç”¨å¾—å°‘)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(char,index) in str&quot;</span> <span class="hljs-attr">::key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;index&#125;&#125; -- &#123;&#123;char&#125;&#125; Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â  Â  Â  Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- éå†æŒ‡å®šæ¬¡æ•° --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>éå†æŒ‡å®šæ¬¡æ•°(ç”¨å¾—å°‘)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(number,index) in 5&quot;</span> <span class="hljs-attr">::key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;number&#125;&#125; -- &#123;&#123;index&#125;&#125; Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">persons</span>: [</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;002&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;æå››&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">19</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;003&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;ç‹äº”&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;,</span><br><span class="language-javascript">          ],</span><br><span class="language-javascript">          <span class="hljs-attr">car</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¥¥è¿ªA8&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">price</span>: <span class="hljs-string">&quot;70ä¸‡&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;é»‘è‰²&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-attr">str</span>: <span class="hljs-string">&quot;hello&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>key çš„åŸç†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>keyçš„åŸç†<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  é¢è¯•é¢˜ï¼šreactã€vueä¸­çš„keyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿï¼ˆkeyçš„å†…éƒ¨åŸç†ï¼‰</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1. è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVueä¼šæ ¹æ®ã€æ–°æ•°æ®ã€‘ç”Ÿæˆã€æ–°çš„è™šæ‹ŸDOMã€‘, </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  éšåVueè¿›è¡Œã€æ–°è™šæ‹ŸDOMã€‘ä¸ã€æ—§è™šæ‹ŸDOMã€‘çš„å·®å¼‚æ¯”è¾ƒï¼Œæ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.å¯¹æ¯”è§„åˆ™ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).æ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â‘ .è‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜, ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOMï¼</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â‘¡.è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†, åˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOMã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„key</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  åˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°åˆ°é¡µé¢ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3. ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1. è‹¥å¯¹æ•°æ®è¿›è¡Œï¼šé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œ:</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–° ==&gt; ç•Œé¢æ•ˆæœæ²¡é—®é¢˜, ä½†æ•ˆç‡ä½ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2. å¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOMï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–° ==&gt; ç•Œé¢æœ‰é—®é¢˜ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  4. å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?:</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.æœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkey, æ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œ</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- éå†æ•°ç»„ --&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>äººå‘˜åˆ—è¡¨(éå†æ•°ç»„)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>æ·»åŠ ä¸€ä¸ªè€åˆ˜<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(person,index) in persons&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;person.id&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.id&#125;&#125;<br>          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span> Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">persons</span>: [</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;002&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;æå››&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">19</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;003&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;ç‹äº”&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;,</span><br><span class="language-javascript">          ],</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">add</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">persons</span>.<span class="hljs-title function_">unshift</span>(&#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;004&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;è€åˆ˜&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">40</span> &#125;);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åˆ—è¡¨è¿‡æ»¤</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>åˆ—è¡¨è¿‡æ»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>äººå‘˜åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥åå­—&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;keyWord&quot;</span> /&gt;</span> Â <br>      Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(person,index) in filPersons&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.id&#125;&#125; - &#123;&#123;person.sex&#125;&#125; Â  Â  Â <br>          Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">/* const vm = new Vue(&#123; // ç”¨watchå®ç°</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  el: &#x27;#root&#x27;,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  data: &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  keyWord: &#x27;&#x27;,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  persons: [</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#123; id: &#x27;001&#x27;, name: &#x27;é©¬å†¬æ¢…&#x27;, age: 18, sex: &#x27;å¥³&#x27; &#125;,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#123; id: &#x27;002&#x27;, name: &#x27;å‘¨å†¬é›¨&#x27;, age: 19, sex: &#x27;å¥³&#x27; &#125;,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#123; id: &#x27;003&#x27;, name: &#x27;å‘¨æ°ä¼¦&#x27;, age: 20, sex: &#x27;ç”·&#x27; &#125;,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#123; id: &#x27;004&#x27;, name: &#x27;æ¸©å…†ä¼¦&#x27;, age: 20, sex: &#x27;ç”·&#x27; &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  ],</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  filPersons: []</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  methods: &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  watch: &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  keyWord: &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  immediate: true,</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handler(val) &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.filPersons = this.persons.filter((p) =&gt; &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return p.name.indexOf(val) !== -1</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;)</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125; </span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  &#125;)*/</span> <span class="hljs-comment">// ç”¨computedå®ç°</span></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">keyWord</span>: <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">persons</span>: [</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;é©¬å†¬æ¢…&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;å¥³&quot;</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;002&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å‘¨å†¬é›¨&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">19</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;å¥³&quot;</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;003&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å‘¨æ°ä¼¦&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;ç”·&quot;</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;004&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;æ¸©å…†ä¼¦&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;ç”·&quot;</span> &#125;,</span><br><span class="language-javascript">          ],</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">filPersons</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">persons</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">              <span class="hljs-keyword">return</span> p.<span class="hljs-property">name</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">keyWord</span>) !== -<span class="hljs-number">1</span>;</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åˆ—è¡¨æ’åº</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>åˆ—è¡¨æ’åº<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>äººå‘˜åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥åå­—&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;keyWord&quot;</span> /&gt;</span> Â <br>      Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;sortType = 2&quot;</span>&gt;</span>å¹´é¾„å‡åº<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;sortType = 1&quot;</span>&gt;</span>å¹´é¾„é™åº<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;sortType = 0&quot;</span>&gt;</span>åŸé¡ºåº<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(person,index) in filPersons&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;person.id&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.age&#125;&#125; - &#123;&#123;person.sex&#125;&#125; Â  Â <br>          Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span> Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">keyWord</span>: <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">persons</span>: [</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;é©¬å†¬æ¢…&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">33</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;å¥³&quot;</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;002&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å‘¨å†¬é›¨&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;å¥³&quot;</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;003&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å‘¨æ°ä¼¦&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;ç”·&quot;</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;004&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;æ¸©å…†ä¼¦&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;ç”·&quot;</span> &#125;,</span><br><span class="language-javascript">          ],</span><br><span class="language-javascript">          <span class="hljs-attr">sortType</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 0åŸé¡ºåº Â 1 é™åº Â 2 å‡åº</span></span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">filPersons</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> arr = <span class="hljs-variable language_">this</span>.<span class="hljs-property">persons</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">              <span class="hljs-keyword">return</span> p.<span class="hljs-property">name</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">keyWord</span>) !== -<span class="hljs-number">1</span>;</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">sortType</span>) &#123;</span><br><span class="language-javascript">              arr.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">p1, p2</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">sortType</span> == <span class="hljs-number">1</span> ? p2.<span class="hljs-property">age</span> - p1.<span class="hljs-property">age</span> : p1.<span class="hljs-property">age</span> - p2.<span class="hljs-property">age</span>;</span><br><span class="language-javascript">              &#125;);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> arr;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ›´æ–°æ—¶çš„ä¸€ä¸ªé—®é¢˜</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>åˆ—è¡¨æ’åº<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>äººå‘˜åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;updateMei&quot;</span>&gt;</span>ç‚¹æˆ‘ä¿®æ”¹é©¬å†¬æ¢…<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(person,index) in persons&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;person.id&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;person.name&#125;&#125; - &#123;&#123;person.age&#125;&#125; - &#123;&#123;person.sex&#125;&#125; Â  Â <br>          Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">persons</span>: [</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;é©¬å†¬æ¢…&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">33</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;å¥³&quot;</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;002&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å‘¨å†¬é›¨&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;å¥³&quot;</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;003&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å‘¨æ°ä¼¦&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;ç”·&quot;</span> &#125;,</span><br><span class="language-javascript">            &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;004&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;æ¸©å…†ä¼¦&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;ç”·&quot;</span> &#125;,</span><br><span class="language-javascript">          ],</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">updateMei</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// this.persons[0].name = &#x27;é©¬è€å¸ˆ&#x27; Â  Â // å¥æ•ˆ</span></span><br><span class="language-javascript">            <span class="hljs-comment">// this.persons[0].age = 50 Â  Â  Â  Â  Â // å¥æ•ˆ</span></span><br><span class="language-javascript">            <span class="hljs-comment">// this.persons[0].sex = &#x27;ç”·&#x27; Â  Â  Â  Â // å¥æ•ˆ</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">persons</span>[<span class="hljs-number">0</span>] = &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;é©¬è€å¸ˆ&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;ç”·&quot;</span> &#125;;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>Vue æ£€æµ‹æ•°æ®æ”¹å˜çš„åŸç†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vueæ£€æµ‹æ•°æ®æ”¹å˜çš„åŸç†<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­¦æ ¡åç§°: &#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­¦æ ¡åœ°å€: &#123;&#123;address&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">address</span>: <span class="hljs-string">&quot;åŒ—äº¬&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ¨¡æ‹Ÿä¸€ä¸ªæ•°æ®æ£€æµ‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ¨¡æ‹Ÿä¸€ä¸ªæ•°æ®æ£€æµ‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> data = &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">address</span>: <span class="hljs-string">&quot;åŒ—äº¬&quot;</span>,</span><br><span class="language-javascript">      &#125;; <span class="hljs-comment">// let tmp = &#x27;å°šç¡…è°·&#x27; // setInterval(() =&gt; &#123; // Â  Â  if (data.name !== tmp) &#123; // Â  Â  Â  Â  tmp = data.name // Â  Â  Â  Â  console.log(&#x27;nameè¢«æ”¹äº†&#x27;); // Â  Â  &#125; // &#125;) // Object.defineProperty(data, &#x27;name&#x27;, &#123; // Â  Â  get() &#123; // Â  Â  Â  Â  return data.name // Â  Â  &#125;, // Â  Â  set(val) &#123; // Â  Â  Â  Â  data.name = val // Â  Â  &#125; // &#125;) // åˆ›å»ºä¸€ä¸ªç›‘è§†çš„å®ä¾‹å¯¹è±¡, ç”¨äºç›‘è§†dataä¸­å±æ€§çš„å˜åŒ–</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> obs = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Observer</span>(data);</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obs); <span class="hljs-comment">// å‡†å¤‡ä¸€ä¸ªvmå®ä¾‹å¯¹è±¡</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> vm = &#123;&#125;;</span><br><span class="language-javascript">      vm.<span class="hljs-property">_data</span> = data = obs; <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç›‘è§†å®ä¾‹å¯¹è±¡</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">function</span> <span class="hljs-title function_">Observer</span>(<span class="hljs-params">obj</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// æ±‡æ€»å¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§å½¢æˆä¸€ä¸ªæ•°ç»„</span></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(keys);</span><br><span class="language-javascript">        keys.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">k</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">this</span>, k, &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">              <span class="hljs-keyword">return</span> obj[k];</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-title function_">set</span>(<span class="hljs-params">val</span>) &#123;</span><br><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(</span><br><span class="language-javascript">                <span class="hljs-string">`<span class="hljs-subst">$&#123;k&#125;</span>è¢«æ”¹äº†è¢«æ”¹äº†, æˆ‘è¦å»è§£ææ¨¡æ¿, ç”Ÿæˆè™šæ‹ŸDOM.....æˆ‘è¦å¼€å§‹å¿™äº†`</span></span><br><span class="language-javascript">              );</span><br><span class="language-javascript">              obj[k] = val;</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">          &#125;);</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>Vue.set çš„ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vueæ£€æµ‹æ•°æ®æ”¹å˜çš„åŸç†<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­¦æ ¡åç§°: &#123;&#123;school.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­¦æ ¡åœ°å€: &#123;&#123;school.address&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ ¡é•¿: &#123;&#123;school.leader&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addSex&quot;</span>&gt;</span>ç‚¹æˆ‘æ·»åŠ ä¸€ä¸ªæ€§åˆ«: æ€§åˆ«ä¸ºç”·<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â <br>      Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“å: &#123;&#123;student.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¹´é¾„: &#123;&#123;student.age.rAge&#125;&#125;, &#123;&#123;student.age.sAge&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;student.sex&quot;</span>&gt;</span>æ€§åˆ«: &#123;&#123;student.sex&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">school</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">address</span>: <span class="hljs-string">&quot;åŒ—äº¬&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-attr">student</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;tom&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">age</span>: &#123;</span><br><span class="language-javascript">              <span class="hljs-attr">rAge</span>: <span class="hljs-number">40</span>,</span><br><span class="language-javascript">              <span class="hljs-attr">sAge</span>: <span class="hljs-number">29</span>,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">friends</span>: [</span><br><span class="language-javascript">              &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;jerry&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">35</span> &#125;,</span><br><span class="language-javascript">              &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;tony&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">36</span> &#125;,</span><br><span class="language-javascript">            ],</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">addSex</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">student</span>, <span class="hljs-string">&quot;sex&quot;</span>, <span class="hljs-string">&quot;ç”·&quot;</span>);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>Vue æ£€æµ‹æ•°æ®æ”¹å˜çš„åŸç†_æ•°ç»„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vueæ£€æµ‹æ•°æ®æ”¹å˜çš„åŸç†_æ•°ç»„<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­¦æ ¡åç§°: &#123;&#123;school.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­¦æ ¡åœ°å€: &#123;&#123;school.address&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ ¡é•¿: &#123;&#123;school.leader&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addSex&quot;</span>&gt;</span>ç‚¹æˆ‘æ·»åŠ ä¸€ä¸ªæ€§åˆ«: æ€§åˆ«ä¸ºç”·<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â <br>      Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“å: &#123;&#123;student.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¹´é¾„: &#123;&#123;student.age.rAge&#125;&#125;, &#123;&#123;student.age.sAge&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;student.sex&quot;</span>&gt;</span>æ€§åˆ«: &#123;&#123;student.sex&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ±å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(h,index) in student.hobby&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;h&#125;&#125; Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">school</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">address</span>: <span class="hljs-string">&quot;åŒ—äº¬&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-attr">student</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;tom&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">age</span>: &#123;</span><br><span class="language-javascript">              <span class="hljs-attr">rAge</span>: <span class="hljs-number">40</span>,</span><br><span class="language-javascript">              <span class="hljs-attr">sAge</span>: <span class="hljs-number">29</span>,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">hobby</span>: [<span class="hljs-string">&quot;æŠ½çƒŸ&quot;</span>, <span class="hljs-string">&quot;å–é…’&quot;</span>, <span class="hljs-string">&quot;çƒ«å¤´&quot;</span>],</span><br><span class="language-javascript">            <span class="hljs-attr">friends</span>: [</span><br><span class="language-javascript">              &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;jerry&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">35</span> &#125;,</span><br><span class="language-javascript">              &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;tony&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">36</span> &#125;,</span><br><span class="language-javascript">            ],</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">addSex</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">student</span>, <span class="hljs-string">&quot;sex&quot;</span>, <span class="hljs-string">&quot;ç”·&quot;</span>);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ€»ç»“ Vue æ•°æ®ç›‘æµ‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ€»ç»“Vueæ•°æ®ç›‘æµ‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Vueç›‘è§†æ•°æ®çš„åŸç†ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  1. vueä¼šç›‘è§†dataä¸­æ‰€æœ‰å±‚æ¬¡çš„æ•°æ®ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  2. å¦‚ä½•ç›‘æµ‹å¯¹è±¡ä¸­çš„æ•°æ®ï¼Ÿ</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  é€šè¿‡setterå®ç°ç›‘è§†ï¼Œä¸”è¦åœ¨new Vueæ—¶å°±ä¼ å…¥è¦ç›‘æµ‹çš„æ•°æ®ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).å¯¹è±¡ä¸­åè¿½åŠ çš„å±æ€§ï¼ŒVueé»˜è®¤ä¸åšå“åº”å¼å¤„ç†</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).å¦‚éœ€ç»™åæ·»åŠ çš„å±æ€§åšå“åº”å¼ï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹APIï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Vue.set(targetï¼ŒpropertyName/indexï¼Œvalue) æˆ– </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  vm.$set(targetï¼ŒpropertyName/indexï¼Œvalue)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  3. å¦‚ä½•ç›‘æµ‹æ•°ç»„ä¸­çš„æ•°æ®ï¼Ÿ</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  é€šè¿‡åŒ…è£¹æ•°ç»„æ›´æ–°å…ƒç´ çš„æ–¹æ³•å®ç°ï¼Œæœ¬è´¨å°±æ˜¯åšäº†ä¸¤ä»¶äº‹ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).è°ƒç”¨åŸç”Ÿå¯¹åº”çš„æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ›´æ–°ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).é‡æ–°è§£ææ¨¡æ¿ï¼Œè¿›è€Œæ›´æ–°é¡µé¢ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  4.åœ¨Vueä¿®æ”¹æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ä¸€å®šè¦ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.ä½¿ç”¨è¿™äº›API:push()ã€pop()ã€shift()ã€unshift()ã€splice()ã€sort()ã€reverse()</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.Vue.set() æˆ– vm.$set()</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  ç‰¹åˆ«æ³¨æ„ï¼šVue.set() å’Œ vm.$set() ä¸èƒ½ç»™vm æˆ– vmçš„æ ¹æ•°æ®å¯¹è±¡ æ·»åŠ å±æ€§ï¼ï¼ï¼</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­¦ç”Ÿä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;student.age++&quot;</span>&gt;</span>å¹´é¾„+1å²<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addSex&quot;</span>&gt;</span>æ·»åŠ æ€§åˆ«å±æ€§ï¼Œé»˜è®¤å€¼ï¼šç”·<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;updateSex&quot;</span>&gt;</span>ä¿®æ”¹æ€§åˆ«<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addFriends&quot;</span>&gt;</span>åœ¨åˆ—è¡¨é¦–ä½æ·»åŠ ä¸€ä¸ªæœ‹å‹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;updateFriends&quot;</span>&gt;</span>ä¿®æ”¹ç¬¬ä¸€ä¸ªæœ‹å‹çš„åå­—ä¸ºï¼šå¼ ä¸‰<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addHobby&quot;</span>&gt;</span>æ·»åŠ ä¸€ä¸ªçˆ±å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;updateHobby&quot;</span>&gt;</span>ä¿®æ”¹ç¬¬ä¸€ä¸ªçˆ±å¥½ä¸ºï¼šå¼€è½¦<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;deleteHobby&quot;</span>&gt;</span>è¿‡æ»¤æ‰çˆ±å¥½ä¸­çš„æŠ½çƒŸ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“å: &#123;&#123;student.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¹´é¾„: &#123;&#123;student.age&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;student.sex&quot;</span>&gt;</span>æ€§åˆ«: &#123;&#123;student.sex&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ±å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(h,index) in student.hobby&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;h&#125;&#125; Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æœ‹å‹ä»¬<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(f,index) in student.friends&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â  &#123;&#123;f.name&#125;&#125; -- &#123;&#123;f.age&#125;&#125; Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">student</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;tom&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">hobby</span>: [<span class="hljs-string">&quot;æŠ½çƒŸ&quot;</span>, <span class="hljs-string">&quot;å–é…’&quot;</span>, <span class="hljs-string">&quot;çƒ«å¤´&quot;</span>],</span><br><span class="language-javascript">            <span class="hljs-attr">friends</span>: [</span><br><span class="language-javascript">              &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;jerry&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">35</span> &#125;,</span><br><span class="language-javascript">              &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;tony&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">36</span> &#125;,</span><br><span class="language-javascript">            ],</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">addSex</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">student</span>, <span class="hljs-string">&quot;sex&quot;</span>, <span class="hljs-string">&quot;ç”·&quot;</span>);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-title function_">updateSex</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">student</span>.<span class="hljs-property">sex</span> = <span class="hljs-string">&quot;æœªçŸ¥&quot;</span>;</span><br><span class="language-javascript">            <span class="hljs-comment">/* Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (this.student.sex === &#x27;ç”·&#x27;) &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.$set(this.student, &#x27;sex&#x27;, &#x27;å¥³&#x27;)</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125; else &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.$set(this.student, &#x27;sex&#x27;, &#x27;ç”·&#x27;)</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125; */</span></span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-title function_">addFriends</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// vm.student.friends.unshift(&#123;name: &#x27;è‚‰è±†è”»&#x27;, age: 18&#125;)</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">student</span>.<span class="hljs-property">friends</span>.<span class="hljs-title function_">unshift</span>(&#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;è‚‰è±†è”»&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-title function_">updateFriends</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// vm.student.friends[0].name = &#x27;å¼ ä¸‰&#x27;</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">student</span>.<span class="hljs-property">friends</span>[<span class="hljs-number">0</span>].<span class="hljs-property">name</span> = <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-title function_">addHobby</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// vm.student.hobby.push(&#x27;å­¦ä¹ &#x27;)</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">student</span>.<span class="hljs-property">hobby</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;å­¦ä¹ &quot;</span>);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-title function_">updateHobby</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// vm.$set(vm.student.hobby, 0, &#x27;å¼€è½¦&#x27;)</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">student</span>.<span class="hljs-property">hobby</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;å¼€è½¦&quot;</span>); <span class="hljs-comment">// this.$set(this.student.hobby, 0, &#x27;å¼€è½¦&#x27;)</span></span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-title function_">deleteHobby</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// vm.student.hobby.filter(h =&gt; h.indexOf(&#x27;æŠ½çƒŸ&#x27;))</span></span><br><span class="language-javascript">            <span class="hljs-comment">// filteræ˜¯æµ…æ‹·è´</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-comment">// this.student.hobby = this.student.hobby.filter(h =&gt; h.indexOf(&#x27;æŠ½çƒŸ&#x27;))</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">student</span>.<span class="hljs-property">hobby</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">student</span>.<span class="hljs-property">hobby</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">              <span class="hljs-keyword">return</span> h !== <span class="hljs-string">&quot;æŠ½çƒŸ&quot;</span>;</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;); <span class="hljs-comment">/*</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  filteræ˜¯æµ…æ‹·è´</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  </span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  const words = [&#x27;spray&#x27;, &#x27;limit&#x27;, &#x27;elite&#x27;, &#x27;exuberant&#x27;, &#x27;destruction&#x27;, &#x27;present&#x27;];</span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  const result = words.filter(word =&gt; word.length &gt; 6);</span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  console.log(result);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  */</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="æ”¶é›†è¡¨å•æ•°æ®"><a href="#æ”¶é›†è¡¨å•æ•°æ®" class="headerlink" title="æ”¶é›†è¡¨å•æ•°æ®"></a>æ”¶é›†è¡¨å•æ•°æ®</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ”¶é›†è¡¨å•æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  æ”¶é›†è¡¨å•æ•°æ®ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  è‹¥ï¼š&lt;input type=&quot;text&quot;/&gt;ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œç”¨æˆ·è¾“å…¥çš„å°±æ˜¯valueå€¼ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  è‹¥ï¼š&lt;input type=&quot;radio&quot;/&gt;ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œä¸”è¦ç»™æ ‡ç­¾é…ç½®valueå€¼ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  è‹¥ï¼š&lt;input type=&quot;checkbox&quot;/&gt;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.æ²¡æœ‰é…ç½®inputçš„valueå±æ€§ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.é…ç½®inputçš„valueå±æ€§:</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1)v-modelçš„åˆå§‹å€¼æ˜¯éæ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2)v-modelçš„åˆå§‹å€¼æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„çš„å°±æ˜¯valueç»„æˆçš„æ•°ç»„</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å¤‡æ³¨ï¼šv-modelçš„ä¸‰ä¸ªä¿®é¥°ç¬¦ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lazyï¼šå¤±å»ç„¦ç‚¹å†æ”¶é›†æ•°æ®</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  numberï¼šè¾“å…¥å­—ç¬¦ä¸²è½¬ä¸ºæœ‰æ•ˆçš„æ•°å­—</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  trimï¼šè¾“å…¥é¦–å°¾ç©ºæ ¼è¿‡æ»¤</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> @<span class="hljs-attr">submit.prevent</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â  è´¦å·:<br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">v-model.trim</span>=<span class="hljs-string">&quot;userInfo.account&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">autofocus</span></span><br><span class="hljs-tag">        /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>        Â  Â  Â  Â  Â  Â  å¯†ç :<br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;userInfo.password&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>        Â  Â  Â  Â  Â  Â  å¹´é¾„:<br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">v-model.number</span>=<span class="hljs-string">&quot;userInfo.age&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>        Â  Â  Â  Â  Â  Â  æ€§åˆ«: Â  Â  Â  Â  Â  Â  ç”·<span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sex&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;male&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;userInfo.sex&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>        Â  Â  Â  Â  Â  Â  å¥³<span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sex&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;female&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;userInfo.sex&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>        Â  Â  Â  Â  Â  Â  çˆ±å¥½: Â  Â  Â  Â  Â  Â  æŠ½çƒŸ<span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æŠ½çƒŸ&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;userInfo.hobby&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>        Â  Â  Â  Â  Â  Â  å–é…’<span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;å–é…’&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;userInfo.hobby&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>        Â  Â  Â  Â  Â  Â  çƒ«å¤´<span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;çƒ«å¤´&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;userInfo.hobby&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>        Â  Â  Â  Â  Â  Â  æ‰€å±æ ¡åŒº Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;userInfo.city&quot;</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â <br>          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©æ ¡åŒº<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â <br>          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;beijing&quot;</span>&gt;</span>åŒ—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â <br>          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;shanghai&quot;</span>&gt;</span>ä¸Šæµ·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â <br>          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;shenzhen&quot;</span>&gt;</span>æ·±åœ³<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â  Â  Â <br>          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;wuhan&quot;</span>&gt;</span>æ­¦æ±‰<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>          Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>        Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>        Â  Â  Â  Â  Â  Â  å…¶ä»–ä¿¡æ¯: Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">v-model.lazy</span>=<span class="hljs-string">&quot;userInfo.other&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span> Â  Â  Â  Â  Â  Â <br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>        Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;userInfo.agree&quot;</span> /&gt;</span> Â  Â  Â  Â  Â <br>        Â  é˜…è¯»å¹¶æ¥å—<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://www.atguigu.com&quot;</span>&gt;</span>ã€Šç”¨æˆ·åè®®ã€‹<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> Â  Â  Â  Â  Â <br>        Â  <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>        Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">userInfo</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">account</span>: <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">password</span>: <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">sex</span>: <span class="hljs-string">&quot;female&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">hobby</span>: [],</span><br><span class="language-javascript">            <span class="hljs-attr">city</span>: <span class="hljs-string">&quot;beijing&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">other</span>: <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">agree</span>: <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">demo</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">userInfo</span>));</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h2><p>åœ¨<a href="https://www.bootcdn.cn/">https://www.bootcdn.cn/</a>ç½‘ç«™ä¸­æ‰¾åˆ° dayjs.min.js å¹¶ä¸”å¼•å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>è¿‡æ»¤å™¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/dayjs.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>Â  Â  Â  Â  <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  è¿‡æ»¤å™¨ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  å®šä¹‰ï¼šå¯¹è¦æ˜¾ç¤ºçš„æ•°æ®è¿›è¡Œç‰¹å®šæ ¼å¼åŒ–åå†æ˜¾ç¤ºï¼ˆé€‚ç”¨äºä¸€äº›ç®€å•é€»è¾‘çš„å¤„ç†ï¼‰ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  è¯­æ³•ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.æ³¨å†Œè¿‡æ»¤å™¨ï¼šVue.filter(name,callback) æˆ– new Vue&#123;filters:&#123;&#125;&#125;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.ä½¿ç”¨è¿‡æ»¤å™¨ï¼š&#123;&#123; xxx | è¿‡æ»¤å™¨å&#125;&#125; Â æˆ– Â v-bind:å±æ€§ = &quot;xxx | è¿‡æ»¤å™¨å&quot;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  å¤‡æ³¨ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.è¿‡æ»¤å™¨ä¹Ÿå¯ä»¥æ¥æ”¶é¢å¤–å‚æ•°ã€å¤šä¸ªè¿‡æ»¤å™¨ä¹Ÿå¯ä»¥ä¸²è”</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.å¹¶æ²¡æœ‰æ”¹å˜åŸæœ¬çš„æ•°æ®, æ˜¯äº§ç”Ÿæ–°çš„å¯¹åº”çš„æ•°æ®</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ˜¾ç¤ºæ ¼å¼åŒ–åçš„æ—¶é—´<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>Â  Â  Â  Â <span class="hljs-comment">&lt;!-- è®¡ç®—å±æ€§å®ç° --&gt;</span><br>Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç°åœ¨æ˜¯: &#123;&#123;fmtTime&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>Â  Â  Â  Â <span class="hljs-comment">&lt;!-- methodså®ç° --&gt;</span><br>Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç°åœ¨æ˜¯: &#123;&#123;getFmtTime()&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>Â  Â  Â  Â <span class="hljs-comment">&lt;!-- è¿‡æ»¤å™¨å®ç° --&gt;</span><br>Â  Â  Â  Â <span class="hljs-comment">&lt;!-- |æ˜¯ç®¡é“ç¬¦ --&gt;</span><br>Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç°åœ¨æ˜¯: &#123;&#123;time | timeFormater&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>Â  Â  Â  Â <span class="hljs-comment">&lt;!-- è¿‡æ»¤å™¨ä¼ å‚ --&gt;</span><br>Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç°åœ¨æ˜¯: &#123;&#123;time | timeFormater(&#x27;YYYY_MM_DD&#x27;)&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>Â  Â  Â  Â <span class="hljs-comment">&lt;!-- å¤šä¸ªè¿‡æ»¤å™¨çš„ä¸²è” --&gt;</span><br>Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç°åœ¨æ˜¯: &#123;&#123;time | timeFormater(&#x27;YYYY_MM_DD&#x27;) | mySlice&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>Â  Â  Â  Â <span class="hljs-comment">&lt;!-- å±æ€§ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ç®¡é“ç¬¦è¿‡æ»¤ --&gt;</span><br>Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">:x</span>=<span class="hljs-string">&quot;msg | mySlice&quot;</span>&gt;</span>å°šç¡…è°·<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>Â  Â  Â  Â <span class="hljs-comment">&lt;!-- æ³¨æ„ , è¿‡æ»¤å™¨åªèƒ½ä½¿ç”¨åœ¨æ’å€¼è¯­æ³•ä¸­å’Œv-bindä¸­ --&gt;</span><br>Â  Â  Â  Â <span class="hljs-comment">&lt;!-- ä¸èƒ½ä½¿ç”¨åœ¨v-modelä¸­ --&gt;</span><br>Â  Â  Â  Â <span class="hljs-comment">&lt;!-- &lt;input type=&quot;text&quot; v-model=&quot;msg | mySilce&quot;&gt; --&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root2&quot;</span>&gt;</span><br>Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;name | mySlice&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">Â  Â  Â  Â  <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span></span><br><span class="language-javascript">Â  Â  Â  Â  <span class="hljs-comment">// å…¨å±€è¿‡æ»¤å™¨</span></span><br><span class="language-javascript">Â  Â  Â  Â  <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-string">&#x27;mySlice&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>);</span><br><span class="language-javascript">Â  Â  Â  Â  &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">Â  Â  Â  Â  <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// time: 1621561377603 // æ—¶é—´æˆ³</span></span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">time</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), <span class="hljs-comment">// æ—¶é—´æˆ³</span></span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">msg</span>: <span class="hljs-string">&#x27;ä½ å¥½,å°šç¡…è°·&#x27;</span></span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;,</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-title function_">getFmtTime</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-title function_">dayjs</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">time</span>).<span class="hljs-title function_">format</span>(<span class="hljs-string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>);</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;,</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-title function_">fmtTime</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-title function_">dayjs</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">time</span>).<span class="hljs-title function_">format</span>(<span class="hljs-string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>);</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;,</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// å±€éƒ¨è¿‡æ»¤å™¨</span></span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">filters</span>: &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-title function_">timeFormater</span>(<span class="hljs-params">value, str=<span class="hljs-string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span></span>) &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-title function_">dayjs</span>(value).<span class="hljs-title function_">format</span>(str);</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &#125;,</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// mySlice(value) &#123;</span></span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// Â  Â  return value.slice(0, 4);</span></span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// &#125;</span></span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="language-javascript">Â  Â  Â  Â  &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">Â  Â  Â  Â  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#root2&#x27;</span>,</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;hello, atguigu&#x27;</span></span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;,</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â </span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="language-javascript">Â  Â  Â  Â  &#125;)</span><br><span class="language-javascript">Â  Â  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="å†…ç½®æŒ‡ä»¤"><a href="#å†…ç½®æŒ‡ä»¤" class="headerlink" title="å†…ç½®æŒ‡ä»¤"></a>å†…ç½®æŒ‡ä»¤</h2><p>v-text</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-textæŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  æˆ‘ä»¬å­¦è¿‡çš„æŒ‡ä»¤ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  v-bind Â : å•å‘ç»‘å®šè§£æè¡¨è¾¾å¼, å¯ç®€å†™ä¸º :xxx</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  v-model : åŒå‘æ•°æ®ç»‘å®š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  v-for Â  : éå†æ•°ç»„/å¯¹è±¡/å­—ç¬¦ä¸²</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  v-on Â  Â : ç»‘å®šäº‹ä»¶ç›‘å¬, å¯ç®€å†™ä¸º@</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  v-if Â  Â  Â  Â : æ¡ä»¶æ¸²æŸ“ï¼ˆåŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜å­˜åœ¨ï¼‰</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  v-else Â : æ¡ä»¶æ¸²æŸ“ï¼ˆåŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜å­˜åœ¨ï¼‰</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  v-show Â : æ¡ä»¶æ¸²æŸ“ (åŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å±•ç¤º)</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  v-textæŒ‡ä»¤ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.ä½œç”¨ï¼šå‘å…¶æ‰€åœ¨çš„èŠ‚ç‚¹ä¸­æ¸²æŸ“æ–‡æœ¬å†…å®¹ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.ä¸æ’å€¼è¯­æ³•çš„åŒºåˆ«ï¼šv-textä¼šæ›¿æ¢æ‰èŠ‚ç‚¹ä¸­çš„å†…å®¹ï¼Œ&#123;&#123;xx&#125;&#125;åˆ™ä¸ä¼šã€‚</span><br><span class="hljs-comment">Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>ä½ å¥½, &#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">&quot;str&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">str</span>: <span class="hljs-string">&quot;&lt;h2&gt;ä½ å¥½å•Š!&lt;/h2&gt;&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>v-html<br>v-html æœ‰å®‰å…¨æ€§é—®é¢˜ï¼ï¼ï¼ï¼<br>(1).åœ¨ç½‘ç«™ä¸ŠåŠ¨æ€æ¸²æŸ“ä»»æ„ HTML æ˜¯éå¸¸å±é™©çš„ï¼Œå®¹æ˜“å¯¼è‡´ XSS æ”»å‡»ã€‚<br>(2).ä¸€å®šè¦åœ¨å¯ä¿¡çš„å†…å®¹ä¸Šä½¿ç”¨ v-htmlï¼Œæ°¸ä¸è¦ç”¨åœ¨ç”¨æˆ·æäº¤çš„å†…å®¹ä¸Šï¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-htmlæŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  v-htmlæŒ‡ä»¤ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.ä½œç”¨ï¼šå‘æŒ‡å®šèŠ‚ç‚¹ä¸­æ¸²æŸ“åŒ…å«htmlç»“æ„çš„å†…å®¹ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.ä¸æ’å€¼è¯­æ³•çš„åŒºåˆ«ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).v-htmlä¼šæ›¿æ¢æ‰èŠ‚ç‚¹ä¸­æ‰€æœ‰çš„å†…å®¹ï¼Œ&#123;&#123;xx&#125;&#125;åˆ™ä¸ä¼šã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).v-htmlå¯ä»¥è¯†åˆ«htmlç»“æ„ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.ä¸¥é‡æ³¨æ„ï¼šv-htmlæœ‰å®‰å…¨æ€§é—®é¢˜ï¼ï¼ï¼ï¼</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).åœ¨ç½‘ç«™ä¸ŠåŠ¨æ€æ¸²æŸ“ä»»æ„HTMLæ˜¯éå¸¸å±é™©çš„ï¼Œå®¹æ˜“å¯¼è‡´XSSæ”»å‡»ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).ä¸€å®šè¦åœ¨å¯ä¿¡çš„å†…å®¹ä¸Šä½¿ç”¨v-htmlï¼Œæ°¸ä¸è¦ç”¨åœ¨ç”¨æˆ·æäº¤çš„å†…å®¹ä¸Šï¼</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>ä½ å¥½, &#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">&quot;str&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">&quot;str2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">str</span>: <span class="hljs-string">&quot;&lt;h2&gt;ä½ å¥½å•Š!&lt;/h2&gt;&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">str2</span>: <span class="hljs-string">&#x27;&lt;a href=javascript:location.href=&quot;http://www.baidu.com?&quot;+document.cookie&gt;ç‚¹æˆ‘æœ‰å¥½çœ‹çš„&lt;/a&gt;&#x27;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fnn1thQouxh4LjJCjoS1TfO4UvbU.png"><br><img src="http://cdn.xiamu.icu//FmmCs9tkdddxo1kVJuhcN99iatz0.png"><br>v-cloak</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-cloakæŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-attr">[v-cloak]</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">display</span>: none;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css">      Â  Â </span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  v-htmlæŒ‡ä»¤ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.ä½œç”¨ï¼šå‘æŒ‡å®šèŠ‚ç‚¹ä¸­æ¸²æŸ“åŒ…å«htmlç»“æ„çš„å†…å®¹ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.ä¸æ’å€¼è¯­æ³•çš„åŒºåˆ«ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).v-htmlä¼šæ›¿æ¢æ‰èŠ‚ç‚¹ä¸­æ‰€æœ‰çš„å†…å®¹ï¼Œ&#123;&#123;xx&#125;&#125;åˆ™ä¸ä¼šã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).v-htmlå¯ä»¥è¯†åˆ«htmlç»“æ„ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.ä¸¥é‡æ³¨æ„ï¼šv-htmlæœ‰å®‰å…¨æ€§é—®é¢˜ï¼ï¼ï¼ï¼</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).åœ¨ç½‘ç«™ä¸ŠåŠ¨æ€æ¸²æŸ“ä»»æ„HTMLæ˜¯éå¸¸å±é™©çš„ï¼Œå®¹æ˜“å¯¼è‡´XSSæ”»å‡»ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).ä¸€å®šè¦åœ¨å¯ä¿¡çš„å†…å®¹ä¸Šä½¿ç”¨v-htmlï¼Œæ°¸ä¸è¦ç”¨åœ¨ç”¨æˆ·æäº¤çš„å†…å®¹ä¸Šï¼</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-cloak</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- å¼•å…¥åœ¨çº¿çš„vue.jsç„¶åF12Networkè®¾ç½®ç½‘é€Ÿä¸ºæ…¢ --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>v-once</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-onceæŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>Â  Â  Â  Â  <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  v-onceæŒ‡ä»¤ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.v-onceæ‰€åœ¨èŠ‚ç‚¹åœ¨åˆæ¬¡åŠ¨æ€æ¸²æŸ“åï¼Œå°±è§†ä¸ºé™æ€å†…å®¹äº†ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.ä»¥åæ•°æ®çš„æ”¹å˜ä¸ä¼šå¼•èµ·v-onceæ‰€åœ¨ç»“æ„çš„æ›´æ–°ï¼Œå¯ä»¥ç”¨äºä¼˜åŒ–æ€§èƒ½ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-once</span>&gt;</span>åˆå§‹çš„æ—¶å€™n = &#123;&#123;n&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å½“å‰çš„n = &#123;&#123;n&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;n++&quot;</span>&gt;</span>ç‚¹æˆ‘n+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">Â  Â  Â  Â  <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span></span><br><span class="language-javascript">Â  Â  Â  Â  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">n</span>: <span class="hljs-number">1</span></span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;,</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â </span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="language-javascript">Â  Â  Â  Â  &#125;)</span><br><span class="language-javascript">Â  Â  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>v-pre</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-pre_æŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>Â  Â  Â  Â  <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  v-preæŒ‡ä»¤ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.è·³è¿‡å…¶æ‰€åœ¨èŠ‚ç‚¹çš„ç¼–è¯‘è¿‡ç¨‹ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.å¯åˆ©ç”¨å®ƒè·³è¿‡ï¼šæ²¡æœ‰ä½¿ç”¨æŒ‡ä»¤è¯­æ³•ã€æ²¡æœ‰ä½¿ç”¨æ’å€¼è¯­æ³•çš„èŠ‚ç‚¹ï¼Œä¼šåŠ å¿«ç¼–è¯‘ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-pre</span>&gt;</span>Vueå…¶å®å¾ˆç®€å•<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å½“å‰çš„n = &#123;&#123;n&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;n++&quot;</span>&gt;</span>ç‚¹æˆ‘n+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">Â  Â  Â  Â  <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span></span><br><span class="language-javascript">Â  Â  Â  Â  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">n</span>: <span class="hljs-number">1</span></span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;,</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â </span><br><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="language-javascript">Â  Â  Â  Â  &#125;)</span><br><span class="language-javascript">Â  Â  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="è‡ªå®šä¹‰æŒ‡ä»¤"></a>è‡ªå®šä¹‰æŒ‡ä»¤</h2><p>è‡ªå®šä¹‰æŒ‡ä»¤</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>è‡ªå®šä¹‰æŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  éœ€æ±‚1ï¼šå®šä¹‰ä¸€ä¸ªv-bigæŒ‡ä»¤ï¼Œå’Œv-textåŠŸèƒ½ç±»ä¼¼ï¼Œä½†ä¼šæŠŠç»‘å®šçš„æ•°å€¼æ”¾å¤§10å€ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  éœ€æ±‚2ï¼šå®šä¹‰ä¸€ä¸ªv-fbindæŒ‡ä»¤ï¼Œå’Œv-bindåŠŸèƒ½ç±»ä¼¼ï¼Œä½†å¯ä»¥è®©å…¶æ‰€ç»‘å®šçš„inputå…ƒç´ é»˜è®¤è·å–ç„¦ç‚¹ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  è‡ªå®šä¹‰æŒ‡ä»¤æ€»ç»“ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä¸€ã€å®šä¹‰è¯­æ³•ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).å±€éƒ¨æŒ‡ä»¤ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  new Vue(&#123; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  new Vue(&#123;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  directives:&#123;æŒ‡ä»¤å:é…ç½®å¯¹è±¡&#125; Â  æˆ– Â  Â  Â  Â  Â  directives&#123;æŒ‡ä»¤å:å›è°ƒå‡½æ•°&#125;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;) Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &#125;)</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).å…¨å±€æŒ‡ä»¤ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Vue.directive(æŒ‡ä»¤å,é…ç½®å¯¹è±¡) æˆ– Â  Vue.directive(æŒ‡ä»¤å,å›è°ƒå‡½æ•°)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  äºŒã€é…ç½®å¯¹è±¡ä¸­å¸¸ç”¨çš„3ä¸ªå›è°ƒï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).bindï¼šæŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶è°ƒç”¨ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).insertedï¼šæŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶è°ƒç”¨ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (3).updateï¼šæŒ‡ä»¤æ‰€åœ¨æ¨¡æ¿ç»“æ„è¢«é‡æ–°è§£ææ—¶è°ƒç”¨ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä¸‰ã€å¤‡æ³¨ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.æŒ‡ä»¤å®šä¹‰æ—¶ä¸åŠ v-ï¼Œä½†ä½¿ç”¨æ—¶è¦åŠ v-ï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.æŒ‡ä»¤åå¦‚æœæ˜¯å¤šä¸ªå•è¯ï¼Œè¦ä½¿ç”¨kebab-caseå‘½åæ–¹å¼ï¼Œä¸è¦ç”¨camelCaseå‘½åã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å½“å‰çš„nå€¼æ˜¯: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">&quot;n&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ”¾å¤§10å€åçš„å€¼æ˜¯: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-big</span>=<span class="hljs-string">&quot;n&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ”¾å¤§10å€åçš„å€¼æ˜¯: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-big-number</span>=<span class="hljs-string">&quot;n&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;n++&quot;</span>&gt;</span>ç‚¹æˆ‘n+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-fbind:value</span>=<span class="hljs-string">&quot;n&quot;</span> /&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root2&quot;</span>&gt;</span>Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-fbind:value</span>=<span class="hljs-string">&quot;x&quot;</span> /&gt;</span> Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// å®šä¹‰å…¨å±€æŒ‡ä»¤</span></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&quot;fbind&quot;</span>, &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">bind</span>(<span class="hljs-params">element, binding</span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// console.log(&#x27;bind&#x27;);</span></span><br><span class="language-javascript">          element.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span>;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-title function_">inserted</span>(<span class="hljs-params">element, binding</span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// console.log(&#x27;inserted&#x27;);</span></span><br><span class="language-javascript">          element.<span class="hljs-title function_">focus</span>();</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-title function_">update</span>(<span class="hljs-params">element, binding</span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// console.log(&#x27;update&#x27;);</span></span><br><span class="language-javascript">          element.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span>;</span><br><span class="language-javascript">          element.<span class="hljs-title function_">focus</span>();</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;); <span class="hljs-comment">/* Vue.directive(&#x27;big&#x27;, function (element, binding) &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  console.log(&#x27;big&#x27;, this); // æ³¨æ„æ­¤å¤„çš„thisæ˜¯window</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  element.innerText = binding.value * 10</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  // console.log(element, binding);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  // console.log(&#x27;big&#x27;);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  &#125;) */</span></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">n</span>: <span class="hljs-number">1</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;, <span class="hljs-comment">// bigå‡½æ•°ä½•æ—¶ä¼šè¢«è°ƒç”¨ï¼Ÿ1.æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰ã€‚2.æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶ã€‚</span></span><br><span class="language-javascript">        <span class="hljs-attr">directives</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">big</span>(<span class="hljs-params">element, binding</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;big&quot;</span>, <span class="hljs-variable language_">this</span>); <span class="hljs-comment">// æ³¨æ„æ­¤å¤„çš„thisæ˜¯window</span></span><br><span class="language-javascript">            element.<span class="hljs-property">innerText</span> = binding.<span class="hljs-property">value</span> * <span class="hljs-number">10</span>; <span class="hljs-comment">// console.log(element, binding); // console.log(&#x27;big&#x27;);</span></span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-string">&quot;big-number&quot;</span>(element, binding) &#123;</span><br><span class="language-javascript">            element.<span class="hljs-property">innerText</span> = binding.<span class="hljs-property">value</span> * <span class="hljs-number">10</span>; <span class="hljs-comment">// console.log(element, binding); // console.log(&#x27;big&#x27;);</span></span><br><span class="language-javascript">          &#125;, <span class="hljs-comment">// fbind(element, binding) &#123; // Â  Â  element.value = binding.value // Â  Â  element.focus() // &#125; // fbind: &#123; // Â  Â  bind(element, binding) &#123; // Â  Â  Â  Â  // console.log(&#x27;bind&#x27;); // Â  Â  Â  Â  element.value = binding.value // Â  Â  &#125;, // Â  Â  inserted(element, binding) &#123; // Â  Â  Â  Â  // console.log(&#x27;inserted&#x27;); // Â  Â  Â  Â  element.focus() // Â  Â  &#125;, // Â  Â  update(element, binding) &#123; // Â  Â  Â  Â  // console.log(&#x27;update&#x27;); // Â  Â  Â  Â  element.value = binding.value // Â  Â  Â  Â  element.focus() // Â  Â  &#125; // &#125;</span></span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root2&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å›é¡¾ä¸€ä¸ª DOM æ“ä½œ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å›é¡¾ä¸€ä¸ªDOMæ“ä½œ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">      Â  Â  Â  Â  <span class="hljs-selector-class">.demo</span> &#123;</span><br><span class="language-css">      Â  Â  Â  Â  Â  Â  <span class="hljs-attribute">background-color</span>: orange;</span><br><span class="language-css">      Â  Â  Â  Â  &#125;</span><br><span class="language-css">      Â  Â </span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span>ç‚¹æˆ‘åˆ›å»ºä¸€ä¸ªè¾“å…¥æ¡†<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;btn&quot;</span>);</span><br><span class="language-javascript">      btn.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;input&quot;</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        input.<span class="hljs-property">className</span> = <span class="hljs-string">&quot;demo&quot;</span>;</span><br><span class="language-javascript">        input.<span class="hljs-property">value</span> = <span class="hljs-number">99</span>;</span><br><span class="language-javascript">        input.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">alert</span>(<span class="hljs-number">1</span>);</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(input);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        input.<span class="hljs-title function_">focus</span>();</span><br><span class="language-javascript"></span><br><span class="language-javascript">        input.<span class="hljs-property">parentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">&quot;skyblue&quot;</span>;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(input.<span class="hljs-property">parentElement</span>);</span><br><span class="language-javascript">      &#125;;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="å¼•å‡ºç”Ÿå‘½å‘¨æœŸ"><a href="#å¼•å‡ºç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="å¼•å‡ºç”Ÿå‘½å‘¨æœŸ"></a>å¼•å‡ºç”Ÿå‘½å‘¨æœŸ</h2><p>å¼•å‡ºç”Ÿå‘½å‘¨æœŸ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å¼•å‡ºç”Ÿå‘½å‘¨æœŸ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  ç”Ÿå‘½å‘¨æœŸï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.åˆåï¼šç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.æ˜¯ä»€ä¹ˆï¼šVueåœ¨å…³é”®æ—¶åˆ»å¸®æˆ‘ä»¬è°ƒç”¨çš„ä¸€äº›ç‰¹æ®Šåç§°çš„å‡½æ•°ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åå­—ä¸å¯æ›´æ”¹ï¼Œä½†å‡½æ•°çš„å…·ä½“å†…å®¹æ˜¯ç¨‹åºå‘˜æ ¹æ®éœ€æ±‚ç¼–å†™çš„ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  4.ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­çš„thisæŒ‡å‘æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</span><br><span class="hljs-comment">Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;opacity: opacity&#125;&quot;</span>&gt;</span>æ¬¢è¿å­¦ä¹ Vue<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;, <span class="hljs-comment">// Vueå®Œæˆæ¨¡æ¿çš„è§£æå¹¶æŠŠåˆå§‹çš„çœŸå®çš„DOMå…ƒç´ æ”¾å…¥é¡µé¢å (æŒ‚è½½å®Œæ¯•) è°ƒç”¨mounted</span></span><br><span class="language-javascript">        <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> -= <span class="hljs-number">0.01</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> &lt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">              <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> = <span class="hljs-number">1</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">          &#125;, <span class="hljs-number">16</span>);</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;); <span class="hljs-comment">/* setInterval(() =&gt; &#123; // é€šè¿‡å¤–éƒ¨çš„å®šæ—¶å™¨å®ç°(ä¸æ¨è)</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  vm.opacity -= 0.01</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  if (vm.opacity &lt;= 0) &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  vm.opacity = 1</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  &#125;, 16); */</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åˆ†æç”Ÿå‘½å‘¨æœŸ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>åˆ†æç”Ÿå‘½å‘¨æœŸ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span> <span class="hljs-attr">:x</span>=<span class="hljs-string">&quot;n&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å½“å‰çš„nå€¼æ˜¯: &#123;&#123;n&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>ç‚¹æˆ‘n+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;bye&quot;</span>&gt;</span>ç‚¹æˆ‘é”€æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>, <span class="hljs-comment">// ä½¿ç”¨äº†templateé…ç½®é¡¹, å°±ä¸èƒ½æœ‰ä¸¤ä¸ªæ ¹èŠ‚ç‚¹ // template: &#x27;&lt;h2&gt;å½“å‰çš„nå€¼æ˜¯: &#123;&#123;n&#125;&#125;&lt;/h2&gt;&lt;button @click=&quot;add&quot;&gt;ç‚¹æˆ‘n+1&lt;/button&gt;&#x27;, // åº”è¯¥åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ // template: &#x27;&lt;div&gt;&lt;h2&gt;å½“å‰çš„nå€¼æ˜¯: &#123;&#123;n&#125;&#125;&lt;/h2&gt;&lt;button @click=&quot;add&quot;&gt;ç‚¹æˆ‘n+1&lt;/button&gt;&lt;/div&gt;&#x27;, // ES6è¯­æ³•, å¯ä»¥æ¢è¡Œ, ä¸Šé¢çš„å†™æ³•ä¸èƒ½æ¢è¡Œ // ç”¨äº†templateæ¨¡æ¿ä¹‹å, div#rootä¸­çš„xå±æ€§ä¼šè¢«templateæ¨¡æ¿è¦†ç›–æ‰ // æ²¡æœ‰ä½¿ç”¨templateæ¨¡æ¿, div#rootä¸­çš„xå±æ€§ä¸ä¼šè¢«æ›¿æ¢æ‰ // template: ` // &lt;div&gt; // Â  Â  &lt;h2&gt;å½“å‰çš„nå€¼æ˜¯: &#123;&#123;n&#125;&#125;&lt;/h2&gt; // Â  Â  &lt;button @click=&quot;add&quot;&gt;ç‚¹æˆ‘n+1&lt;/button&gt; // &lt;/div&gt;`,</span></span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">n</span>: <span class="hljs-number">1</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">add</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;add&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">n</span>++;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-title function_">bye</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// https://v2.cn.vuejs.org/v2/api/#vm-destroy</span></span><br><span class="language-javascript">            <span class="hljs-comment">// vm.$destroy()</span></span><br><span class="language-javascript">            <span class="hljs-comment">// å®Œå…¨é”€æ¯ä¸€ä¸ªå®ä¾‹ã€‚æ¸…ç†å®ƒä¸å…¶å®ƒå®ä¾‹çš„è¿æ¥ï¼Œè§£ç»‘å®ƒçš„å…¨éƒ¨æŒ‡ä»¤åŠäº‹ä»¶ç›‘å¬å™¨ã€‚</span></span><br><span class="language-javascript">            <span class="hljs-comment">// https://www.bilibili.com/video/BV1Zy4y1K7SH?t=590.0</span></span><br><span class="language-javascript">            <span class="hljs-comment">// åœ¨v2.7ç‰ˆæœ¬ä»¥åä¼šé‡Šæ”¾æ‰äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="language-javascript">            <span class="hljs-comment">// åœ¨v2.6.12ç‰ˆæœ¬ä¸ä¼šé‡Šæ”¾æ‰äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="language-javascript">            <span class="hljs-comment">// è§†é¢‘ä¸­(v2.6.12ç‰ˆæœ¬)æè¿°åªä¼šé‡Šæ”¾æ‰è‡ªå®šä¹‰äº‹ä»¶ç›‘å¬å™¨, ä½†æ˜¯ç°åœ¨å¦‚æœå¼•å…¥çš„vueç‰ˆæœ¬æ˜¯2.7çš„, éƒ½ä¼šè¢«é‡Šæ”¾æ‰</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;bye&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.$destroy();</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">watch</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">n</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;nå˜äº†&quot;</span>);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;, <span class="hljs-comment">// æ­¤æ—¶æ— æ³•é€šè¿‡vmè®¿é—®åˆ°dataä¸­çš„æ•°æ®, methodsä¸­çš„æ–¹æ³•</span></span><br><span class="language-javascript">        <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;beforeCreate&quot;</span>); <span class="hljs-comment">// console.log(this); // debugger</span></span><br><span class="language-javascript">        &#125;, <span class="hljs-comment">// æ­¤æ—¶, å¯ä»¥é€šè¿‡vmè®¿é—®åˆ°dataä¸­çš„æ•°æ®, methodsä¸­é…ç½®çš„æ–¹æ³•</span></span><br><span class="language-javascript">        <span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;created&quot;</span>); <span class="hljs-comment">// console.log(this); // debugger</span></span><br><span class="language-javascript">        &#125;, <span class="hljs-comment">// æœªæ‰§è¡ŒbeforeMount()ä¹‹å‰ // æ­¤é˜¶æ®µVueå¼€å§‹è§£ææ¨¡æ¿, ç”Ÿæˆè™šæ‹ŸDOM(å†…å­˜ä¸­), é¡µé¢è¿˜ä¸èƒ½æ˜¾ç¤ºè§£æå¥½çš„å†…å®¹ // æ‰§è¡ŒbeforeMount() // æ­¤æ—¶é¡µé¢å‘ˆç°çš„æ˜¯æœªç»Vueç¼–è¯‘çš„DOMç»“æ„ // æ‰€æœ‰å¯¹DOMçš„æ“ä½œ, æœ€ç»ˆéƒ½ä¸å¥æ•ˆ</span></span><br><span class="language-javascript">        <span class="hljs-title function_">beforeMount</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;beforeMount&quot;</span>); <span class="hljs-comment">// console.log(this); // document.querySelector(&#x27;h2&#x27;).innerText = &#x27;å“ˆå“ˆ&#x27; // debugger</span></span><br><span class="language-javascript">        &#125;, <span class="hljs-comment">// æ­¤æ—¶: // 1.é¡µé¢ä¸­å‘ˆç°çš„æ˜¯ç»è¿‡Vueç¼–è¯‘çš„DOM // 2.å¯¹DOMçš„æ“ä½œå‡æœ‰æ•ˆ(å°½å¯èƒ½é¿å…) // è‡³æ­¤åˆå§‹åŒ–è¿‡ç¨‹ç»“æŸ, ä¸€èˆ¬åœ¨æ­¤è¿›è¡Œ: å¼€å¯å®šæ—¶å™¨, // å‘é€ç½‘ç»œè¯·æ±‚, è®¢é˜…æ¶ˆæ¯, ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ç­‰åˆå§‹åŒ–æ“ä½œ</span></span><br><span class="language-javascript">        <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;mounted&quot;</span>); <span class="hljs-comment">// console.log(this); // document.querySelector(&#x27;h2&#x27;).innerText = &#x27;å“ˆå“ˆ&#x27; // debugger</span></span><br><span class="language-javascript">        &#125;, <span class="hljs-comment">// æ­¤æ—¶æ•°æ®æ˜¯æ–°çš„, ä½†é¡µé¢æ˜¯æ—§çš„ // å³: é¡µé¢å°šæœªå’Œæ•°æ®ä¿æŒåŒæ­¥</span></span><br><span class="language-javascript">        <span class="hljs-title function_">beforeUpdate</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;beforeUpdate&quot;</span>); <span class="hljs-comment">// console.log(this.n); // debugger;</span></span><br><span class="language-javascript">        &#125;, <span class="hljs-comment">// Virtual DOM re-render and patch // æ ¹æ®æ–°æ•°æ®, ç”Ÿæˆæ–°çš„è™šæ‹ŸDOM, éšåä¸æ—§çš„è™šæ‹ŸDOMè¿›è¡Œæ¯”è¾ƒ // æœ€ç»ˆå®Œæˆé¡µé¢æ›´æ–°, å³: å®Œæˆäº†Model =&gt; Viewçš„æ›´æ–° // æ­¤æ—¶: æ•°æ®æ˜¯æ–°çš„, é¡µé¢ä¹Ÿæ˜¯æ–°çš„ // å³: é¡µé¢å’Œæ•°æ®ä¿æŒåŒæ­¥</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-title function_">updated</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;updated&quot;</span>); <span class="hljs-comment">// console.log(this.n); // debugger</span></span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;beforeDestroy&quot;</span>);</span><br><span class="language-javascript">          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">add</span>();</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-title function_">destroyed</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;destroyed&quot;</span>);</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ€»ç»“ç”Ÿå‘½å‘¨æœŸ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ€»ç»“ç”Ÿå‘½å‘¨æœŸ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼š</span><br><span class="hljs-comment">1.mounted: å‘é€ajaxè¯·æ±‚ã€å¯åŠ¨å®šæ—¶å™¨ã€ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ã€è®¢é˜…æ¶ˆæ¯ç­‰ã€åˆå§‹åŒ–æ“ä½œã€‘ã€‚</span><br><span class="hljs-comment">2.beforeDestroy: æ¸…é™¤å®šæ—¶å™¨ã€è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ã€å–æ¶ˆè®¢é˜…æ¶ˆæ¯ç­‰ã€æ”¶å°¾å·¥ä½œã€‘ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">å…³äºé”€æ¯Vueå®ä¾‹</span><br><span class="hljs-comment">1.é”€æ¯åå€ŸåŠ©Vueå¼€å‘è€…å·¥å…·çœ‹ä¸åˆ°ä»»ä½•ä¿¡æ¯ã€‚</span><br><span class="hljs-comment">2.é”€æ¯åè‡ªå®šä¹‰äº‹ä»¶ä¼šå¤±æ•ˆï¼Œä½†åŸç”ŸDOMäº‹ä»¶ä¾ç„¶æœ‰æ•ˆã€‚</span><br><span class="hljs-comment">3.ä¸€èˆ¬ä¸ä¼šåœ¨beforeDestroyæ“ä½œæ•°æ®ï¼Œå› ä¸ºå³ä¾¿æ“ä½œæ•°æ®ï¼Œä¹Ÿä¸ä¼šå†è§¦å‘æ›´æ–°æµç¨‹äº†ã€‚</span><br><span class="hljs-comment">--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;opacity: opacity&#125;&quot;</span>&gt;</span>æ¬¢è¿å­¦ä¹ Vue<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;stop&quot;</span>&gt;</span>ç‚¹æˆ‘åœæ­¢å˜åŒ–<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">stop</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.$destroy();</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;setInterval&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> -= <span class="hljs-number">0.01</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> &lt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">              <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> = <span class="hljs-number">1</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">          &#125;, <span class="hljs-number">16</span>);</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;vmå³å°†é©¾é¹¤è¥¿æ¸¸äº†&quot;</span>);</span><br><span class="language-javascript">          <span class="hljs-built_in">clearInterval</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>);</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="ç»„ä»¶çš„æ¦‚å¿µ"><a href="#ç»„ä»¶çš„æ¦‚å¿µ" class="headerlink" title="ç»„ä»¶çš„æ¦‚å¿µ"></a>ç»„ä»¶çš„æ¦‚å¿µ</h2><p><img src="http://cdn.xiamu.icu//FsJ5Ehmvfaq_wRtLQZ1gnVtd3EFR.png"><br><img src="http://cdn.xiamu.icu//FsJXBkJIYwUrkIeKShGaDuYDv5Q1.png"><br><img src="http://cdn.xiamu.icu//Fl4wBDArL6HVIiXaPcVsLM8qSPuN.png"><br>ç»„ä»¶çš„å®šä¹‰: å®ç°åº”ç”¨ä¸­å±€éƒ¨åŠŸèƒ½ä»£ç å’Œèµ„æºçš„é›†åˆ</p><h2 id="éå•æ–‡ä»¶ç»„ä»¶"><a href="#éå•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="éå•æ–‡ä»¶ç»„ä»¶"></a>éå•æ–‡ä»¶ç»„ä»¶</h2><blockquote><p>ç»„ä»¶å°±æ˜¯ä¸€å—ç –, å“ªé‡Œéœ€è¦å“ªé‡Œæ¬</p></blockquote><p>éå•æ–‡ä»¶ç»„ä»¶:<br>ä¸€ä¸ªæ–‡ä»¶ä¸­åŒ…å«æœ‰ n ä¸ªç»„ä»¶<br>å•æ–‡ä»¶ç»„ä»¶çš„åµŒå¥—ç»„ä»¶:<br>ä¸€ä¸ªæ–‡ä»¶ä¸­åªåŒ…å«æœ‰ 1 ä¸ªç»„ä»¶<br>åŸºæœ¬ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>åŸºæœ¬ä½¿ç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Vueä¸­ä½¿ç”¨ç»„ä»¶çš„ä¸‰å¤§æ­¥éª¤ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä¸€ã€å®šä¹‰ç»„ä»¶(åˆ›å»ºç»„ä»¶)</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  äºŒã€æ³¨å†Œç»„ä»¶</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä¸‰ã€ä½¿ç”¨ç»„ä»¶(å†™ç»„ä»¶æ ‡ç­¾)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  ä¸€ã€å¦‚ä½•å®šä¹‰ä¸€ä¸ªç»„ä»¶ï¼Ÿ</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä½¿ç”¨Vue.extend(options)åˆ›å»ºï¼Œå…¶ä¸­optionså’Œnew Vue(options)æ—¶ä¼ å…¥çš„é‚£ä¸ªoptionså‡ ä¹ä¸€æ ·ï¼Œä½†ä¹Ÿæœ‰ç‚¹åŒºåˆ«ï¼›</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  åŒºåˆ«å¦‚ä¸‹ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.elä¸è¦å†™ï¼Œä¸ºä»€ä¹ˆï¼Ÿ â€”â€”â€” æœ€ç»ˆæ‰€æœ‰çš„ç»„ä»¶éƒ½è¦ç»è¿‡ä¸€ä¸ªvmçš„ç®¡ç†ï¼Œç”±vmä¸­çš„elå†³å®šæœåŠ¡å“ªä¸ªå®¹å™¨ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.dataå¿…é¡»å†™æˆå‡½æ•°ï¼Œä¸ºä»€ä¹ˆï¼Ÿ â€”â€”â€”â€” é¿å…ç»„ä»¶è¢«å¤ç”¨æ—¶ï¼Œæ•°æ®å­˜åœ¨å¼•ç”¨å…³ç³»ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å¤‡æ³¨ï¼šä½¿ç”¨templateå¯ä»¥é…ç½®ç»„ä»¶ç»“æ„ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  äºŒã€å¦‚ä½•æ³¨å†Œç»„ä»¶ï¼Ÿ</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.å±€éƒ¨æ³¨å†Œï¼šé new Vueçš„æ—¶å€™ä¼ å…¥componentsé€‰é¡¹</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.å…¨å±€æ³¨å†Œï¼šé Vue.component(&#x27;ç»„ä»¶å&#x27;,ç»„ä»¶)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  ä¸‰ã€ç¼–å†™ç»„ä»¶æ ‡ç­¾ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &lt;school&gt;&lt;/school&gt;</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">hello</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">hello</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ç¬¬ä¸‰æ­¥ï¼šç¼–å†™ç»„ä»¶æ ‡ç­¾ --&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">student</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">student</span>&gt;</span> Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-comment">&lt;!-- ç¬¬ä¸‰æ­¥ï¼šç¼–å†™ç»„ä»¶æ ‡ç­¾ --&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">school</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">school</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root2&quot;</span>&gt;</span>Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">hello</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">hello</span>&gt;</span> Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºstudentç»„ä»¶</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> student = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// el: &#x27;#root&#x27;,</span></span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &lt;div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;å­¦ç”Ÿå§“å: &#123;&#123;studentName&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;å­¦ç”Ÿå¹´é¾„: &#123;&#123;age&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &lt;/div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  `</span>,</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">studentName</span>: <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</span><br><span class="language-javascript">          &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;); <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºschoolç»„ä»¶</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> school = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &lt;div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;å­¦æ ¡åç§°: &#123;&#123;schoolName&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;å­¦æ ¡åœ°å€: &#123;&#123;address&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;button @click=&quot;showName&quot;&gt;ç‚¹æˆ‘æç¤ºå­¦æ ¡å&lt;/button&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &lt;/div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  `</span>, <span class="hljs-comment">// el:&#x27;#root&#x27;, //ç»„ä»¶å®šä¹‰æ—¶ï¼Œä¸€å®šä¸è¦å†™elé…ç½®é¡¹ï¼Œå› ä¸ºæœ€ç»ˆæ‰€æœ‰çš„ç»„ä»¶éƒ½è¦è¢«ä¸€ä¸ªvmç®¡ç†ï¼Œç”±vmå†³å®šæœåŠ¡äºå“ªä¸ªå®¹å™¨ã€‚</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">schoolName</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">address</span>: <span class="hljs-string">&quot;åŒ—äº¬æ˜Œå¹³&quot;</span>,</span><br><span class="language-javascript">          &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">schoolName</span>);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;); <span class="hljs-comment">//ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºhelloç»„ä»¶</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> hello = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &lt;div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;ä½ å¥½å•Š! &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &lt;/div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  `</span>,</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Tom&quot;</span>,</span><br><span class="language-javascript">          &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;); <span class="hljs-comment">//ç¬¬äºŒæ­¥ï¼šå…¨å±€æ³¨å†Œç»„ä»¶</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&quot;hello&quot;</span>, hello); <span class="hljs-comment">//åˆ›å»ºvm</span></span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;ä½ å¥½å•Šï¼&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;, <span class="hljs-comment">//ç¬¬äºŒæ­¥ï¼šæ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨æ³¨å†Œï¼‰</span></span><br><span class="language-javascript">        <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">          school,</span><br><span class="language-javascript">          student,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root2&quot;</span>,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å‡ ä¸ªæ³¨æ„ç‚¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å‡ ä¸ªæ³¨æ„ç‚¹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  å‡ ä¸ªæ³¨æ„ç‚¹ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.å…³äºç»„ä»¶å:</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ä¸€ä¸ªå•è¯ç»„æˆï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ç¬¬ä¸€ç§å†™æ³•(é¦–å­—æ¯å°å†™)ï¼šschool</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ç¬¬äºŒç§å†™æ³•(é¦–å­—æ¯å¤§å†™)ï¼šSchool</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å¤šä¸ªå•è¯ç»„æˆï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ç¬¬ä¸€ç§å†™æ³•(kebab-caseå‘½å)ï¼šmy-school</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ç¬¬äºŒç§å†™æ³•(CamelCaseå‘½å)ï¼šMySchool (éœ€è¦Vueè„šæ‰‹æ¶æ”¯æŒ)</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å¤‡æ³¨ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).ç»„ä»¶åå°½å¯èƒ½å›é¿HTMLä¸­å·²æœ‰çš„å…ƒç´ åç§°ï¼Œä¾‹å¦‚ï¼šh2ã€H2éƒ½ä¸è¡Œã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).å¯ä»¥ä½¿ç”¨nameé…ç½®é¡¹æŒ‡å®šç»„ä»¶åœ¨å¼€å‘è€…å·¥å…·ä¸­å‘ˆç°çš„åå­—ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.å…³äºç»„ä»¶æ ‡ç­¾:</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ç¬¬ä¸€ç§å†™æ³•ï¼š&lt;school&gt;&lt;/school&gt;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ç¬¬äºŒç§å†™æ³•ï¼š&lt;school/&gt;</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å¤‡æ³¨ï¼šä¸ç”¨ä½¿ç”¨è„šæ‰‹æ¶æ—¶ï¼Œ&lt;school/&gt;ä¼šå¯¼è‡´åç»­ç»„ä»¶ä¸èƒ½æ¸²æŸ“ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.ä¸€ä¸ªç®€å†™æ–¹å¼ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const school = Vue.extend(options) å¯ç®€å†™ä¸ºï¼šconst school = options</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>      Â  Â  Â  Â <br>      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>      Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">school</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">school</span>&gt;</span> Â  Â <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// å®šä¹‰ç»„ä»¶</span></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> s = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &lt;div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;å­¦æ ¡åç§°: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;å­¦æ ¡åœ°å€: &#123;&#123;address&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &lt;/div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  `</span>,</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">address</span>: <span class="hljs-string">&quot;åŒ—äº¬&quot;</span>,</span><br><span class="language-javascript">          &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;æ¬¢è¿å­¦ä¹ Vue!&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">school</span>: s,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç»„ä»¶çš„åµŒå¥—</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç»„ä»¶çš„åµŒå¥—<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span>Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span><br><span class="language-xml"><span class="language-handlebars">      Vue.config.productionTip = false; //å®šä¹‰studentç»„ä»¶</span></span><br><span class="language-xml"><span class="language-handlebars"></span></span><br><span class="language-xml"><span class="language-handlebars">      const student = Vue.extend(&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        template: `</span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­¦ç”Ÿå§“å: </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">name</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­¦ç”Ÿå¹´é¾„: </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">age</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  `,</span></span><br><span class="language-xml"><span class="language-handlebars">        name: &quot;student&quot;,</span></span><br><span class="language-xml"><span class="language-handlebars">        data() &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">          return &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">            name: &quot;è‚‰è±†è”»&quot;,</span></span><br><span class="language-xml"><span class="language-handlebars">            age: 18,</span></span><br><span class="language-xml"><span class="language-handlebars">          &#125;;</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;,</span></span><br><span class="language-xml"><span class="language-handlebars">      &#125;); //å®šä¹‰schoolç»„ä»¶</span></span><br><span class="language-xml"><span class="language-handlebars"></span></span><br><span class="language-xml"><span class="language-handlebars">      const school = Vue.extend(&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        template: `</span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­¦æ ¡åç§°: </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">name</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­¦æ ¡åœ°å€: </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">address</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">student</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">student</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  `,</span></span><br><span class="language-xml"><span class="language-handlebars">        name: &quot;school&quot;,</span></span><br><span class="language-xml"><span class="language-handlebars">        data() &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">          return &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">            name: &quot;å°šç¡…è°·&quot;,</span></span><br><span class="language-xml"><span class="language-handlebars">            address: &quot;åŒ—äº¬&quot;,</span></span><br><span class="language-xml"><span class="language-handlebars">          &#125;;</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;, //æ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨ï¼‰</span></span><br><span class="language-xml"><span class="language-handlebars">        components: &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">          student: student,</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;,</span></span><br><span class="language-xml"><span class="language-handlebars">      &#125;); //å®šä¹‰helloç»„ä»¶</span></span><br><span class="language-xml"><span class="language-handlebars">      const hello = Vue.extend(&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        template: `</span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">msg</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  `,</span></span><br><span class="language-xml"><span class="language-handlebars">        data() &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">          return &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">            msg: &quot;æ¬¢è¿æ¥åˆ°å°šç¡…è°·å­¦ä¹ ï¼&quot;,</span></span><br><span class="language-xml"><span class="language-handlebars">          &#125;;</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;,</span></span><br><span class="language-xml"><span class="language-handlebars">      &#125;); //å®šä¹‰appç»„ä»¶</span></span><br><span class="language-xml"><span class="language-handlebars">      const app = Vue.extend(&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        template: `</span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">hello</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">hello</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">school</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">school</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  `,</span></span><br><span class="language-xml"><span class="language-handlebars">        components: &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">          school,</span></span><br><span class="language-xml"><span class="language-handlebars">          hello,</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;,</span></span><br><span class="language-xml"><span class="language-handlebars">      &#125;); //åˆ›å»ºvm</span></span><br><span class="language-xml"><span class="language-handlebars"></span></span><br><span class="language-xml"><span class="language-handlebars">      new Vue(&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        template: `</span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">app</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">Â  Â  Â  Â  Â  Â  `,</span></span><br><span class="language-xml"><span class="language-handlebars">        el: &quot;#root&quot;,</span></span><br><span class="language-xml"><span class="language-handlebars">        data: &#123;&#125;,</span></span><br><span class="language-xml"><span class="language-handlebars">        methods: &#123;&#125;, //æ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨ï¼‰</span></span><br><span class="language-xml"><span class="language-handlebars">        components: &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">          app,</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;,</span></span><br><span class="language-xml"><span class="language-handlebars">      &#125;);</span></span><br><span class="language-xml"><span class="language-handlebars">    </span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>VueComponent</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>VueComponent<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  å…³äºVueComponentï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1.schoolç»„ä»¶æœ¬è´¨æ˜¯ä¸€ä¸ªåä¸ºVueComponentçš„æ„é€ å‡½æ•°ï¼Œä¸”ä¸æ˜¯ç¨‹åºå‘˜å®šä¹‰çš„ï¼Œæ˜¯Vue.extendç”Ÿæˆçš„ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  2.æˆ‘ä»¬åªéœ€è¦å†™&lt;school/&gt;æˆ–&lt;school&gt;&lt;/school&gt;ï¼ŒVueè§£ææ—¶ä¼šå¸®æˆ‘ä»¬åˆ›å»ºschoolç»„ä»¶çš„å®ä¾‹å¯¹è±¡ï¼Œ</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å³Vueå¸®æˆ‘ä»¬æ‰§è¡Œçš„ï¼šnew VueComponent(options)ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  3.ç‰¹åˆ«æ³¨æ„ï¼šæ¯æ¬¡è°ƒç”¨Vue.extendï¼Œè¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„VueComponentï¼ï¼ï¼ï¼</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  4.å…³äºthisæŒ‡å‘ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (1).ç»„ä»¶é…ç½®ä¸­ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dataå‡½æ•°ã€methodsä¸­çš„å‡½æ•°ã€watchä¸­çš„å‡½æ•°ã€computedä¸­çš„å‡½æ•° å®ƒä»¬çš„thiså‡æ˜¯ã€VueComponentå®ä¾‹å¯¹è±¡ã€‘ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (2).new Vue(options)é…ç½®ä¸­ï¼š</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dataå‡½æ•°ã€methodsä¸­çš„å‡½æ•°ã€watchä¸­çš„å‡½æ•°ã€computedä¸­çš„å‡½æ•° å®ƒä»¬çš„thiså‡æ˜¯ã€Vueå®ä¾‹å¯¹è±¡ã€‘ã€‚</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  5.VueComponentçš„å®ä¾‹å¯¹è±¡ï¼Œä»¥åç®€ç§°vcï¼ˆä¹Ÿå¯ç§°ä¹‹ä¸ºï¼šç»„ä»¶å®ä¾‹å¯¹è±¡ï¼‰ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Vueçš„å®ä¾‹å¯¹è±¡ï¼Œä»¥åç®€ç§°vmã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span>Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">school</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">school</span>&gt;</span> Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">hello</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">hello</span>&gt;</span> Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">//å®šä¹‰schoolç»„ä»¶</span></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> school = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &lt;div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;å­¦æ ¡åç§°ï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;å­¦æ ¡åœ°å€ï¼š&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;button @click=&quot;showName&quot;&gt;ç‚¹æˆ‘æç¤ºå­¦æ ¡å&lt;/button&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  &lt;/div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  `</span>,</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">address</span>: <span class="hljs-string">&quot;åŒ—äº¬&quot;</span>,</span><br><span class="language-javascript">          &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;showName&quot;</span>, <span class="hljs-variable language_">this</span>); <span class="hljs-comment">// alert(this.name)</span></span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> test = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;span&gt;atguigu&lt;/span&gt;`</span>,</span><br><span class="language-javascript">      &#125;); <span class="hljs-comment">//å®šä¹‰helloç»„ä»¶</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> hello = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &lt;test&gt;&lt;/test&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;/div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  `</span>,</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;ä½ å¥½å•Š!&quot;</span>,</span><br><span class="language-javascript">          &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">          test,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;); <span class="hljs-comment">// è¯æ˜æ˜¯ä¸¤ä¸ªVueComponent, è€Œä¸æ˜¯ç”¨çš„ä¸€ä¸ªVueComponent // console.log(&#x27;@&#x27;, school === hello); // school.a = 99 // console.log(&#x27;@&#x27;, school.a); // console.log(&#x27;@&#x27;, hello.a); // æ¯æ¬¡è°ƒç”¨çš„VueComponentéƒ½æ˜¯ç°å®šä¹‰çš„, ç„¶åå†è¿”å›çš„ // Vue.extend = function (extendOptions) &#123; // Â  Â  Â ... // Â  Â  var Sub = function VueComponent(options) &#123; // Â  Â  Â  Â  this._init(options); // Â  Â  &#125;; // Â  Â  Â ... // Â  Â  return Sub // &#125;; // console.log(&#x27;@&#x27;, school); // console.log(&#x27;#&#x27;, hello); // åˆ›å»ºvm</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;&#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">          school,</span><br><span class="language-javascript">          hello,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸€ä¸ªé‡è¦çš„å†…ç½®å…³ç³»</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ä¸€ä¸ªé‡è¦çš„å†…ç½®å…³ç³»<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    Â  Â  Â  Â <br>    <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  1.ä¸€ä¸ªé‡è¦çš„å†…ç½®å…³ç³»ï¼šVueComponent.prototype.__proto__ === Vue.prototype</span><br><span class="hljs-comment">Â  Â  Â  Â  Â  Â  Â  Â  2.ä¸ºä»€ä¹ˆè¦æœ‰è¿™ä¸ªå…³ç³»ï¼šè®©ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼ˆvcï¼‰å¯ä»¥è®¿é—®åˆ° VueåŸå‹ä¸Šçš„å±æ€§ã€æ–¹æ³•ã€‚</span><br><span class="hljs-comment">Â  Â  Â  Â  --&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span>Â  Â  Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">school</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">school</span>&gt;</span> Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    Â  Â <br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">x</span> = <span class="hljs-number">99</span>; <span class="hljs-comment">//å®šä¹‰schoolç»„ä»¶</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> school = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;å­¦æ ¡åç§°: &#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &lt;h2&gt;å­¦æ ¡åœ°å€: &#123;&#123;address&#125;&#125;&lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &lt;button @click=&quot;showX&quot;&gt;ç‚¹æˆ‘è¾“å‡ºx&lt;/button&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  Â  Â  &lt;/div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">Â  Â  Â  Â  Â  Â  `</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;school&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°šç¡…è°·&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">address</span>: <span class="hljs-string">&quot;åŒ—äº¬&quot;</span>,</span><br><span class="language-javascript">          &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">showX</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;); <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªvm</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#root&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;ä½ å¥½&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;&#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">          school,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(</span><br><span class="language-javascript">        school.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span></span><br><span class="language-javascript">      ); <span class="hljs-comment">/* // å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  function Demo() &#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  this.a = 1</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Â  Â  this.b = 2</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  // åˆ›å»ºä¸€ä¸ªDemoçš„å®ä¾‹å¯¹è±¡</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  const d = new Demo()</span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  // æ˜¾ç¤ºåŸå‹å±æ€§</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  console.log(Demo.prototype);</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  // éšå¼åŸå‹å±æ€§</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  console.log(d.__proto__);</span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  console.log(Demo.prototype === d.__proto__);</span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  // ç¨‹åºå‘˜é€šè¿‡æ˜¾ç¤ºåŸå‹å±æ€§æ“ä½œåŸå‹å¯¹è±¡, è¿½åŠ ä¸€ä¸ªxå±æ€§, å€¼ä¸º99</span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  Demo.prototype.x = 99</span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript">Â  Â  Â  Â  console.log(&#x27;@&#x27;, d); */</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å®ä¾‹çš„éšå¼åŸå‹å¯¹è±¡æ°¸è¿æŒ‡å‘ç¼”é€ è€…çš„åŸå‹å¯¹è±¡<br><img src="http://cdn.xiamu.icu//FsKi0imheF9Ehf-wGac3AO7M-UeF.png"></p><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ³¨å†Œè¡¨çš„ä¸€äº›æ“ä½œ</title>
    <link href="/uncategorized/%E6%B3%A8%E5%86%8C%E8%A1%A8%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/"/>
    <url>/uncategorized/%E6%B3%A8%E5%86%8C%E8%A1%A8%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¿®æ”¹-win10-æ³¨å†Œè¡¨è‡ªåŠ¨æ›´æ–°"><a href="#ä¿®æ”¹-win10-æ³¨å†Œè¡¨è‡ªåŠ¨æ›´æ–°" class="headerlink" title="ä¿®æ”¹ win10 æ³¨å†Œè¡¨è‡ªåŠ¨æ›´æ–°"></a>ä¿®æ”¹ win10 æ³¨å†Œè¡¨è‡ªåŠ¨æ›´æ–°</h2><p>win+r è¾“å…¥ regedit<br>ä½ç½®: <strong>è®¡ç®—æœº\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\wuauserv</strong><br><img src="http://cdn.xiamu.icu//Fm80kKnOInAgbfeH1Z9LDxpA7pn4.png"><br><img src="http://cdn.xiamu.icu//Fpi-qGYJW2tVa_MgzWIn16pjNf3r.png"></p><h1 id="Typora-æ— é™è¯•ç”¨"><a href="#Typora-æ— é™è¯•ç”¨" class="headerlink" title="Typora æ— é™è¯•ç”¨"></a>Typora æ— é™è¯•ç”¨</h1><p><a href="https://www.jianshu.com/p/bb0ddf5fbd5d">https://www.jianshu.com/p/bb0ddf5fbd5d</a></p><h2 id="Win10-æœç´¢æ¡†ä¸­çƒ­é—¨æœç´¢æ€ä¹ˆå…³é—­-Win10-å…³é—­çƒ­é—¨æœç´¢"><a href="#Win10-æœç´¢æ¡†ä¸­çƒ­é—¨æœç´¢æ€ä¹ˆå…³é—­-Win10-å…³é—­çƒ­é—¨æœç´¢" class="headerlink" title="Win10 æœç´¢æ¡†ä¸­çƒ­é—¨æœç´¢æ€ä¹ˆå…³é—­|Win10 å…³é—­çƒ­é—¨æœç´¢"></a>Win10 æœç´¢æ¡†ä¸­çƒ­é—¨æœç´¢æ€ä¹ˆå…³é—­|Win10 å…³é—­çƒ­é—¨æœç´¢</h2><p><a href="https://www.baiyunxitong.com/bangzhu/7714.html">https://www.baiyunxitong.com/bangzhu/7714.html</a></p><h2 id="å»ä»–å¦ˆçš„-windows-å­ç³»ç»Ÿ"><a href="#å»ä»–å¦ˆçš„-windows-å­ç³»ç»Ÿ" class="headerlink" title="å»ä»–å¦ˆçš„ windows å­ç³»ç»Ÿ"></a>å»ä»–å¦ˆçš„ windows å­ç³»ç»Ÿ</h2><p>æŸå¤©æ—©æ™¨å¼€ç”µè„‘, å‘ç°ä»–å¦ˆçš„èµ„æºç®¡ç†å™¨å¤šäº†ä¸€ä¸ª linux çš„å°å›¾æ ‡, è¿˜ä»–å¦ˆç§»é™¤ä¸äº†<br><img src="http://cdn.xiamu.icu//FtONm0Dlxkthgf2KskrRM9G_sHaK.png"><br>æ‰“å¼€æ§åˆ¶é¢æ¿, ç¨‹åºå’ŒåŠŸèƒ½, å¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½, é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿ çš„å‹¾ç»™å»æ‰, ç„¶åé‡å¯ç”µè„‘<br><img src="http://cdn.xiamu.icu//FoGkGSMGUJCgk3v7fYt4N7FSrGWa.png"><br>èµ„æºç®¡ç†å™¨å°±æ²¡äº† linux å›¾æ ‡äº†<br><img src="http://cdn.xiamu.icu//FtHdpNFY0l1WfbX1W19nT-MGm-dq.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>SSM</title>
    <link href="/Java/SSM/"/>
    <url>/Java/SSM/</url>
    
    <content type="html"><![CDATA[<h2 id="æ•´åˆ-Swagger2"><a href="#æ•´åˆ-Swagger2" class="headerlink" title="æ•´åˆ Swagger2"></a>æ•´åˆ Swagger2</h2><p>é›†æˆ knife4j</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.xiaoymin<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>knife4j-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ·»åŠ  knife4j é…ç½®ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.system.config;<br><br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><span class="hljs-keyword">import</span> springfox.documentation.builders.ApiInfoBuilder;<br><span class="hljs-keyword">import</span> springfox.documentation.builders.ParameterBuilder;<br><span class="hljs-keyword">import</span> springfox.documentation.builders.PathSelectors;<br><span class="hljs-keyword">import</span> springfox.documentation.builders.RequestHandlerSelectors;<br><span class="hljs-keyword">import</span> springfox.documentation.schema.ModelRef;<br><span class="hljs-keyword">import</span> springfox.documentation.service.ApiInfo;<br><span class="hljs-keyword">import</span> springfox.documentation.service.Contact;<br><span class="hljs-keyword">import</span> springfox.documentation.service.Parameter;<br><span class="hljs-keyword">import</span> springfox.documentation.spi.DocumentationType;<br><span class="hljs-keyword">import</span> springfox.documentation.spring.web.plugins.Docket;<br><span class="hljs-keyword">import</span> springfox.documentation.swagger2.annotations.EnableSwagger2WebMvc;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * knife4jé…ç½®ä¿¡æ¯</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@EnableSwagger2WebMvc</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Knife4jConfig</span> &#123;<br><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> Docket <span class="hljs-title function_">adminApiConfig</span><span class="hljs-params">()</span>&#123;<br>        List&lt;Parameter&gt; pars = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-type">ParameterBuilder</span> <span class="hljs-variable">tokenPar</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ParameterBuilder</span>();<br>        tokenPar.name(<span class="hljs-string">&quot;token&quot;</span>)<br>                .description(<span class="hljs-string">&quot;ç”¨æˆ·token&quot;</span>)<br>                .defaultValue(<span class="hljs-string">&quot;&quot;</span>)<br>                .modelRef(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelRef</span>(<span class="hljs-string">&quot;string&quot;</span>))<br>                .parameterType(<span class="hljs-string">&quot;header&quot;</span>)<br>                .required(<span class="hljs-literal">false</span>)<br>                .build();<br>        pars.add(tokenPar.build());<br>        <span class="hljs-comment">//æ·»åŠ headå‚æ•°end</span><br><br>        <span class="hljs-type">Docket</span> <span class="hljs-variable">adminApi</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Docket</span>(DocumentationType.SWAGGER_2)<br>                .groupName(<span class="hljs-string">&quot;adminApi&quot;</span>)<br>                .apiInfo(adminApiInfo())<br>                .select()<br>                <span class="hljs-comment">//åªæ˜¾ç¤ºadminè·¯å¾„ä¸‹çš„é¡µé¢</span><br>                .apis(RequestHandlerSelectors.basePackage(<span class="hljs-string">&quot;com.atguigu&quot;</span>))<br>                .paths(PathSelectors.regex(<span class="hljs-string">&quot;/admin/.*&quot;</span>)) <span class="hljs-comment">// æ˜¾ç¤ºä»¥adminå¼€å¤´çš„æ¥å£</span><br>                .build()<br>                .globalOperationParameters(pars);<br>        <span class="hljs-keyword">return</span> adminApi;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> ApiInfo <span class="hljs-title function_">adminApiInfo</span><span class="hljs-params">()</span>&#123;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiInfoBuilder</span>()<br>                .title(<span class="hljs-string">&quot;åå°ç®¡ç†ç³»ç»Ÿ-APIæ–‡æ¡£&quot;</span>)<br>                .description(<span class="hljs-string">&quot;æœ¬æ–‡æ¡£æè¿°äº†åå°ç®¡ç†ç³»ç»Ÿå¾®æœåŠ¡æ¥å£å®šä¹‰&quot;</span>)<br>                .version(<span class="hljs-string">&quot;1.0&quot;</span>)<br>                .contact(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Contact</span>(<span class="hljs-string">&quot;atguigu&quot;</span>, <span class="hljs-string">&quot;http://atguigu.com&quot;</span>, <span class="hljs-string">&quot;atguigu@qq.com&quot;</span>))<br>                .build();<br>    &#125;<br><br><br>&#125;<br></code></pre></td></tr></table></figure><p>Controller å±‚æ·»åŠ æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.system.controller;<br><br><span class="hljs-keyword">import</span> com.atguigu.system.service.SysRoleService;<br><span class="hljs-keyword">import</span> com.atguigu.common.result.Result;<br><span class="hljs-keyword">import</span> com.atguigu.model.system.SysRole;<br><span class="hljs-keyword">import</span> io.swagger.annotations.Api;<br><span class="hljs-keyword">import</span> io.swagger.annotations.ApiOperation;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.GetMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-meta">@Api(tags = &quot;è§’è‰²ç®¡ç†&quot;)</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/admin/system/sysRole&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SysRoleController</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> SysRoleService sysRoleService;<br><br>    <span class="hljs-meta">@ApiOperation(value = &quot;è·å–å…¨éƒ¨è§’è‰²åˆ—è¡¨&quot;)</span><br>    <span class="hljs-meta">@GetMapping(&quot;findAll&quot;)</span><br>    <span class="hljs-keyword">public</span> Result&lt;List&lt;SysRole&gt;&gt; <span class="hljs-title function_">findAll</span><span class="hljs-params">()</span> &#123;<br>        List&lt;SysRole&gt; roleList = sysRoleService.list();<br>        <span class="hljs-keyword">return</span> Result.ok(roleList);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•<br><a href="http://localhost:8800/doc.html">http://localhost:8800/doc.html</a></p><h2 id="å®šä¹‰ç»Ÿä¸€è¿”å›ç»“æœå¯¹è±¡"><a href="#å®šä¹‰ç»Ÿä¸€è¿”å›ç»“æœå¯¹è±¡" class="headerlink" title="å®šä¹‰ç»Ÿä¸€è¿”å›ç»“æœå¯¹è±¡"></a>å®šä¹‰ç»Ÿä¸€è¿”å›ç»“æœå¯¹è±¡</h2><p>å®šä¹‰æ¥å£, é€šè¿‡å°è£… Result, ç»Ÿä¸€å°†æ¥å£çš„è¿”å›å€¼éƒ½è½¬æ¢ä¸º json æ ¼å¼</p><p>Result ç±»:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.common.result;<br><br><br><span class="hljs-keyword">import</span> lombok.Data;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * å…¨å±€ç»Ÿä¸€è¿”å›ç»“æœç±»</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Result</span>&lt;T&gt; &#123;<br><br>    <span class="hljs-comment">//è¿”å›ç </span><br>    <span class="hljs-keyword">private</span> Integer code;<br><br>    <span class="hljs-comment">//è¿”å›æ¶ˆæ¯</span><br>    <span class="hljs-keyword">private</span> String message;<br><br>    <span class="hljs-comment">//è¿”å›æ•°æ®</span><br>    <span class="hljs-keyword">private</span> T data;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Result</span><span class="hljs-params">()</span>&#123;&#125;<br><br>    <span class="hljs-comment">// è¿”å›æ•°æ®</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="hljs-title function_">build</span><span class="hljs-params">(T data)</span> &#123;<br>        Result&lt;T&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Result</span>&lt;T&gt;();<br>        <span class="hljs-keyword">if</span> (data != <span class="hljs-literal">null</span>)<br>            result.setData(data);<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="hljs-title function_">build</span><span class="hljs-params">(T body, Integer code, String message)</span> &#123;<br>        Result&lt;T&gt; result = build(body);<br>        result.setCode(code);<br>        result.setMessage(message);<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="hljs-title function_">build</span><span class="hljs-params">(T body, ResultCodeEnum resultCodeEnum)</span> &#123;<br>        Result&lt;T&gt; result = build(body);<br>        result.setCode(resultCodeEnum.getCode());<br>        result.setMessage(resultCodeEnum.getMessage());<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>&lt;T&gt; Result&lt;T&gt; <span class="hljs-title function_">ok</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> Result.ok(<span class="hljs-literal">null</span>);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ“ä½œæˆåŠŸ</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data  baseCategory1List</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &lt;T&gt;</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>&lt;T&gt; Result&lt;T&gt; <span class="hljs-title function_">ok</span><span class="hljs-params">(T data)</span>&#123;<br>        Result&lt;T&gt; result = build(data);<br>        <span class="hljs-keyword">return</span> build(data, ResultCodeEnum.SUCCESS);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>&lt;T&gt; Result&lt;T&gt; <span class="hljs-title function_">fail</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> Result.fail(<span class="hljs-literal">null</span>);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ“ä½œå¤±è´¥</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> data</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &lt;T&gt;</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>&lt;T&gt; Result&lt;T&gt; <span class="hljs-title function_">fail</span><span class="hljs-params">(T data)</span>&#123;<br>        Result&lt;T&gt; result = build(data);<br>        <span class="hljs-keyword">return</span> build(data, ResultCodeEnum.FAIL);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Result&lt;T&gt; <span class="hljs-title function_">message</span><span class="hljs-params">(String msg)</span>&#123;<br>        <span class="hljs-built_in">this</span>.setMessage(msg);<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Result&lt;T&gt; <span class="hljs-title function_">code</span><span class="hljs-params">(Integer code)</span>&#123;<br>        <span class="hljs-built_in">this</span>.setCode(code);<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ResultCodeEnum çŠ¶æ€ç æšä¸¾ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç»Ÿä¸€è¿”å›ç»“æœçŠ¶æ€ä¿¡æ¯ç±»</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Getter</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ResultCodeEnum</span> &#123;<br><br>    SUCCESS(<span class="hljs-number">200</span>,<span class="hljs-string">&quot;æˆåŠŸ&quot;</span>),<br>    FAIL(<span class="hljs-number">201</span>, <span class="hljs-string">&quot;å¤±è´¥&quot;</span>),<br>    SERVICE_ERROR(<span class="hljs-number">2012</span>, <span class="hljs-string">&quot;æœåŠ¡å¼‚å¸¸&quot;</span>),<br>    DATA_ERROR(<span class="hljs-number">204</span>, <span class="hljs-string">&quot;æ•°æ®å¼‚å¸¸&quot;</span>),<br>    ILLEGAL_REQUEST(<span class="hljs-number">205</span>, <span class="hljs-string">&quot;éæ³•è¯·æ±‚&quot;</span>),<br>    REPEAT_SUBMIT(<span class="hljs-number">206</span>, <span class="hljs-string">&quot;é‡å¤æäº¤&quot;</span>),<br>    ARGUMENT_VALID_ERROR(<span class="hljs-number">210</span>, <span class="hljs-string">&quot;å‚æ•°æ ¡éªŒå¼‚å¸¸&quot;</span>),<br><br>    LOGIN_AUTH(<span class="hljs-number">208</span>, <span class="hljs-string">&quot;æœªç™»é™†&quot;</span>),<br>    PERMISSION(<span class="hljs-number">209</span>, <span class="hljs-string">&quot;æ²¡æœ‰æƒé™&quot;</span>),<br>    ACCOUNT_ERROR(<span class="hljs-number">214</span>, <span class="hljs-string">&quot;è´¦å·ä¸æ­£ç¡®&quot;</span>),<br>    PASSWORD_ERROR(<span class="hljs-number">215</span>, <span class="hljs-string">&quot;å¯†ç ä¸æ­£ç¡®&quot;</span>),<br>    LOGIN_MOBLE_ERROR( <span class="hljs-number">216</span>, <span class="hljs-string">&quot;è´¦å·ä¸æ­£ç¡®&quot;</span>),<br>    ACCOUNT_STOP( <span class="hljs-number">217</span>, <span class="hljs-string">&quot;è´¦å·å·²åœç”¨&quot;</span>),<br>    NODE_ERROR( <span class="hljs-number">218</span>, <span class="hljs-string">&quot;è¯¥èŠ‚ç‚¹ä¸‹æœ‰å­èŠ‚ç‚¹ï¼Œä¸å¯ä»¥åˆ é™¤&quot;</span>)<br>    ;<br><br>    <span class="hljs-keyword">private</span> Integer code;<br><br>    <span class="hljs-keyword">private</span> String message;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">ResultCodeEnum</span><span class="hljs-params">(Integer code, String message)</span> &#123;<br>        <span class="hljs-built_in">this</span>.code = code;<br>        <span class="hljs-built_in">this</span>.message = message;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ Controller, è®©æ‰€æœ‰çš„æ¥å£è¿”å›çš„ç±»å‹éƒ½æ˜¯ json æ ¼å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Slf4j</span><br><span class="hljs-meta">@Api(&quot;è§’è‰²ç®¡ç†&quot;)</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/admin/system/sysRole&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SysRoleController</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> SysRoleService sysRoleService;<br><br>    <span class="hljs-meta">@ApiOperation(&quot;æŸ¥è¯¢æ‰€æœ‰è§’è‰²åˆ—è¡¨&quot;)</span><br>    <span class="hljs-meta">@GetMapping(&quot;/findAll&quot;)</span><br>    <span class="hljs-keyword">public</span> Result&lt;List&lt;SysRole&gt;&gt; <span class="hljs-title function_">findAll</span><span class="hljs-params">()</span> &#123;<br>        List&lt;SysRole&gt; list = sysRoleService.list(<span class="hljs-literal">null</span>);<br>        <span class="hljs-keyword">return</span> Result.ok(list);<br>    &#125;<br><span class="hljs-comment">/*    public List&lt;SysRole&gt; findAll() &#123;</span><br><span class="hljs-comment">        List&lt;SysRole&gt; list = sysRoleService.list(null);</span><br><span class="hljs-comment">        log.info(&quot;list = &#123;&#125;&quot;, list);</span><br><span class="hljs-comment">        return list;</span><br><span class="hljs-comment">    &#125;*/</span><br><br>    <span class="hljs-meta">@ApiOperation(&quot;é€šè¿‡idåˆ é™¤è§’è‰²&quot;)</span><br>    <span class="hljs-meta">@DeleteMapping(&quot;/remove/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">deleteById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;id&quot;)</span> String id)</span> &#123;<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> sysRoleService.removeById(id);<br>        <span class="hljs-comment">/*log.info(&quot;result = &#123;&#125;&quot;, result);*/</span><br>        <span class="hljs-keyword">return</span> Result.ok(result);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>æµ‹è¯•åœ°å€:<br><a href="http://localhost:8800/doc.html">http://localhost:8800/doc.html</a></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;code&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æˆåŠŸ&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><br><span class="hljs-punctuation">&#125;</span><br><br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;code&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æˆåŠŸ&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br><span class="hljs-punctuation">&#125;</span><br><br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;code&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æˆåŠŸ&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1586337616301735937&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;createTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2022-10-29T12:42:15.000+00:00&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;updateTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2022-10-30T03:13:38.000+00:00&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;isDeleted&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;param&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;roleName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;è§’è‰²ç®¡ç†å‘˜&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;roleCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;role&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;è§’è‰²ç®¡ç†å‘˜&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1586341642619711490&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;createTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2022-10-29T12:58:15.000+00:00&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;updateTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2022-10-30T03:13:38.000+00:00&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;isDeleted&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;param&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;roleName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;è§’è‰²ç®¡ç†å‘˜&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;roleCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;role&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;è§’è‰²ç®¡ç†å‘˜&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1586341642619711491&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;createTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2022-10-29T13:08:04.000+00:00&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;updateTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2022-10-30T03:13:42.000+00:00&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;isDeleted&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;param&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;roleName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;è§’è‰²ç®¡ç†å‘˜&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;roleCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;role&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;è§’è‰²ç®¡ç†å‘˜&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1586341642619711492&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;createTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2022-10-30T02:56:41.000+00:00&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;updateTime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2022-10-30T02:56:41.000+00:00&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;isDeleted&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;param&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;roleName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;è§’è‰²æµ‹è¯•å‘˜&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;roleCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;test&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;é—²ç€åƒå¹²é¥­çš„&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>ç¼–å†™ CRUD</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.system.controller;<br><br><span class="hljs-keyword">import</span> com.atguigu.common.result.Result;<br><span class="hljs-keyword">import</span> com.atguigu.model.system.SysRole;<br><span class="hljs-keyword">import</span> com.atguigu.model.vo.SysRoleQueryVo;<br><span class="hljs-keyword">import</span> com.atguigu.system.service.SysRoleService;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> io.swagger.annotations.Api;<br><span class="hljs-keyword">import</span> io.swagger.annotations.ApiOperation;<br><span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æµ‹è¯•è·¯å¾„</span><br><span class="hljs-comment"> * http://localhost:8800/admin/system/sysRole/findAll</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-meta">@Slf4j</span><br><span class="hljs-meta">@Api(&quot;è§’è‰²ç®¡ç†&quot;)</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/admin/system/sysRole&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SysRoleController</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> SysRoleService sysRoleService;<br><br>    <span class="hljs-meta">@ApiOperation(&quot;æŸ¥è¯¢æ‰€æœ‰è§’è‰²åˆ—è¡¨&quot;)</span><br>    <span class="hljs-meta">@GetMapping(&quot;/findAll&quot;)</span><br>    <span class="hljs-keyword">public</span> Result&lt;List&lt;SysRole&gt;&gt; <span class="hljs-title function_">findAll</span><span class="hljs-params">()</span> &#123;<br>        List&lt;SysRole&gt; list = sysRoleService.list(<span class="hljs-literal">null</span>);<br>        <span class="hljs-keyword">return</span> Result.ok(list);<br>    &#125;<br><span class="hljs-comment">/*    public List&lt;SysRole&gt; findAll() &#123;</span><br><span class="hljs-comment">        List&lt;SysRole&gt; list = sysRoleService.list(null);</span><br><span class="hljs-comment">        log.info(&quot;list = &#123;&#125;&quot;, list);</span><br><span class="hljs-comment">        return list;</span><br><span class="hljs-comment">    &#125;*/</span><br><br>    <span class="hljs-meta">@ApiOperation(&quot;é€šè¿‡idåˆ é™¤è§’è‰²&quot;)</span><br>    <span class="hljs-meta">@DeleteMapping(&quot;/remove/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">deleteById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;id&quot;)</span> String id)</span> &#123;<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> sysRoleService.removeById(id);<br>        <span class="hljs-comment">/*log.info(&quot;result = &#123;&#125;&quot;, result);*/</span><br>        <span class="hljs-keyword">return</span> Result.ok(result);<br>    &#125;<br><br>    <span class="hljs-meta">@ApiOperation(&quot;æ¡ä»¶åˆ†é¡µæŸ¥è¯¢&quot;)</span><br>    <span class="hljs-meta">@GetMapping(&quot;/&#123;page&#125;/&#123;limit&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">findPageQueryRole</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer page,</span><br><span class="hljs-params">                                    <span class="hljs-meta">@PathVariable</span> Integer limit,</span><br><span class="hljs-params">                                    SysRoleQueryVo sysRoleQueryVo)</span> &#123;<br>        Page&lt;SysRole&gt; pageParam = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>&lt;&gt;(page, limit);<br>        IPage&lt;SysRole&gt; pageModel =  sysRoleService.selectPage(pageParam, sysRoleQueryVo);<br>        <span class="hljs-keyword">return</span> Result.ok(pageModel);<br>    &#125;<br><br>    <span class="hljs-meta">@ApiOperation(&quot;è·å–è§’è‰²&quot;)</span><br>    <span class="hljs-meta">@GetMapping(&quot;/get/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">get</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span> &#123;<br>        <span class="hljs-type">SysRole</span> <span class="hljs-variable">byId</span> <span class="hljs-operator">=</span> sysRoleService.getById(id);<br>        <span class="hljs-keyword">return</span> Result.ok(byId);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@RequestBody</span> ä¸èƒ½ä½¿ç”¨getæäº¤æ–¹å¼</span><br><span class="hljs-comment">     * ä¼ é€’jsonæ ¼å¼æ•°æ®, æŠŠjsonæ ¼å¼æ•°æ®å°è£…åˆ°å¯¹è±¡é‡Œé¢&#123;...&#125;</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> sysRole</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@ApiOperation(&quot;æ–°å¢è§’è‰²&quot;)</span><br>    <span class="hljs-meta">@PostMapping(&quot;/save&quot;)</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">save</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> SysRole sysRole)</span> &#123;<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">save</span> <span class="hljs-operator">=</span> sysRoleService.save(sysRole);<br>        <span class="hljs-keyword">if</span> (save) &#123;<br>            <span class="hljs-keyword">return</span> Result.ok();<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> Result.fail();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@ApiOperation(&quot;æ ¹æ®idæŸ¥è¯¢&quot;)</span><br>    <span class="hljs-meta">@PostMapping(&quot;/findRoleById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">findRoleById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> &#123;<br>        <span class="hljs-type">SysRole</span> <span class="hljs-variable">sysRole</span> <span class="hljs-operator">=</span> sysRoleService.getById(id);<br>        <span class="hljs-keyword">return</span> Result.ok(sysRole);<br>    &#125;<br><br>    <span class="hljs-meta">@ApiOperation(&quot;ä¿®æ”¹è§’è‰²&quot;)</span><br>    <span class="hljs-meta">@PostMapping(&quot;/update&quot;)</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">update</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> SysRole sysRole)</span> &#123;<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         boolean update = sysRoleService.update(sysRole, null);</span><br><span class="hljs-comment">         è¿™é‡Œæ²¡æœ‰è®¾ç½®updateWrapperæ¡ä»¶æ„é€ å™¨, æ‰€æœ‰ä¿®æ”¹çš„å€¼æ˜¯è¡¨ä¸­çš„æ‰€æœ‰è®°å½•</span><br><span class="hljs-comment">        */</span><br><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> sysRoleService.updateById(sysRole);<br>        <span class="hljs-keyword">if</span> (flag) &#123;<br>            <span class="hljs-keyword">return</span> Result.ok();<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> Result.fail();<br>        &#125;<br>    &#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    @ApiOperation(&quot;åˆ é™¤è§’è‰²&quot;)</span><br><span class="hljs-comment">    @DeleteMapping(&quot;/remove/&#123;id&#125;&quot;)</span><br><span class="hljs-comment">    public Result delete(@PathVariable Integer id) &#123;</span><br><span class="hljs-comment">        boolean flag = sysRoleService.removeById(id);</span><br><span class="hljs-comment">        return Result.ok(flag);</span><br><span class="hljs-comment">    &#125;*/</span><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * jsonæ•°ç»„æ ¼å¼ -- javaçš„listé›†åˆ</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> list</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@ApiOperation(&quot;æ ¹æ®idåˆ—è¡¨åˆ é™¤&quot;)</span><br>    <span class="hljs-meta">@DeleteMapping(&quot;/batchRemove&quot;)</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">batchRemove</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> List&lt;Long&gt; list)</span> &#123;<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> sysRoleService.removeByIds(list);<br>        <span class="hljs-keyword">if</span> (flag) &#123;<br>            <span class="hljs-keyword">return</span> Result.ok();<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> Result.fail();<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="å…¨å±€å¼‚å¸¸"><a href="#å…¨å±€å¼‚å¸¸" class="headerlink" title="å…¨å±€å¼‚å¸¸"></a>å…¨å±€å¼‚å¸¸</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.system.handler;<br><br><span class="hljs-keyword">import</span> com.atguigu.common.result.Result;<br><span class="hljs-keyword">import</span> com.atguigu.system.execption.GuiguException;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ControllerAdvice;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * å…¨å±€å¼‚å¸¸å¤„ç†ç±»</span><br><span class="hljs-comment"> * æœ‰å¼‚å¸¸å‡ºç°, å…ˆæ‰¾æœ‰æ²¡æœ‰å¼‚å¸¸å¯¹åº”çš„æ–¹æ³•, æœ‰çš„è¯æ‰§è¡Œ, å¦‚æœæ²¡æœ‰çš„è¯, æ‰§è¡Œå…¨å±€å¼‚å¸¸</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@ControllerAdvice</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> &#123;<br><br>    <span class="hljs-meta">@ExceptionHandler(Exception.class)</span><br>    <span class="hljs-meta">@ResponseBody</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">error</span><span class="hljs-params">(Exception e)</span> &#123;<br>        e.printStackTrace();<br>        <span class="hljs-keyword">return</span> Result.fail().message(<span class="hljs-string">&quot;æ‰§è¡Œäº†å…¨å±€å¼‚å¸¸&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@ExceptionHandler(ArithmeticException.class)</span><br>    <span class="hljs-meta">@ResponseBody</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">error</span><span class="hljs-params">(ArithmeticException e)</span>&#123;<br>        e.printStackTrace();<br>        <span class="hljs-keyword">return</span> Result.fail().message(<span class="hljs-string">&quot;æ‰§è¡Œäº†ç‰¹å®šå¼‚å¸¸å¤„ç†&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@ExceptionHandler(GuiguException.class)</span><br>    <span class="hljs-meta">@ResponseBody</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">error</span><span class="hljs-params">(GuiguException e)</span>&#123;<br>        e.printStackTrace();<br>        <span class="hljs-keyword">return</span> Result.fail().message(e.getMessage()).code(e.getCode());<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>è‡ªå®šä¹‰å¼‚å¸¸</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.system.execption;<br><br><span class="hljs-keyword">import</span> com.atguigu.common.result.ResultCodeEnum;<br><span class="hljs-keyword">import</span> lombok.Data;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è‡ªå®šä¹‰å…¨å±€å¼‚å¸¸ç±»</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GuiguException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RuntimeException</span> &#123;<br><br>    <span class="hljs-keyword">private</span> Integer code;<br><br>    <span class="hljs-keyword">private</span> String message;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * é€šè¿‡çŠ¶æ€ç å’Œé”™è¯¯æ¶ˆæ¯åˆ›å»ºå¼‚å¸¸å¯¹è±¡</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> code</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> message</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">GuiguException</span><span class="hljs-params">(Integer code, String message)</span> &#123;<br>        <span class="hljs-built_in">super</span>(message);<br>        <span class="hljs-built_in">this</span>.code = code;<br>        <span class="hljs-built_in">this</span>.message = message;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ¥æ”¶æšä¸¾ç±»å‹å¯¹è±¡</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> resultCodeEnum</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">GuiguException</span><span class="hljs-params">(ResultCodeEnum resultCodeEnum)</span> &#123;<br>        <span class="hljs-built_in">super</span>(resultCodeEnum.getMessage());<br>        <span class="hljs-built_in">this</span>.code = resultCodeEnum.getCode();<br>        <span class="hljs-built_in">this</span>.message = resultCodeEnum.getMessage();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;GuliException&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;code=&quot;</span> + code +<br>                <span class="hljs-string">&quot;, message=&quot;</span> + <span class="hljs-built_in">this</span>.getMessage() +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•å¼‚å¸¸</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java">   <span class="hljs-meta">@Autowired</span><br>   <span class="hljs-keyword">private</span> SysRoleService sysRoleService;<br><br><span class="hljs-meta">@ApiOperation(&quot;æŸ¥è¯¢æ‰€æœ‰è§’è‰²åˆ—è¡¨&quot;)</span><br>   <span class="hljs-meta">@GetMapping(&quot;/findAll&quot;)</span><br>   <span class="hljs-keyword">public</span> Result&lt;List&lt;SysRole&gt;&gt; <span class="hljs-title function_">findAll</span><span class="hljs-params">()</span> &#123;<br>       <span class="hljs-keyword">try</span> &#123;<br>           <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>/<span class="hljs-number">0</span>;<br>       &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>           <span class="hljs-comment">// æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸</span><br>           <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">GuiguException</span>(<span class="hljs-number">20001</span>,<span class="hljs-string">&quot;å‡ºç°è‡ªå®šä¹‰å¼‚å¸¸&quot;</span>);<br>       &#125;<br>       List&lt;SysRole&gt; list = sysRoleService.list(<span class="hljs-literal">null</span>);<br>       <span class="hljs-keyword">return</span> Result.ok(list);<br>   &#125;<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…-vscode"><a href="#å®‰è£…-vscode" class="headerlink" title="å®‰è£… vscode"></a>å®‰è£… vscode</h2><p>ä¸‹è½½å››ä¸ªæ’ä»¶<br><img src="http://cdn.xiamu.icu//Fj-To2OPZjwQA-qAmej5a9Vd8WFC.png"><br><img src="http://cdn.xiamu.icu//FiWqfqI7aey-sdwibV5ij6wk3aL2.png"><br><img src="http://cdn.xiamu.icu//FnMn7OtDR_VWwp-Fv4fXCtPl1vBK.png"></p><p>åˆ›å»ºå·¥ä½œåŒº</p><ul><li>å…ˆåˆ›å»ºä¸€ä¸ªç©ºçš„æ–‡ä»¶å¤¹</li><li>ç„¶ååœ¨ vscode ä¸­æ‰“å¼€è¿™ä¸ªç©ºæ–‡ä»¶å¤¹</li><li>åœ¨ç©ºæ–‡ä»¶å¤¹ä¸­å¦å­˜ä¸ºå·¥ä½œåŒº (workspace.code-workspace)</li></ul><p><img src="http://cdn.xiamu.icu//FpeQSy_-NAklQeB6qPOwUaC2r8Uj.png"></p><h2 id="Nodejs-ç®€å•å…¥é—¨"><a href="#Nodejs-ç®€å•å…¥é—¨" class="headerlink" title="Nodejs ç®€å•å…¥é—¨"></a>Nodejs ç®€å•å…¥é—¨</h2><p>å®˜ç½‘ï¼š<a href="https://nodejs.org/en/">https://nodejs.org/en/</a><br>ä¸­æ–‡ç½‘ï¼š<a href="http://nodejs.cn/">http://nodejs.cn/</a><br>LTSï¼šé•¿æœŸæ”¯æŒç‰ˆæœ¬<br>Currentï¼šæœ€æ–°ç‰ˆ</p><p>æŸ¥çœ‹ node ç‰ˆæœ¬<br><img src="http://cdn.xiamu.icu//FuCEJBRxdvYTXUUjHJSZoX23rewK.png"><br>åœ¨ vscode ä¸­æ‰“å¼€ç»ˆç«¯, åŒæ ·ä¹Ÿå¯ä»¥æŸ¥çœ‹ç‰ˆæœ¬<br><img src="http://cdn.xiamu.icu//FjB2sJFakH0ERkUU1xEba-0JmoHt.png"></p><p>ç¼–å†™ç¬¬ä¸€ä¸ª nodejs æœåŠ¡å™¨<br>01.js<br>console.log(â€˜Hello Node.jsâ€™)<br>node 02.js<br><img src="http://cdn.xiamu.icu//FqUYTZWxLppFrccWMKRsB-hXwFWU.png"></p><p>02.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;http&quot;</span>);<br>http<br>  .<span class="hljs-title function_">createServer</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">request, response</span>) &#123;<br>    <span class="hljs-comment">// å‘é€ HTTP å¤´éƒ¨</span><br>    <span class="hljs-comment">// HTTP çŠ¶æ€å€¼: 200 : OK</span><br>    <span class="hljs-comment">// å†…å®¹ç±»å‹: text/plain</span><br>    response.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, &#123; <span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;text/plain&quot;</span> &#125;);<br>    <span class="hljs-comment">// å‘é€å“åº”æ•°æ® &quot;Hello World&quot;</span><br>    response.<span class="hljs-title function_">end</span>(<span class="hljs-string">&quot;Hello Server&quot;</span>);<br>  &#125;)<br>  .<span class="hljs-title function_">listen</span>(<span class="hljs-number">8888</span>);<br><span class="hljs-comment">// ç»ˆç«¯æ‰“å°å¦‚ä¸‹ä¿¡æ¯</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Server running at http://127.0.0.1:8888/&quot;</span>);<br></code></pre></td></tr></table></figure><p>node 02.js<br>Server running at <a href="http://127.0.0.1:8888/">http://127.0.0.1:8888/</a>è¯´æ˜æœåŠ¡å™¨å·²ç»è¿è¡Œèµ·æ¥äº†<br><img src="http://cdn.xiamu.icu//FmFyfFnJZWxyRIgkn9Q9fBbKKaEX.png"></p><h2 id="NPM"><a href="#NPM" class="headerlink" title="NPM"></a>NPM</h2><p>æ„å»ºå‰ç«¯é¡¹ç›®<br>ç®¡ç†å‰ç«¯ä¾èµ–</p><h2 id="npm-åˆå§‹åŒ–é¡¹ç›®"><a href="#npm-åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="npm åˆå§‹åŒ–é¡¹ç›®"></a>npm åˆå§‹åŒ–é¡¹ç›®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">PS E:\Code\æƒé™é¡¹ç›®\guigu-auth-front\npmdemo&gt; npm init<br><br>PS E:\Code\æƒé™é¡¹ç›®\guigu-auth-front\npmdemo&gt; npm init -y<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FurLI6Oj3iCrGpr3-Iye7U41eBJk.png"></p><h2 id="ä¿®æ”¹-npm-é•œåƒæº"><a href="#ä¿®æ”¹-npm-é•œåƒæº" class="headerlink" title="ä¿®æ”¹ npm é•œåƒæº"></a>ä¿®æ”¹ npm é•œåƒæº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><span class="hljs-comment"># ç¬¬ä¸€ç§æŸ¥çœ‹ä¿®æ”¹npmé•œåƒæºçš„æ–¹æ³•</span><br><span class="hljs-comment">#ç»è¿‡ä¸‹é¢çš„é…ç½®ï¼Œä»¥åæ‰€æœ‰çš„ npm install éƒ½ä¼šç»è¿‡æ·˜å®çš„é•œåƒåœ°å€ä¸‹è½½</span><br>npm config <span class="hljs-built_in">set</span> registry https://registry.npm.taobao.org<br><span class="hljs-comment">#æŸ¥çœ‹npmé…ç½®ä¿¡æ¯</span><br>npm config list<br><br><span class="hljs-comment"># ç¬¬äºŒç§æŸ¥çœ‹ä¿®æ”¹npmé•œåƒæºçš„æ–¹æ³•</span><br>npm config get registry  // æŸ¥çœ‹npmå½“å‰é•œåƒæº<br>npm config <span class="hljs-built_in">set</span> registry https://registry.npm.taobao.org/  // è®¾ç½®npmé•œåƒæºä¸ºæ·˜å®é•œåƒ<br><br><span class="hljs-comment"># ä¿®æ”¹yarnçš„é•œåƒæºçš„æ–¹æ³•</span><br><span class="hljs-comment"># yarn æ˜¯ä¸€ä¸ªå¿«é€Ÿã€å¯é ã€å®‰å…¨çš„ä¾èµ–ç®¡ç†å·¥å…·ï¼Œä¸€æ¬¾æ–°çš„JavaScriptåŒ…ç®¡ç†å·¥å…·</span><br><span class="hljs-comment">#yarn config get registry  // æŸ¥çœ‹yarnå½“å‰é•œåƒæº</span><br><span class="hljs-comment">#yarn config set registry https://registry.npm.taobao.org/  // è®¾ç½®yarné•œåƒæºä¸ºæ·˜å®é•œåƒ</span><br><br><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Ft__ReMATmVwqMB5XcPmuVe8liCq.png"></p><h2 id="é…ç½®ä»“åº“åœ°å€"><a href="#é…ç½®ä»“åº“åœ°å€" class="headerlink" title="é…ç½®ä»“åº“åœ°å€"></a>é…ç½®ä»“åº“åœ°å€</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># é…ç½®å…¨å±€å®‰è£…ï¼š</span><br>npm config <span class="hljs-built_in">set</span> prefix D:\atguigu\node-global<br><br><span class="hljs-comment"># é…ç½®ç¼“å­˜è·¯å¾„ï¼š</span><br>npm config <span class="hljs-built_in">set</span> cache D:\atguigu\node-cache<br><br><span class="hljs-comment">#æŸ¥çœ‹npmé…ç½®ä¿¡æ¯</span><br>npm config list<br></code></pre></td></tr></table></figure><h2 id="npm-install-å‘½ä»¤çš„ä½¿ç”¨"><a href="#npm-install-å‘½ä»¤çš„ä½¿ç”¨" class="headerlink" title="npm install å‘½ä»¤çš„ä½¿ç”¨"></a>npm install å‘½ä»¤çš„ä½¿ç”¨</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">ä½¿ç”¨ npm install å®‰è£…ä¾èµ–åŒ…çš„æœ€æ–°ç‰ˆï¼Œ</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">æ¨¡å—å®‰è£…çš„ä½ç½®ï¼šé¡¹ç›®ç›®å½•\node_modules</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">å®‰è£…ä¼šè‡ªåŠ¨åœ¨é¡¹ç›®ç›®å½•ä¸‹æ·»åŠ  package-lock.jsonæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å¸®åŠ©é”å®šå®‰è£…åŒ…çš„ç‰ˆæœ¬</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">åŒæ—¶package.json æ–‡ä»¶ä¸­ï¼Œä¾èµ–åŒ…ä¼šè¢«æ·»åŠ åˆ°dependenciesèŠ‚ç‚¹ä¸‹ï¼Œç±»ä¼¼mavenä¸­çš„ &lt;dependencies&gt;</span><br>npm install jquery<br><span class="hljs-meta prompt_">#</span><span class="language-bash">npmç®¡ç†çš„é¡¹ç›®åœ¨å¤‡ä»½å’Œä¼ è¾“çš„æ—¶å€™ä¸€èˆ¬ä¸æºå¸¦node_modulesæ–‡ä»¶å¤¹</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æ ¹æ®é…ç½®æ–‡ä»¶ç›´æ¥ä¸‹è½½ä¾èµ–</span><br>npm install #æ ¹æ®package.jsonä¸­çš„é…ç½®ä¸‹è½½ä¾èµ–ï¼Œåˆå§‹åŒ–é¡¹ç›®<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">å¦‚æœå®‰è£…æ—¶æƒ³æŒ‡å®šç‰¹å®šçš„ç‰ˆæœ¬</span><br>npm install jquery@2.1.x<br><span class="hljs-meta prompt_"># </span><span class="language-bash">å±€éƒ¨å®‰è£…</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">devDependenciesèŠ‚ç‚¹ï¼šå¼€å‘æ—¶çš„ä¾èµ–åŒ…ï¼Œé¡¹ç›®æ‰“åŒ…åˆ°ç”Ÿäº§ç¯å¢ƒçš„æ—¶å€™ä¸åŒ…å«çš„ä¾èµ–</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">ä½¿ç”¨ -Då‚æ•°å°†ä¾èµ–æ·»åŠ åˆ°devDependenciesèŠ‚ç‚¹</span><br>npm install --save-dev eslint<br><span class="hljs-meta prompt_">#</span><span class="language-bash">æˆ–</span><br>npm install -D eslint<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å…¨å±€å®‰è£…</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">Node.jså…¨å±€å®‰è£…çš„npmåŒ…å’Œå·¥å…·çš„ä½ç½®ï¼šç”¨æˆ·ç›®å½•\AppData\Roaming\npm\node_modules</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">ä¸€äº›å‘½ä»¤è¡Œå·¥å…·å¸¸ä½¿ç”¨å…¨å±€å®‰è£…çš„æ–¹å¼</span><br>npm install -g webpack<br>--global<br></code></pre></td></tr></table></figure><h2 id="å…¶ä»–å‘½ä»¤"><a href="#å…¶ä»–å‘½ä»¤" class="headerlink" title="å…¶ä»–å‘½ä»¤"></a>å…¶ä»–å‘½ä»¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">æ›´æ–°åŒ…ï¼ˆæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼‰</span><br>npm update åŒ…å<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å…¨å±€æ›´æ–°</span><br>npm update -g åŒ…å<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å¸è½½åŒ…</span><br>npm uninstall åŒ…å<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å…¨å±€å¸è½½</span><br>npm uninstall -g åŒ…å<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FiZxH55ahPvTSowyxPzgXRhoOfdq.png"><br>package.json é¡¹ç›®åˆå§‹åŒ–æ—¶å€™ç”Ÿæˆæ–‡ä»¶<br>node_modules ä¸‹è½½ä¾èµ–åœ¨è¿™ä¸ªç›®å½•ä¸‹<br>package-lock.json é”å®šå½“å‰ç‰ˆæœ¬</p><h2 id="å‰ç«¯æ¨¡å—åŒ–å¼€å‘-ES5"><a href="#å‰ç«¯æ¨¡å—åŒ–å¼€å‘-ES5" class="headerlink" title="å‰ç«¯æ¨¡å—åŒ–å¼€å‘(ES5)"></a>å‰ç«¯æ¨¡å—åŒ–å¼€å‘(ES5)</h2><p>åˆ›å»ºä¸¤ä¸ª js æ–‡ä»¶<br>01.js<br>02.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">a, b</span>) &#123;<br>  <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sub</span>(<span class="hljs-params">a, b</span>) &#123;<br>  <span class="hljs-keyword">return</span> a - b;<br>&#125;<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  sum,<br>  sub,<br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> m = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./01.js&quot;</span>);<br><br><span class="hljs-keyword">var</span> sum = m.<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sum);<br><br><span class="hljs-keyword">var</span> sub = m.<span class="hljs-title function_">sub</span>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sub);<br></code></pre></td></tr></table></figure><p>è¿è¡Œ 02.js, å‘ç°æˆåŠŸè°ƒç”¨äº† 01.js é‡Œé¢çš„æ–¹æ³•<br><img src="http://cdn.xiamu.icu//FuiOYpSrVacBusY9HiHZLPBPeDNX.png"></p><h2 id="ES6-æ¨¡å—åŒ–å†™æ³•"><a href="#ES6-æ¨¡å—åŒ–å†™æ³•" class="headerlink" title="ES6 æ¨¡å—åŒ–å†™æ³•"></a>ES6 æ¨¡å—åŒ–å†™æ³•</h2><p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ es6<br>åœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºæ–‡ä»¶ 01.js å’Œ 02.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getList</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;è·å–æ•°æ®åˆ—è¡¨&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">save</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ä¿å­˜æ•°æ®&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; getList, save &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./01.js&quot;</span>;<br><br><span class="hljs-title function_">getList</span>();<br><br><span class="hljs-title function_">save</span>();<br></code></pre></td></tr></table></figure><p>ç›´æ¥è¿è¡Œä¼šå‘ç°æŠ¥é”™<br>å› ä¸º ES6 çš„æ¨¡å—åŒ–æ— æ³•åœ¨ Node.js ä¸­æ‰§è¡Œ<br>éœ€è¦ç”¨ Babel ç¼–è¾‘æˆ ES5 åå†æ‰§è¡Œ</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><br><span class="hljs-built_in">PS</span> E:\Code\æƒé™é¡¹ç›®\guigu<span class="hljs-literal">-auth-front</span>\moduledemo\es6&gt; node .\<span class="hljs-number">02</span>.js<br>(node:<span class="hljs-number">13464</span>) Warning: To load an ES module, <span class="hljs-built_in">set</span> <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;module&quot;</span> <span class="hljs-keyword">in</span> the package.json or use the .mjs extension.<br>(Use `node <span class="hljs-literal">--trace-warnings</span> ...` to show <span class="hljs-built_in">where</span> the warning was created)<br>E:\Code\æƒé™é¡¹ç›®\guigu<span class="hljs-literal">-auth-front</span>\moduledemo\es6\<span class="hljs-number">02</span>.js:<span class="hljs-number">2</span><br>import &#123;getList, save&#125; from <span class="hljs-string">&quot;./01.js&quot;</span>;<br>^^^^^^<br><br>SyntaxError: Cannot use import statement outside a module<br>at Object.compile<span class="hljs-function"><span class="hljs-keyword">Function</span> <span class="hljs-params">(node:vm:352:18)</span></span><br>at wrapSafe (node:internal/modules/cjs/loader:<span class="hljs-number">1025</span>:<span class="hljs-number">15</span>)<br>at Module._compile (node:internal/modules/cjs/loader:<span class="hljs-number">1059</span>:<span class="hljs-number">27</span>)<br>at Object.Module._extensions..js (node:internal/modules/cjs/loader:<span class="hljs-number">1147</span>:<span class="hljs-number">10</span>)<br>at Module.load (node:internal/modules/cjs/loader:<span class="hljs-number">975</span>:<span class="hljs-number">32</span>)<br>at Function.Module._load (node:internal/modules/cjs/loader:<span class="hljs-number">822</span>:<span class="hljs-number">12</span>)<br>at Function.executeUserEntryPoint [<span class="hljs-type">as</span> <span class="hljs-type">runMain</span>] (node:internal/modules/run_main:<span class="hljs-number">81</span>:<span class="hljs-number">12</span>)<br>at node:internal/main/run_main_module:<span class="hljs-number">17</span>:<span class="hljs-number">47</span><br><br>Node.js v17.<span class="hljs-number">0.1</span><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…-Babel"><a href="#å®‰è£…-Babel" class="headerlink" title="å®‰è£… Babel"></a>å®‰è£… Babel</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install --global babel-cli<br><span class="hljs-comment">#æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span><br>babel --version<br></code></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°äº†å¦‚ä¸‹æŠ¥é”™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">PS E:\Code\æƒé™é¡¹ç›®\guigu-auth-front\moduledemo\es6&gt; babel --version<br>babel : æ— æ³•åŠ è½½æ–‡ä»¶ D:\Nodejs\node_global\babel.ps1ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… https:/g<br>o.microsoft.com/fwlink/?LinkID=135170 ä¸­çš„ about_Execution_Policiesã€‚<br>æ‰€åœ¨ä½ç½® è¡Œ:1 å­—ç¬¦: 1<br>+ babel --version<br>+ ~~~~~<br>    + CategoryInfo          : SecurityError: (:) []ï¼ŒPSSecurityException<br>    + FullyQualifiedErrorId : UnauthorizedAccess<br></code></pre></td></tr></table></figure><p>è¯·åœ¨ windows10 ç”µè„‘ä¸­æœç´¢ PowerShell, å¹¶ä¸”éœ€è¦ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€, è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤, ç„¶åæŒ‰ y</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">set-ExecutionPolicy RemoteSigned<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fi9cFsSGv_f-9i2chqN_y0-4qjC0.png"></p><h2 id="é…ç½®-babelrc"><a href="#é…ç½®-babelrc" class="headerlink" title="é…ç½®.babelrc"></a>é…ç½®.babelrc</h2><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»º.babelrc æ–‡ä»¶, ç„¶åä¿å­˜å¦‚ä¸‹å†…å®¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">&#123;<br>    <span class="hljs-string">&quot;presets&quot;</span>: [<span class="hljs-string">&quot;es2015&quot;</span>],<br>    <span class="hljs-string">&quot;plugins&quot;</span>: []<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…è½¬ç å™¨"><a href="#å®‰è£…è½¬ç å™¨" class="headerlink" title="å®‰è£…è½¬ç å™¨"></a>å®‰è£…è½¬ç å™¨</h2><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹è¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install --save-dev babel-preset-es2015<br></code></pre></td></tr></table></figure><p>è½¬ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ•´ä¸ªç›®å½•è½¬ç </span><br><span class="hljs-built_in">mkdir</span> es5<br><span class="hljs-comment"># --out-dir æˆ– -d å‚æ•°æŒ‡å®šè¾“å‡ºç›®å½•</span><br>babel es6 -d es5<br></code></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">node es5/02.js<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fu6NXMzLRZfdiLasUOAJcxgfTxme.png"></p><h2 id="ES6-æ¨¡å—åŒ–å†™æ³•-äºŒ"><a href="#ES6-æ¨¡å—åŒ–å†™æ³•-äºŒ" class="headerlink" title="ES6 æ¨¡å—åŒ–å†™æ³•(äºŒ)"></a>ES6 æ¨¡å—åŒ–å†™æ³•(äºŒ)</h2><p>åˆ›å»º es62 ç›®å½•<br>01.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">getList</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;è·å–æ•°æ®åˆ—è¡¨2&quot;</span>);<br>  &#125;,<br>  <span class="hljs-title function_">save</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ä¿å­˜æ•°æ®&quot;</span>);<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>02.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> m <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./01&quot;</span>; <span class="hljs-comment">// è¿™é‡Œå¼•å…¥æ–‡ä»¶å¯ä»¥çœç•¥ä¸å†™.jsæ–‡ä»¶</span><br><br>m.<span class="hljs-title function_">getList</span>();<br>m.<span class="hljs-title function_">save</span>();<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">PS E:\Code\æƒé™é¡¹ç›®\guigu-auth-front\moduledemo&gt; babel .\es62\ -d .\es52\<br>es62\01.js -&gt; es52\01.js<br>es62\02.js -&gt; es52\02.js<br>PS E:\Code\æƒé™é¡¹ç›®\guigu-auth-front\moduledemo&gt; node .\es52\02.js<br>è·å–æ•°æ®åˆ—è¡¨2<br>ä¿å­˜æ•°æ®<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fq9niyJi3uhs8j5CCIKydY5tfCPU.png"></p><h2 id="æ­å»ºå‰ç«¯ç¯å¢ƒ"><a href="#æ­å»ºå‰ç«¯ç¯å¢ƒ" class="headerlink" title="æ­å»ºå‰ç«¯ç¯å¢ƒ"></a>æ­å»ºå‰ç«¯ç¯å¢ƒ</h2><p>vue-admin-template åå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿<br><strong>GitHub åœ°å€ï¼š</strong><a href="https://github.com/PanJiaChen/vue-admin-template">https://github.com/PanJiaChen/vue-admin-template</a></p><p>ä¸‹è½½é¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Clone project</span><br>git <span class="hljs-built_in">clone</span> https://github.com/PanJiaChen/vue-admin-template.git<br></code></pre></td></tr></table></figure><p><strong>å»ºè®®ï¼š</strong>ä½ å¯ä»¥åœ¨ vue-admin-template çš„åŸºç¡€ä¸Šè¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼ŒæŠŠ vue-element-admin å½“åšå·¥å…·ç®±ï¼Œæƒ³è¦ä»€ä¹ˆåŠŸèƒ½æˆ–è€…ç»„ä»¶å°±å» vue-element-admin é‚£é‡Œå¤åˆ¶è¿‡æ¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#ä¿®æ”¹é¡¹ç›®åç§° vue-admin-template æ”¹ä¸º guigu-auth-ui</span><br><span class="hljs-comment"># è§£å‹å‹ç¼©åŒ…</span><br><span class="hljs-comment"># è¿›å…¥ç›®å½•</span><br><span class="hljs-built_in">cd</span> vue-admin-template<br><span class="hljs-comment"># å®‰è£…ä¾èµ–</span><br>npm install<br><span class="hljs-comment"># å¯åŠ¨ã€‚æ‰§è¡Œåï¼Œæµè§ˆå™¨è‡ªåŠ¨å¼¹å‡ºå¹¶è®¿é—®http://localhost:9528/</span><br>npm run dev<br></code></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°äº†å¦‚ä¸‹æŠ¥é”™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">Error: error:0308010C:digital envelope routines::unsupported<br>    at new Hash (node:internal/crypto/hash:67:19)<br>    at Object.createHash (node:crypto:130:10)<br>    at module.exports (E:\Code\guigu-auth\guigu-auth-front\system-front\node_modules\webpack\lib\util\createHash.js:135:53)<br></code></pre></td></tr></table></figure><p>npm run dev å¦‚æœæŠ¥é”™äº†, è¯·æŠŠ nodejs ç‰ˆæœ¬é™ä½åˆ° 16 ç‰ˆæœ¬ä»¥å‰</p><h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs bash">|-dist ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…ç”Ÿæˆçš„æ‰“åŒ…é¡¹ç›®<br>|-mock äº§ç”Ÿæ¨¡æ‹Ÿæ•°æ®<br>|-public åŒ…å«ä¼šè¢«è‡ªåŠ¨æ‰“åŒ…åˆ°é¡¹ç›®æ ¹è·¯å¾„çš„æ–‡ä»¶å¤¹<br>|-index.html å”¯ä¸€çš„é¡µé¢<br>|-src<br>|-api åŒ…å«æ¥å£è¯·æ±‚å‡½æ•°æ¨¡å—<br>|-table.js  è¡¨æ ¼åˆ—è¡¨mockæ•°æ®æ¥å£çš„è¯·æ±‚å‡½æ•°<br>|-user.js  ç”¨æˆ·ç™»é™†ç›¸å…³mockæ•°æ®æ¥å£çš„è¯·æ±‚å‡½æ•°<br>|-assets ç»„ä»¶ä¸­éœ€è¦ä½¿ç”¨çš„å…¬ç”¨èµ„æº<br>|-404_images 404é¡µé¢çš„å›¾ç‰‡<br>|-components éè·¯ç”±ç»„ä»¶<br>|-SvgIcon svgå›¾æ ‡ç»„ä»¶<br>|-Breadcrumb é¢åŒ…å±‘ç»„ä»¶(å¤´éƒ¨æ°´å¹³æ–¹å‘çš„å±‚çº§ç»„ä»¶)<br>|-Hamburger ç”¨æ¥ç‚¹å‡»åˆ‡æ¢å·¦ä¾§èœå•å¯¼èˆªçš„å›¾æ ‡ç»„ä»¶<br>|-icons<br>|-svg åŒ…å«ä¸€äº›svgå›¾ç‰‡æ–‡ä»¶<br>|-index.js å…¨å±€æ³¨å†ŒSvgIconç»„ä»¶,åŠ è½½æ‰€æœ‰svgå›¾ç‰‡å¹¶æš´éœ²æ‰€æœ‰svgæ–‡ä»¶åçš„æ•°ç»„<br>|-layout<br>|-components ç»„æˆæ•´ä½“å¸ƒå±€çš„ä¸€äº›å­ç»„ä»¶<br>|-mixin ç»„ä»¶ä¸­å¯å¤ç”¨çš„ä»£ç <br>|-index.vue åå°ç®¡ç†çš„æ•´ä½“ç•Œé¢å¸ƒå±€ç»„ä»¶<br>|-router<br>|-index.js è·¯ç”±å™¨<br>|-store<br>|-modules<br>|-app.js ç®¡ç†åº”ç”¨ç›¸å…³æ•°æ®<br>|-settings.js ç®¡ç†è®¾ç½®ç›¸å…³æ•°æ®<br>|-user.js ç®¡ç†åå°ç™»é™†ç”¨æˆ·ç›¸å…³æ•°æ®<br>|-getters.js æä¾›å­æ¨¡å—ç›¸å…³æ•°æ®çš„gettersè®¡ç®—å±æ€§<br>|-index.js vuexçš„store<br>|-styles<br>|-xxx.scss é¡¹ç›®ç»„ä»¶éœ€è¦ä½¿ç”¨çš„ä¸€äº›æ ·å¼(ä½¿ç”¨scss)<br>|-utils ä¸€äº›å·¥å…·å‡½æ•°<br>|-auth.js æ“ä½œç™»é™†ç”¨æˆ·çš„token cookie<br>|-get-page-title.js å¾—åˆ°è¦æ˜¾ç¤ºçš„ç½‘é¡µtitle<br>|-request.js axiosäºŒæ¬¡å°è£…çš„æ¨¡å—<br>|-validate.js æ£€éªŒç›¸å…³å·¥å…·å‡½æ•°<br>|-index.js æ—¥æœŸå’Œè¯·æ±‚å‚æ•°å¤„ç†ç›¸å…³å·¥å…·å‡½æ•°<br>|-views è·¯ç”±ç»„ä»¶æ–‡ä»¶å¤¹<br>|-dashboard é¦–é¡µ<br>|-login ç™»é™†<br>|-App.vue åº”ç”¨æ ¹ç»„ä»¶<br>|-main.js å…¥å£js<br>|-permission.js ä½¿ç”¨å…¨å±€å®ˆå«å®ç°è·¯ç”±æƒé™æ§åˆ¶çš„æ¨¡å—<br>|-settings.js åŒ…å«åº”ç”¨è®¾ç½®ä¿¡æ¯çš„æ¨¡å—<br>|-.env.development æŒ‡å®šäº†å¼€å‘ç¯å¢ƒçš„ä»£ç†æœåŠ¡å™¨å‰ç¼€è·¯å¾„<br>|-.env.production æŒ‡å®šäº†ç”Ÿäº§ç¯å¢ƒçš„ä»£ç†æœåŠ¡å™¨å‰ç¼€è·¯å¾„<br>|-.eslintignore eslintçš„å¿½ç•¥é…ç½®<br>|-.eslintrc.js eslintçš„æ£€æŸ¥é…ç½®<br>|-.gitignore gitçš„å¿½ç•¥é…ç½®<br>|-.npmrc æŒ‡å®šnpmçš„æ·˜å®é•œåƒå’Œsassçš„ä¸‹è½½åœ°å€<br>|-babel.config.js babelçš„é…ç½®<br>|-jsconfig.json ç”¨äºvscodeå¼•å…¥è·¯å¾„æç¤ºçš„é…ç½®<br>|-package.json å½“å‰é¡¹ç›®åŒ…ä¿¡æ¯<br>|-package-lock.json å½“å‰é¡¹ç›®ä¾èµ–çš„ç¬¬ä¸‰æ–¹åŒ…çš„ç²¾ç¡®ä¿¡æ¯<br>|-vue.config.js webpackç›¸å…³é…ç½®(å¦‚: ä»£ç†æœåŠ¡å™¨)<br></code></pre></td></tr></table></figure><h2 id="æ”¹é€ ç™»å½•å’Œé€€å‡ºåŠŸèƒ½"><a href="#æ”¹é€ ç™»å½•å’Œé€€å‡ºåŠŸèƒ½" class="headerlink" title="æ”¹é€ ç™»å½•å’Œé€€å‡ºåŠŸèƒ½"></a>æ”¹é€ ç™»å½•å’Œé€€å‡ºåŠŸèƒ½</h2><h5 id="vue-config-js"><a href="#vue-config-js" class="headerlink" title="vue.config.js"></a>vue.config.js</h5><ul><li>æ³¨é‡Šæ‰ mock æ¥å£é…ç½®</li><li>é…ç½®ä»£ç†è½¬å‘è¯·æ±‚åˆ°ç›®æ ‡æ¥å£</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// before: require(&#x27;./mock/mock-server.js&#x27;)</span><br><span class="hljs-attr">proxy</span>: &#123;<br>  <span class="hljs-string">&#x27;/dev-api&#x27;</span>: &#123; <span class="hljs-comment">// åŒ¹é…æ‰€æœ‰ä»¥ &#x27;/dev-api&#x27;å¼€å¤´çš„è¯·æ±‚è·¯å¾„</span><br>    <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://localhost:8800&#x27;</span>,<br>      <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ”¯æŒè·¨åŸŸ</span><br>      <span class="hljs-attr">pathRewrite</span>: &#123; <span class="hljs-comment">// é‡å†™è·¯å¾„: å»æ‰è·¯å¾„ä¸­å¼€å¤´çš„&#x27;/dev-api&#x27;</span><br>      <span class="hljs-string">&#x27;^/dev-api&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span><br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//Fk9PXi0T3ZkCHzDIi_wI9NtcWcpg.png"></p><h5 id="src-x2F-utils-x2F-request-js"><a href="#src-x2F-utils-x2F-request-js" class="headerlink" title="src&#x2F;utils&#x2F;request.js"></a>src&#x2F;utils&#x2F;request.js</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">if</span> (res.<span class="hljs-property">code</span> !== <span class="hljs-number">200</span>) &#123;<br>  <span class="hljs-title class_">Message</span>(&#123;<br>    <span class="hljs-attr">message</span>: res.<span class="hljs-property">message</span> || <span class="hljs-string">&quot;Error&quot;</span>,<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;error&quot;</span>,<br>    <span class="hljs-attr">duration</span>: <span class="hljs-number">5</span> * <span class="hljs-number">1000</span>,<br>  &#125;);<br>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(res.<span class="hljs-property">message</span> || <span class="hljs-string">&quot;Error&quot;</span>));<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>  <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FnTgx13SPclHF5ko92fa_7INEiac.png"></p><h5 id="src-x2F-api-x2F-user-js"><a href="#src-x2F-api-x2F-user-js" class="headerlink" title="src&#x2F;api&#x2F;user.js"></a>src&#x2F;api&#x2F;user.js</h5><p>ä¿®æ”¹ url</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/utils/request&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">data</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;/admin/system/index/login&quot;</span>,<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;post&quot;</span>,<br>    data,<br>  &#125;);<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getInfo</span>(<span class="hljs-params">token</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;/admin/system/index/info&quot;</span>,<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;get&quot;</span>,<br>    <span class="hljs-attr">params</span>: &#123; token &#125;,<br>  &#125;);<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">logout</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;/admin/system/index/logout&quot;</span>,<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;post&quot;</span>,<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FsLeNupuF1H57KMvVwMGfol_XQYZ.png"><br>åç«¯ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.system.controller;<br><br><span class="hljs-keyword">import</span> com.atguigu.common.result.Result;<br><span class="hljs-keyword">import</span> io.swagger.annotations.Api;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.GetMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PostMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-keyword">import</span> java.util.HashMap;<br><span class="hljs-keyword">import</span> java.util.Map;<br><br><span class="hljs-meta">@Api(&quot;åå°ç®¡ç†ç™»å½•&quot;)</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/admin/system/index&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IndexController</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * &#123;&quot;code&quot;:20000,</span><br><span class="hljs-comment">     * &quot;data&quot;:&#123;&quot;token&quot;:&quot;admin-token&quot;&#125;&#125;</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@PostMapping(&quot;/login&quot;)</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">login</span><span class="hljs-params">()</span> &#123;<br>        Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        map.put(<span class="hljs-string">&quot;token&quot;</span>, <span class="hljs-string">&quot;admin-token xiamu&quot;</span>);<br>        <span class="hljs-keyword">return</span> Result.ok(map);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * &#123;&quot;code&quot;:20000,</span><br><span class="hljs-comment">     * &quot;data&quot;:&#123;&quot;roles&quot;:[&quot;admin&quot;],</span><br><span class="hljs-comment">     * &quot;introduction&quot;:&quot;I am a super administrator&quot;,</span><br><span class="hljs-comment">     * &quot;avatar&quot;:&quot;https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif&quot;,</span><br><span class="hljs-comment">     * &quot;name&quot;:&quot;Super Admin&quot;&#125;&#125;</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@GetMapping(&quot;/info&quot;)</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">info</span><span class="hljs-params">()</span> &#123;<br>        Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        map.put(<span class="hljs-string">&quot;roles&quot;</span>, <span class="hljs-string">&quot;[admin]&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;introduction&quot;</span>, <span class="hljs-string">&quot;I am a super administrator&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;avatar&quot;</span>, <span class="hljs-string">&quot;https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;Super Admin xiamu&quot;</span>);<br>        <span class="hljs-keyword">return</span> Result.ok(map);<br>    &#125;<br><br>    <span class="hljs-meta">@PostMapping(&quot;/logout&quot;)</span><br>    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">logout</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> Result.ok();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹è·¯ç”±"><a href="#ä¿®æ”¹è·¯ç”±" class="headerlink" title="ä¿®æ”¹è·¯ç”±"></a>ä¿®æ”¹è·¯ç”±</h2><p>ä¿®æ”¹ src&#x2F;router&#x2F;index.js æ–‡ä»¶ï¼Œé‡æ–°å®šä¹‰ constantRoutes</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> constantRoutes = [<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/login&quot;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&quot;@/views/login/index&quot;</span>),<br>    <span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span>,<br>  &#125;,<br><br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/404&quot;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&quot;@/views/404&quot;</span>),<br>    <span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span>,<br>  &#125;,<br><br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/&quot;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-title class_">Layout</span>,<br>    <span class="hljs-attr">redirect</span>: <span class="hljs-string">&quot;/dashboard&quot;</span>,<br>    <span class="hljs-attr">children</span>: [<br>      &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;dashboard&quot;</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Dashboard&quot;</span>,<br>        <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&quot;@/views/dashboard/index&quot;</span>),<br>        <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Dashboard&quot;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;dashboard&quot;</span> &#125;,<br>      &#125;,<br>    ],<br>  &#125;,<br><br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/system&quot;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-title class_">Layout</span>,<br>    <span class="hljs-attr">redirect</span>: <span class="hljs-string">&quot;/system/sysUser&quot;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;System&quot;</span>,<br>    <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;ç³»ç»Ÿç®¡ç†&quot;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;el-icon-s-help&quot;</span> &#125;,<br>    <span class="hljs-attr">children</span>: [<br>      &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;sysRole&quot;</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;SysRole&quot;</span>,<br>        <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&quot;@/views/system/sysRole/list&quot;</span>),<br>        <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;è§’è‰²ç®¡ç†&quot;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;table&quot;</span> &#125;,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;sysUser&quot;</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;SysUser&quot;</span>,<br>        <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&quot;@/views/system/sysUser/list&quot;</span>),<br>        <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;ç”¨æˆ·ç®¡ç†&quot;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;tree&quot;</span> &#125;,<br>      &#125;,<br>    ],<br>  &#125;,<br><br>  <span class="hljs-comment">// 404 page must be placed at the end !!!</span><br>  &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;*&quot;</span>, <span class="hljs-attr">redirect</span>: <span class="hljs-string">&quot;/404&quot;</span>, <span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span> &#125;,<br>];<br></code></pre></td></tr></table></figure><p>views&#x2F;system&#x2F;sysRole&#x2F;list.vue å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;app-container&quot;&gt;è§’è‰²åˆ—è¡¨&lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>views&#x2F;system&#x2F;sysUser&#x2F;list.vue å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;app-container&quot;&gt;ç”¨æˆ·åˆ—è¡¨&lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><h2 id="å®šä¹‰-api"><a href="#å®šä¹‰-api" class="headerlink" title="å®šä¹‰ api"></a>å®šä¹‰ api</h2><p>åœ¨ system-front\src\api\system\sysRole.js å®šä¹‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/utils/request&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">getList</span>(<span class="hljs-params">page, limit, serachObj</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>      <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;/admin/system/sysRole&quot;</span> + <span class="hljs-string">&quot;/&quot;</span> + page + <span class="hljs-string">&quot;/&quot;</span> + limit,<br>      <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;get&quot;</span>,<br>      <span class="hljs-attr">params</span>: serachObj,<br>    &#125;);<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="å®ç°è§’è‰²çš„ç®¡ç†"><a href="#å®ç°è§’è‰²çš„ç®¡ç†" class="headerlink" title="å®ç°è§’è‰²çš„ç®¡ç†"></a>å®ç°è§’è‰²çš„ç®¡ç†</h2><p><strong>JavaScript çš„æ•´æ•°ç±»å‹æ˜¯æ­£è´Ÿ 2 çš„ 53 æ¬¡æ–¹, è·Ÿ Java çš„ Long ç±»å‹çš„èŒƒå›´è¦å°</strong><br>list.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;app-container&quot;&gt;<br>    è§’è‰²åˆ—è¡¨<br>    &lt;!--æŸ¥è¯¢è¡¨å•--&gt;<br>    &lt;div class=&quot;search-div&quot;&gt;<br>      &lt;el-form<br>        label-width=&quot;70px&quot;<br>        size=&quot;small&quot;<br>        @keyup.enter.native=&quot;fetchData()&quot;<br>      &gt;<br>        &lt;el-row&gt;<br>          &lt;el-col :span=&quot;24&quot;&gt;<br>            &lt;el-form-item label=&quot;è§’è‰²åç§°&quot;&gt;<br>              &lt;el-input<br>                style=&quot;width: 100%&quot;<br>                v-model=&quot;searchObj.roleName&quot;<br>                placeholder=&quot;è§’è‰²åç§°&quot;<br>              &gt;&lt;/el-input&gt;<br>            &lt;/el-form-item&gt;<br>          &lt;/el-col&gt;<br>        &lt;/el-row&gt;<br>        &lt;el-row style=&quot;display:flex&quot;&gt;<br>          &lt;el-button<br>            type=&quot;primary&quot;<br>            icon=&quot;el-icon-search&quot;<br>            size=&quot;mini&quot;<br>            @click=&quot;fetchData()&quot;<br>            &gt;æœç´¢&lt;/el-button<br>          &gt;<br>          &lt;el-button icon=&quot;el-icon-refresh&quot; size=&quot;mini&quot; @click=&quot;resetData&quot;<br>            &gt;é‡ç½®&lt;/el-button<br>          &gt;<br>        &lt;/el-row&gt;<br>      &lt;/el-form&gt;<br>    &lt;/div&gt;<br><br>    &lt;!-- æ·»åŠ ç»„ä»¶ --&gt;<br>    &lt;div class=&quot;tools-div&quot;&gt;<br>      &lt;el-button type=&quot;success&quot; icon=&quot;el-icon-plus&quot; size=&quot;mini&quot; @click=&quot;add&quot;<br>        &gt;æ·» åŠ &lt;/el-button<br>      &gt;<br>      &lt;el-button class=&quot;btn-add&quot; size=&quot;mini&quot; @click=&quot;batchRemove&quot;<br>        &gt;æ‰¹é‡åˆ é™¤&lt;/el-button<br>      &gt;<br>    &lt;/div&gt;<br><br>    &lt;!-- è¡¨æ ¼ --&gt;<br>    &lt;el-table<br>      v-loading=&quot;listLoading&quot;<br>      :data=&quot;list&quot;<br>      stripe<br>      border<br>      style=&quot;width: 100%;margin-top: 10px;&quot;<br>      @selection-change=&quot;handleSelectionChange&quot;<br>    &gt;<br>      &lt;!-- æ·»åŠ å¤é€‰æ¡† --&gt;<br>      &lt;el-table-column type=&quot;selection&quot; /&gt;<br><br>      &lt;el-table-column label=&quot;åºå·&quot; width=&quot;70&quot; align=&quot;center&quot;&gt;<br>        &lt;template slot-scope=&quot;scope&quot;&gt;<br>          &#123;&#123; (page - 1) * limit + scope.$index + 1 &#125;&#125;<br>        &lt;/template&gt;<br>      &lt;/el-table-column&gt;<br><br>      &lt;el-table-column prop=&quot;roleName&quot; label=&quot;è§’è‰²åç§°&quot; /&gt;<br>      &lt;el-table-column prop=&quot;roleCode&quot; label=&quot;è§’è‰²ç¼–ç &quot; /&gt;<br>      &lt;el-table-column prop=&quot;createTime&quot; label=&quot;åˆ›å»ºæ—¶é—´&quot; width=&quot;160&quot; /&gt;<br>      &lt;el-table-column label=&quot;æ“ä½œ&quot; width=&quot;200&quot; align=&quot;center&quot;&gt;<br>        &lt;template slot-scope=&quot;scope&quot;&gt;<br>          &lt;el-button<br>            type=&quot;primary&quot;<br>            icon=&quot;el-icon-edit&quot;<br>            size=&quot;mini&quot;<br>            @click=&quot;edit(scope.row.id)&quot;<br>            title=&quot;ä¿®æ”¹&quot;<br>          /&gt;<br>          &lt;el-button<br>            type=&quot;danger&quot;<br>            icon=&quot;el-icon-delete&quot;<br>            size=&quot;mini&quot;<br>            @click=&quot;removeDataById(scope.row.id)&quot;<br>            title=&quot;åˆ é™¤&quot;<br>          /&gt;<br>        &lt;/template&gt;<br>      &lt;/el-table-column&gt;<br>    &lt;/el-table&gt;<br><br>    &lt;!-- åˆ†é¡µç»„ä»¶ --&gt;<br>    &lt;el-pagination<br>      :current-page=&quot;page&quot;<br>      :total=&quot;total&quot;<br>      :page-size=&quot;limit&quot;<br>      style=&quot;padding: 30px 0; text-align: center;&quot;<br>      layout=&quot;total, prev, pager, next, jumper&quot;<br>      @current-change=&quot;fetchData&quot;<br>    /&gt;<br><br>    &lt;!-- å®šä¹‰å¼¹å‡ºæ¡† --&gt;<br>    &lt;el-dialog title=&quot;æ·»åŠ /ä¿®æ”¹&quot; :visible.sync=&quot;dialogVisible&quot; width=&quot;40%&quot;&gt;<br>      &lt;el-form<br>        ref=&quot;dataForm&quot;<br>        :model=&quot;sysRole&quot;<br>        label-width=&quot;150px&quot;<br>        size=&quot;small&quot;<br>        style=&quot;padding-right: 40px;&quot;<br>      &gt;<br>        &lt;el-form-item label=&quot;è§’è‰²åç§°&quot;&gt;<br>          &lt;el-input v-model=&quot;sysRole.roleName&quot; /&gt;<br>        &lt;/el-form-item&gt;<br>        &lt;el-form-item label=&quot;è§’è‰²ç¼–ç &quot;&gt;<br>          &lt;el-input v-model=&quot;sysRole.roleCode&quot; /&gt;<br>        &lt;/el-form-item&gt;<br>      &lt;/el-form&gt;<br>      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;<br>        &lt;el-button<br>          @click=&quot;dialogVisible = false&quot;<br>          size=&quot;small&quot;<br>          icon=&quot;el-icon-refresh-right&quot;<br>          &gt;å– æ¶ˆ&lt;/el-button<br>        &gt;<br>        &lt;el-button<br>          type=&quot;primary&quot;<br>          icon=&quot;el-icon-check&quot;<br>          @click=&quot;saveOrUpdate()&quot;<br>          size=&quot;small&quot;<br>          &gt;ç¡® å®š&lt;/el-button<br>        &gt;<br>      &lt;/span&gt;<br>    &lt;/el-dialog&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>// å¼•å…¥å®šä¹‰æ¥å£çš„jsæ–‡ä»¶<br>import api from &quot;@/api/system/sysRole&quot;;<br>const defaultForm = &#123;<br>  id: &quot;&quot;,<br>  roleName: &quot;&quot;,<br>  roleCode: &quot;&quot;,<br>&#125;;<br>export default &#123;<br>  //å®šä¹‰åˆå§‹å€¼<br>  data() &#123;<br>    return &#123;<br>      listLoading: true, // æ•°æ®æ˜¯å¦æ­£åœ¨åŠ è½½<br>      list: [], // è§’è‰²åˆ—è¡¨<br>      total: 0, // æ€»è®°å½•æ•°<br>      page: 1, //é¡µç <br>      limit: 8, // æ¯é¡µè®°å½•æ•°<br>      searchObj: &#123;&#125;, // æŸ¥è¯¢æ¡ä»¶<br>      dialogVisible: false, // ä¸å¼¹æ¡†<br>      sysRole: defaultForm, // å°è£…æäº¤çš„å¯¹è±¡<br>      saveBtnDisabled: false,<br>      multipleSelection: [], // æ‰¹é‡åˆ é™¤é€‰ä¸­çš„è®°å½•åˆ—è¡¨<br>    &#125;;<br>  &#125;,<br>  // é¡µé¢æ¸²æŸ“ä¹‹å‰æ‰§è¡Œ<br>  created() &#123;<br>    this.fetchData();<br>  &#125;,<br>  // å…·ä½“æ–¹æ³•<br>  methods: &#123;<br>    // å¤é€‰æ¡†å‘ç”Ÿå˜åŒ–æ—¶å¤„ç†<br>    handleSelectionChange(selection) &#123;<br>      //console.log(selection);<br>      this.multipleSelection = selection;<br>    &#125;,<br>    // æ‰¹é‡åˆ é™¤<br>    batchRemove() &#123;<br>      if (this.multipleSelection.length == 0) &#123;<br>        this.$message.warning(&quot;è¯·é€‰æ‹©ä½ è¦åˆ é™¤çš„è®°å½•!&quot;);<br>        return;<br>      &#125;<br>      this.$confirm(&quot;æ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤è¯¥è®°å½•, æ˜¯å¦ç»§ç»­?&quot;, &quot;æç¤º&quot;, &#123;<br>        confirmButtonText: &quot;ç¡®å®š&quot;,<br>        cancelButtonText: &quot;å–æ¶ˆ&quot;,<br>        type: &quot;warning&quot;,<br>      &#125;)<br>        .then(() =&gt; &#123;<br>          // ç‚¹å‡»ç¡®å®šï¼Œè¿œç¨‹è°ƒç”¨ajax<br>          // éå†selectionï¼Œå°†idå–å‡ºæ”¾å…¥idåˆ—è¡¨<br>          var idList = [];<br>          this.multipleSelection.forEach((item) =&gt; &#123;<br>            idList.push(item.id);<br>          &#125;);<br>          // è°ƒç”¨api<br>          api.batchRemove(idList).then((response) =&gt; &#123;<br>            console.log(response);<br>            this.fetchData();<br>            this.$message.success(response.message);<br>          &#125;);<br>        &#125;)<br>        .catch((error) =&gt; &#123;<br>          if (error === &quot;cancel&quot;) &#123;<br>            this.$message.info(&quot;å–æ¶ˆåˆ é™¤&quot;);<br>          &#125;<br>        &#125;);<br>    &#125;,<br><br>    edit(id) &#123;<br>      this.dialogVisible = true;<br>      api.getById(id).then((response) =&gt; &#123;<br>        this.sysRole = response.data;<br>      &#125;);<br>    &#125;,<br><br>    // å¼¹å‡ºæ·»åŠ åŠŸèƒ½çš„è¡¨å•<br>    add() &#123;<br>      this.dialogVisible = true;<br>      this.sysRole = &#123;&#125;;<br>    &#125;,<br><br>    saveOrUpdate() &#123;<br>      if (!this.sysRole.id) &#123;<br>        this.saveRole();<br>      &#125; else &#123;<br>        this.updateRole();<br>      &#125;<br>    &#125;,<br><br>    saveRole() &#123;<br>      api.save(this.sysRole).then((response) =&gt; &#123;<br>        // æç¤ºä¿å­˜æˆåŠŸ<br>        this.$message(&#123;<br>          type: &quot;success&quot;,<br>          message: &quot;ä¿å­˜æˆåŠŸ!&quot;,<br>        &#125;);<br>        this.fetchData();<br>        this.dialogVisible = false;<br>      &#125;);<br>    &#125;,<br><br>    updateRole() &#123;<br>      api.updateById(this.sysRole).then((response) =&gt; &#123;<br>        // æç¤ºä¿å­˜æˆåŠŸ<br>        this.$message(&#123;<br>          type: &quot;success&quot;,<br>          message: &quot;ä¿®æ”¹æˆåŠŸ!&quot;,<br>        &#125;);<br>        this.fetchData(this.page);<br>        this.dialogVisible = false;<br>      &#125;);<br>    &#125;,<br><br>    // æ¡ä»¶åˆ†é¡µæŸ¥è¯¢åˆ—è¡¨æ–¹æ³•<br>    fetchData(pageNum = 1) &#123;<br>      // é¡µæ•°èµ‹å€¼<br>      this.page = pageNum;<br>      // ajax                                     searchObj<br>      api<br>        .getPageList(this.page, this.limit, this.searchObj)<br>        .then((response) =&gt; &#123;<br>          // console.log(response);<br>          this.listLoading = false;<br>          // æ¯é¡µæ•°æ®åˆ—è¡¨<br>          this.list = response.data.records;<br>          // æ€»è®°å½•æ•°<br>          this.total = response.data.total;<br>        &#125;);<br>    &#125;,<br><br>    // é‡ç½®è¡¨å•<br>    resetData() &#123;<br>      console.log(&quot;é‡ç½®æŸ¥è¯¢è¡¨å•&quot;);<br>      // æ¸…ç©ºè¡¨å•<br>      this.searchObj = &#123;&#125;;<br>      // æŸ¥è¯¢æ‰€æœ‰æ•°æ®<br>      this.fetchData();<br>    &#125;,<br><br>    // åˆ é™¤è§’è‰²<br>    removeDataById(id) &#123;<br>      this.$confirm(&quot;æ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤è¯¥è§’è‰², æ˜¯å¦ç»§ç»­?&quot;, &quot;æç¤º&quot;, &#123;<br>        confirmButtonText: &quot;ç¡®å®š&quot;,<br>        cancelButtonText: &quot;å–æ¶ˆ&quot;,<br>        type: &quot;warning&quot;,<br>      &#125;)<br>        .then(() =&gt; &#123;<br>          // è°ƒç”¨æ–¹æ³•åˆ é™¤<br>          api.removeId(id).then((response) =&gt; &#123;<br>            // æç¤ºåˆ é™¤æˆåŠŸ<br>            this.$message(&#123;<br>              type: &quot;success&quot;,<br>              message: &quot;åˆ é™¤æˆåŠŸ!&quot;,<br>            &#125;);<br>            // åˆ·æ–°é¡µé¢<br>            this.fetchData();<br>          &#125;);<br>        &#125;)<br>        .catch(() =&gt; &#123;<br>          this.$message(&#123;<br>            type: &quot;info&quot;,<br>            message: &quot;å·²å–æ¶ˆåˆ é™¤&quot;,<br>          &#125;);<br>        &#125;);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>sysRole.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/utils/request&quot;</span>;<br><br><span class="hljs-keyword">const</span> api_name = <span class="hljs-string">&quot;/admin/system/sysRole&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">getPageList</span>(<span class="hljs-params">page, limit, serachObj</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>      <span class="hljs-comment">//url: &#x27;/admin/system/sysRole&#x27; + &#x27;/&#x27; + page + &#x27;/&#x27; + limit,</span><br>      <span class="hljs-attr">url</span>: <span class="hljs-string">`<span class="hljs-subst">$&#123;api_name&#125;</span>/<span class="hljs-subst">$&#123;page&#125;</span>/<span class="hljs-subst">$&#123;limit&#125;</span>`</span>,<br>      <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;get&quot;</span>,<br>      <span class="hljs-attr">params</span>: serachObj,<br>    &#125;);<br>  &#125;,<br>  <span class="hljs-title function_">removeId</span>(<span class="hljs-params">id</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>      <span class="hljs-attr">url</span>: <span class="hljs-string">`<span class="hljs-subst">$&#123;api_name&#125;</span>/remove/<span class="hljs-subst">$&#123;id&#125;</span>`</span>,<br>      <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;delete&quot;</span>,<br>    &#125;);<br>  &#125;,<br>  <span class="hljs-title function_">save</span>(<span class="hljs-params">role</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>      <span class="hljs-attr">url</span>: <span class="hljs-string">`<span class="hljs-subst">$&#123;api_name&#125;</span>/save`</span>,<br>      <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;post&quot;</span>,<br>      <span class="hljs-attr">data</span>: role,<br>      <span class="hljs-comment">// dataè¡¨è¾¾jsonå‚æ•°</span><br>      <span class="hljs-comment">// paramsæ˜¯æ·»åŠ åˆ°urlçš„è¯·æ±‚å­—ç¬¦ä¸²ä¸­çš„ï¼Œä¸€èˆ¬ç”¨äºgetè¯·æ±‚</span><br>      <span class="hljs-comment">// dataæ˜¯æ·»åŠ åˆ°è¯·æ±‚ä½“ï¼ˆbodyï¼‰ä¸­çš„ï¼Œ ä¸€èˆ¬ç”¨äºpostè¯·æ±‚</span><br>    &#125;);<br>  &#125;,<br>  <span class="hljs-comment">// é€šè¿‡idæŸ¥è¯¢</span><br>  <span class="hljs-title function_">getById</span>(<span class="hljs-params">id</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>      <span class="hljs-attr">url</span>: <span class="hljs-string">`<span class="hljs-subst">$&#123;api_name&#125;</span>/findRoleById/<span class="hljs-subst">$&#123;id&#125;</span>`</span>,<br>      <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;post&quot;</span>,<br>    &#125;);<br>  &#125;,<br>  <span class="hljs-comment">// æ›´æ–°</span><br>  <span class="hljs-title function_">updateById</span>(<span class="hljs-params">role</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>      <span class="hljs-attr">url</span>: <span class="hljs-string">`<span class="hljs-subst">$&#123;api_name&#125;</span>/update`</span>,<br>      <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;post&quot;</span>,<br>      <span class="hljs-attr">data</span>: role,<br>    &#125;);<br>  &#125;,<br>  <span class="hljs-comment">// æ‰¹é‡åˆ é™¤</span><br>  <span class="hljs-title function_">batchRemove</span>(<span class="hljs-params">idList</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>      <span class="hljs-attr">url</span>: <span class="hljs-string">`<span class="hljs-subst">$&#123;api_name&#125;</span>/batchRemove`</span>,<br>      <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;delete&quot;</span>,<br>      <span class="hljs-attr">data</span>: idList,<br>    &#125;);<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="å®ç°ç”¨æˆ·çš„ç®¡ç†"><a href="#å®ç°ç”¨æˆ·çš„ç®¡ç†" class="headerlink" title="å®ç°ç”¨æˆ·çš„ç®¡ç†"></a>å®ç°ç”¨æˆ·çš„ç®¡ç†</h2><h2 id="æ ‘å½¢ç»“æ„å·¥å…·ç±»"><a href="#æ ‘å½¢ç»“æ„å·¥å…·ç±»" class="headerlink" title="æ ‘å½¢ç»“æ„å·¥å…·ç±»"></a>æ ‘å½¢ç»“æ„å·¥å…·ç±»</h2><h2 id="å‰åç«¯æ‰“åŒ…"><a href="#å‰åç«¯æ‰“åŒ…" class="headerlink" title="å‰åç«¯æ‰“åŒ…"></a>å‰åç«¯æ‰“åŒ…</h2><p><strong>åç«¯æ‰“åŒ…</strong>åœ¨ pom.xml åŠ ä¸Šå¦‚ä¸‹ä»£ç </p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">finalName</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;project.artifactId&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">finalName</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>ç‚¹å‡» maven çš„ package è¿›è¡Œæ‰“åŒ…, æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶å­˜åœ¨ target ä¸‹<br><img src="http://cdn.xiamu.icu//FqqTJnCe20txSJ7ckXmKggHwQSm5.png"><br><strong>å‰ç«¯æ‰“åŒ…</strong>éœ€è¦æŠŠä»£ç†ä¿®æ”¹æˆ prod ç”Ÿäº§ç¯å¢ƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">PS E:\Code\guigu-auth\guigu-auth-front\system-front&gt; npm run build:prod<br></code></pre></td></tr></table></figure><p>æ‰“åŒ…å®Œä¹‹å, æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶å­˜åœ¨ dist ä¸‹<br><img src="http://cdn.xiamu.icu//FuFciSbp_-KzF3lpopc2QSKZwRDh.png"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SSM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nginx</title>
    <link href="/Java/Nginx/"/>
    <url>/Java/Nginx/</url>
    
    <content type="html"><![CDATA[<blockquote><p>å”¯æœ‰ä½ ä¹Ÿæƒ³è§æˆ‘, æˆ‘ä»¬ä¿©çš„è§é¢æ‰æœ‰æ„ä¹‰</p></blockquote><h2 id="Nginx-çš„å®‰è£…"><a href="#Nginx-çš„å®‰è£…" class="headerlink" title="Nginx çš„å®‰è£…"></a>Nginx çš„å®‰è£…</h2><p>å…ˆä¸‹è½½ <a href="http://nginx.org/en/download.html">http://nginx.org/en/download.html</a> , æ¨èä¸‹è½½ç¨³å®šç‰ˆ<br><img src="http://cdn.xiamu.icu//Fjo_kxf-_ougtxymUOJQpQ-Zidpa.png"><br>å¯ä»¥å…ˆä¸‹è½½åˆ° windows ç³»ç»Ÿé‡Œ, ç„¶åå†é€šè¿‡ xftp ä¼ è¾“åˆ°è™šæ‹Ÿæœº<br>æˆ–è€…é€šè¿‡ wget çš„æ–¹å¼å®‰è£…(è™šæ‹Ÿæœºéœ€è¦æœ‰ç½‘ç»œ)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># è½¯ä»¶åŒ…æ”¾åœ¨/optç›®å½•ä¸‹</span><br>[root@xiamu ~]<span class="hljs-comment"># cd /opt/</span><br>[root@xiamu opt]<span class="hljs-comment"># wget http://nginx.org/download/nginx-1.22.1.tar.gz</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å®‰è£…å®Œä¹‹åæŸ¥çœ‹</span><br>[root@xiamu opt]<span class="hljs-comment"># ls</span><br>nginx-1.22.1.tar.gz<br><br><span class="hljs-comment"># è§£å‹nginx</span><br>[root@xiamu opt]<span class="hljs-comment"># tar zxvf nginx-1.22.1.tar.gz</span><br><br>[root@xiamu opt]<span class="hljs-comment"># ls</span><br>nginx-1.22.1 nginx-1.22.1.tar.gz<br><br>[root@xiamu opt]<span class="hljs-comment"># cd nginx-1.22.1/</span><br>[root@xiamu nginx-1.22.1]<span class="hljs-comment"># ls</span><br>auto     CHANGES.ru  configure  html     man     src<br>CHANGES  conf        contrib    LICENSE  README<br><br><span class="hljs-comment"># ç¼–è¯‘å®‰è£…</span><br>[root@xiamu nginx-1.22.1]<span class="hljs-comment"># ./configure --prefix=/usr/local/nginx</span><br>[root@xiamu nginx-1.22.1]<span class="hljs-comment"># make</span><br>[root@xiamu nginx-1.22.1]<span class="hljs-comment"># make install</span><br><br></code></pre></td></tr></table></figure><p>å¸¸è§æŠ¥é”™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">checking <span class="hljs-keyword">for</span> OS<br>+ Linux 3.10.0-693.el7.x86_64 x86_64<br>checking <span class="hljs-keyword">for</span> C compiler ... not found<br>./configure: error: C compiler cc is not found<br><span class="hljs-comment"># å®‰è£…gcc</span><br>[root@xiamu nginx-1.22.1]<span class="hljs-comment"># yum install -y gcc</span><br><br>./configure: error: the HTTP rewrite module requires the PCRE library.<br>You can either <span class="hljs-built_in">disable</span> the module by using --without-http_rewrite_module<br>option, or install the PCRE library into the system, or build the PCRE library<br>statically from the <span class="hljs-built_in">source</span> with nginx by using --with-pcre=&lt;path&gt; option.<br><span class="hljs-comment"># å®‰è£…perlåº“</span><br>[root@xiamu nginx-1.22.1]<span class="hljs-comment"># yum install -y pcre pcre-devel</span><br><br><br>./configure: error: the HTTP gzip module requires the zlib library.<br>You can either <span class="hljs-built_in">disable</span> the module by using --without-http_gzip_module<br>option, or install the zlib library into the system, or build the zlib library<br>statically from the <span class="hljs-built_in">source</span> with nginx by using --with-zlib=&lt;path&gt; option.<br><span class="hljs-comment"># å®‰è£…zlibåº“</span><br>[root@xiamu nginx-1.22.1]<span class="hljs-comment"># yum install -y zlib zlib-devel</span><br><br></code></pre></td></tr></table></figure><h2 id="å¼€å¯ç½‘ç»œæœåŠ¡æŠ¥é”™"><a href="#å¼€å¯ç½‘ç»œæœåŠ¡æŠ¥é”™" class="headerlink" title="å¼€å¯ç½‘ç»œæœåŠ¡æŠ¥é”™"></a>å¼€å¯ç½‘ç»œæœåŠ¡æŠ¥é”™</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">å‚è€ƒç½‘ç«™: https://www.cyberithub.com/failed-to-start-lsb-bring-up-down-networking/<br><br>æŠ¥é”™ä¿¡æ¯<br>Solved: network.service Failed to start LSB: Bring up/down networking <span class="hljs-keyword">in</span> RHEL/Centos 7/8<br><br>å°è¯•ç¦ç”¨NetworkManager, æˆ–è€…BOOTPROTOè®¾ç½®æˆnone<br>[root@localhost ~]<span class="hljs-comment"># systemctl stop NetworkManager</span><br>[root@localhost ~]<span class="hljs-comment"># systemctl disable NetworkManager</span><br>[root@localhost ~]<span class="hljs-comment"># systemctl status NetworkManager -l</span><br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹-nginx-çš„ç›®å½•"><a href="#æŸ¥çœ‹-nginx-çš„ç›®å½•" class="headerlink" title="æŸ¥çœ‹ nginx çš„ç›®å½•"></a>æŸ¥çœ‹ nginx çš„ç›®å½•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@xiamu nginx-1.22.1]<span class="hljs-comment"># cd /usr/local/</span><br>[root@xiamu <span class="hljs-built_in">local</span>]<span class="hljs-comment"># ls</span><br>bin  games    lib    libexec  sbin   src<br>etc  include  lib64  nginx    share<br>[root@xiamu <span class="hljs-built_in">local</span>]<span class="hljs-comment"># cd nginx/</span><br>[root@xiamu nginx]<span class="hljs-comment"># ls</span><br>conf  html  logs  sbin<br><br></code></pre></td></tr></table></figure><h2 id="å¼€å¯-nginx-æœåŠ¡"><a href="#å¼€å¯-nginx-æœåŠ¡" class="headerlink" title="å¼€å¯ nginx æœåŠ¡"></a>å¼€å¯ nginx æœåŠ¡</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@xiamu nginx]<span class="hljs-comment"># cd sbin/</span><br>[root@xiamu sbin]<span class="hljs-comment"># ls</span><br>nginx<br>[root@xiamu sbin]<span class="hljs-comment"># ./nginx</span><br>[root@xiamu sbin]<span class="hljs-comment"># ./nginx -s stop</span><br><span class="hljs-comment"># å…ˆå¼€å¯nginx, ç„¶åå…³é—­, é…ç½®è„šæœ¬, ä»¥åå¯ä»¥é€šè¿‡è„šæœ¬çš„æ–¹å¼æ¥å¯åŠ¨nginx, éå¸¸çš„æ–¹ä¾¿</span><br><br><span class="hljs-comment"># nginxçš„å¼€å¯å’Œå…³é—­</span><br>./nginx å¯åŠ¨<br>./nginx -s stop å¿«é€Ÿåœæ­¢<br>./nginx -s quit ä¼˜é›…å…³é—­ï¼Œåœ¨é€€å‡ºå‰å®Œæˆå·²ç»æ¥å—çš„è¿æ¥è¯·æ±‚<br>./nginx -s reload é‡æ–°åŠ è½½é…ç½®<br></code></pre></td></tr></table></figure><p>åœ¨ windows æµè§ˆå™¨è¾“å…¥è™šæ‹Ÿæœºçš„ ip, welcome to nginx, å¦‚æœè®¿é—®ä¸åˆ°, è¯·å…³é—­é˜²ç«å¢™<br><img src="http://cdn.xiamu.icu//Fm-6rwtvCjcf0ckjo1JEeN6pNdjU.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å…³é—­é˜²ç«å¢™</span><br>[root@xiamu sbin]<span class="hljs-comment"># systemctl status firewalld.service</span><br>[root@xiamu sbin]<span class="hljs-comment"># systemctl stop firewalld.service</span><br>[root@xiamu sbin]<span class="hljs-comment"># systemctl status firewalld.service</span><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…æˆç³»ç»ŸæœåŠ¡-é…ç½®è„šæœ¬å¯åŠ¨-nginx"><a href="#å®‰è£…æˆç³»ç»ŸæœåŠ¡-é…ç½®è„šæœ¬å¯åŠ¨-nginx" class="headerlink" title="å®‰è£…æˆç³»ç»ŸæœåŠ¡(é…ç½®è„šæœ¬å¯åŠ¨ nginx)"></a>å®‰è£…æˆç³»ç»ŸæœåŠ¡(é…ç½®è„šæœ¬å¯åŠ¨ nginx)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ³¨æ„åœ¨é…ç½®è„šæœ¬çš„æ—¶å€™, nginxæœåŠ¡éœ€è¦å…ˆå…³é—­</span><br>[root@xiamu sbin]<span class="hljs-comment"># ps -ef | grep nginx</span><br>[root@xiamu sbin]<span class="hljs-comment"># ./nginx -s stop</span><br>[root@xiamu sbin]<span class="hljs-comment"># ps -ef | grep nginx</span><br><br><span class="hljs-comment">#  åˆ›å»ºæœåŠ¡è„šæœ¬</span><br>[root@xiamu sbin]<span class="hljs-comment"># vi /usr/lib/systemd/system/nginx.service</span><br><br>[Unit]<br>Description=nginx - web server<br>After=network.target remote-fs.target nss-lookup.target<br>[Service]<br>Type=forking<br>PIDFile=/usr/local/nginx/logs/nginx.pid<br>ExecStartPre=/usr/local/nginx/sbin/nginx -t -c /usr/local/nginx/conf/nginx.conf<br>ExecStart=/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf<br>ExecReload=/usr/local/nginx/sbin/nginx -s reload<br>ExecStop=/usr/local/nginx/sbin/nginx -s stop<br>ExecQuit=/usr/local/nginx/sbin/nginx -s quit<br>PrivateTmp=<span class="hljs-literal">true</span><br>[Install]<br>WantedBy=multi-user.target<br><br><br><span class="hljs-comment"># é‡å¯ç³»ç»ŸæœåŠ¡</span><br>[root@xiamu sbin]<span class="hljs-comment"># systemctl daemon-reload</span><br><br><span class="hljs-comment"># æ³¨æ„è¦é‡å¯ä¸€é</span><br>[root@xiamu sbin]<span class="hljs-comment"># reboot</span><br><br><span class="hljs-comment"># å¯åŠ¨nginx</span><br>[root@xiamu sbin]<span class="hljs-comment"># systemctl start nginx</span><br>[root@xiamu sbin]<span class="hljs-comment"># systemctl status nginx</span><br><br><span class="hljs-comment"># è®¾ç½®å¼€æœºå¯åŠ¨nginx</span><br>[root@xiamu sbin]<span class="hljs-comment"># systemctl enable nginx</span><br><br></code></pre></td></tr></table></figure><h2 id="äº†è§£-ngix-çš„ç›®å½•"><a href="#äº†è§£-ngix-çš„ç›®å½•" class="headerlink" title="äº†è§£ ngix çš„ç›®å½•"></a>äº†è§£ ngix çš„ç›®å½•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@xiamu nginx]<span class="hljs-comment"># ls</span><br>client_body_temp  conf  fastcgi_temp  html  logs  proxy_temp  sbin  scgi_temp  uwsgi_temp<br><span class="hljs-comment"># htmlæ”¾é¡µé¢</span><br><span class="hljs-comment"># logsæ”¾æ—¥å¿—æ–‡ä»¶, å¦‚æœä»¥åçš„ç£ç›˜è¢«æ—¥å¿—æ–‡ä»¶å †æ»¡äº†, nginxå¯èƒ½ä¼šå‡ºç°é—®é¢˜</span><br><span class="hljs-comment"># confæ”¾é…ç½®æ–‡ä»¶</span><br><span class="hljs-comment"># htmlç”¨æ¥å­˜æ”¾é™æ€æ–‡ä»¶çš„é»˜è®¤ç›®å½• htmlã€cssç­‰</span><br><span class="hljs-comment"># sbin nginxçš„ä¸»ç¨‹åº</span><br><br><br><span class="hljs-comment"># logsæ–‡ä»¶ä¸‹çš„pidæ–‡ä»¶æ˜¯ç”¨æ¥è®°å½•å½“å‰è¿›ç¨‹çš„pidå€¼, è¿™ä¸ªå€¼å¯ä»¥è‡ªå®šä¹‰</span><br>[root@xiamu nginx]<span class="hljs-comment"># cat logs/nginx.pid</span><br>11928<br>[root@xiamu nginx]<span class="hljs-comment"># ps -ef | grep nginx</span><br>root      11928      1  0 13:20 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf<br>nobody    11929  11928  0 13:20 ?        00:00:00 nginx: worker process<br>root      12992   7479  0 13:36 pts/2    00:00:00 grep --color=auto nginx<br><br><br></code></pre></td></tr></table></figure><h2 id="åŸºæœ¬è¿è¡ŒåŸç†"><a href="#åŸºæœ¬è¿è¡ŒåŸç†" class="headerlink" title="åŸºæœ¬è¿è¡ŒåŸç†"></a>åŸºæœ¬è¿è¡ŒåŸç†</h2><p><img src="http://cdn.xiamu.icu//FtArDEPOttEewsHf7WPQFNkkKMm3.png"></p><h2 id="Nginx-é…ç½®ä¸åº”ç”¨åœºæ™¯"><a href="#Nginx-é…ç½®ä¸åº”ç”¨åœºæ™¯" class="headerlink" title="Nginx é…ç½®ä¸åº”ç”¨åœºæ™¯"></a>Nginx é…ç½®ä¸åº”ç”¨åœºæ™¯</h2><p>nginx ç›®å½•ä¸‹ conf&#x2F;nginx.conf</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">worker_processes<br>worker_processes 1; é»˜è®¤ä¸º1ï¼Œè¡¨ç¤ºå¼€å¯ä¸€ä¸ªä¸šåŠ¡è¿›ç¨‹<br>worker_connections<br>worker_connections 1024; å•ä¸ªä¸šåŠ¡è¿›ç¨‹å¯æ¥å—è¿æ¥æ•°<br>include mime.types;<br>include mime.types; å¼•å…¥http mimeç±»å‹<br>default_type application/octet-stream;<br>default_type application/octet-stream; å¦‚æœmimeç±»å‹æ²¡åŒ¹é…ä¸Šï¼Œé»˜è®¤ä½¿ç”¨äºŒè¿›åˆ¶æµçš„æ–¹å¼ä¼ è¾“ã€‚<br>sendfile on;<br>sendfile on; ä½¿ç”¨linuxçš„ sendfile(socket, file, len) é«˜æ•ˆç½‘ç»œä¼ è¾“ï¼Œä¹Ÿå°±æ˜¯æ•°æ®0æ‹·è´ã€‚<br><br>keepalive_timeout 65;<br>keepalive_timeout 65;<br><br>è™šæ‹Ÿä¸»æœºé…ç½®<br>server &#123;<br>listen 80; ç›‘å¬ç«¯å£å·<br>server_name localhost; ä¸»æœºå<br>location / &#123; åŒ¹é…è·¯å¾„<br>root html; æ–‡ä»¶æ ¹ç›®å½•<br>index index.html index.htm; é»˜è®¤é¡µåç§°<br>&#125;<br>error_page 500 502 503 504 /50x.html; æŠ¥é”™ç¼–ç å¯¹åº”é¡µé¢<br>location = /50x.html &#123;<br>root html;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœªå¼€å¯ sendfile<br><img src="http://cdn.xiamu.icu//FnuJ7BHsUuFBKoqqitDlDs4yIhEp.png"><br>å¼€å¯å<br><img src="http://cdn.xiamu.icu//FjoO6HJkcWe8I4P50029_85uOP5r.png"><br>server<br><img src="http://cdn.xiamu.icu//FkmIlS7ZaAPTkKP8IDrQ1V5LINmm.png"></p><h2 id="é…ç½®è‡ªå®šä¹‰çš„åŸŸå"><a href="#é…ç½®è‡ªå®šä¹‰çš„åŸŸå" class="headerlink" title="é…ç½®è‡ªå®šä¹‰çš„åŸŸå"></a>é…ç½®è‡ªå®šä¹‰çš„åŸŸå</h2><p>C:\Windows\System32\drivers\etc ä¸‹ä¿®æ”¹ host æ–‡ä»¶, å¦‚æœä¸èƒ½ä¿å­˜, è¯·å…ˆä¿å­˜åˆ°æ¡Œé¢ç„¶åå†æ‹–æ‹½è¿›æ¥æ›¿æ¢è¯¥æ–‡ä»¶<br>(æ³¨æ„é…ç½®å®Œä¹‹åè¦ä¿å­˜, å¹¶ä¸”è¦å…³æ‰ç”µè„‘ä¸Šçš„ VPN)<br><img src="http://cdn.xiamu.icu//Fufktq6iDR1Bgtnvcn8gHeKDpSmT.png"><br><img src="http://cdn.xiamu.icu//FhN_VSNr6oMWbDSaV2jqO1AExj2N.png"><br><img src="http://cdn.xiamu.icu//Fq9SoKdNOhfpmnMWnmIIrYtpNg3z.png"></p><h2 id="åœ¨é˜¿é‡Œäº‘çš„åŸŸåæ§åˆ¶å°é…ç½®å†…ç½‘-ip"><a href="#åœ¨é˜¿é‡Œäº‘çš„åŸŸåæ§åˆ¶å°é…ç½®å†…ç½‘-ip" class="headerlink" title="åœ¨é˜¿é‡Œäº‘çš„åŸŸåæ§åˆ¶å°é…ç½®å†…ç½‘ ip"></a>åœ¨é˜¿é‡Œäº‘çš„åŸŸåæ§åˆ¶å°é…ç½®å†…ç½‘ ip</h2><p><a href="https://dns.console.aliyun.com/#/dns/setting/xiamu.icu">https://dns.console.aliyun.com/#/dns/setting/xiamu.icu</a><br><img src="http://cdn.xiamu.icu//Fuetga5BcLwbuuf88GeLsmLV9sVz.png"><br>ä¸»æœºè®°å½•å¡«å†™ www<br>è®°å½•å€¼å¡«å†™è™šæ‹Ÿæœºçš„ ip åœ°å€</p><p>ç„¶åæ‰“å¼€ cmd å» ping <a href="http://www.xiamu.icu/">www.xiamu.icu</a>, ping é€šäº†, è¯´æ˜é…ç½®æˆåŠŸäº†, æ³¨æ„ ping çš„æ˜¯<a href="http://www.xxx.com/">www.xxx.com</a> è€Œä¸æ˜¯ xxx.com<br><img src="http://cdn.xiamu.icu//FuY6dfbMnpxGSVB4jwdxnPTqoRkj.png"><br>ping é€šä¹‹åå¯ä»¥æ‰“å¼€æµè§ˆå™¨è®¿é—®<a href="http://www.xiamu.icu/">www.xiamu.icu</a><br><img src="http://cdn.xiamu.icu//Fv4kLtXrq3-o1M1Nq1pJB8bpSfZC.png"></p><p>æ‰¹é‡æ·»åŠ å¾ˆå¤šåŸŸå, åœ¨ä¸»æœºè®°å½•å¡«å†™ä¸€ä¸ª * , æµè§ˆå™¨ä¸­ <a href="http://wwww.xiamu.icu/">http://wwww.xiamu.icu/</a>, å››ä¸ª w ä¹Ÿæ˜¯å¯ä»¥è®¿é—®çš„<br><img src="http://cdn.xiamu.icu//Fp-oselyYdTlBH0IFbfcr3lc7izw.png"></p><p><img src="http://cdn.xiamu.icu//FpwSr6wue4bb0dimUVqdNrQjItga.png"></p><p>åœ¨æ ¹(&#x2F;)è·¯å¾„ä¸‹åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ www&#x2F;www&#x2F;index.html å’Œ www&#x2F;vod&#x2F;index.html, å¹¶ä¸”å¾€é‡Œé¢å†™å…¥å†…å®¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@xiamu www]<span class="hljs-comment"># ls</span><br>index.html<br>[root@xiamu www]<span class="hljs-comment"># cat index.html</span><br>this is www web site!<br>[root@xiamu www]<span class="hljs-comment"># pwd</span><br>/www/www<br><br>[root@xiamu vod]<span class="hljs-comment"># ls</span><br>index.html<br>[root@xiamu vod]<span class="hljs-comment"># cat index.html</span><br>this is void site.<br>[root@xiamu vod]<span class="hljs-comment"># pwd</span><br>/www/vod<br><br><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@xiamu nginx]<span class="hljs-comment"># vim /usr/local/nginx/conf/nginx.conf</span><br><span class="hljs-comment"># åªéœ€è¦ä¿®æ”¹ server_name , location/root å°±è¡Œäº†</span><br><span class="hljs-comment"># æ³¨æ„ä¿®æ”¹çš„server_nameå¯ä»¥åŒå, ä½†æ˜¯ç«¯å£ä¸èƒ½é‡å¤</span><br><span class="hljs-comment"># æˆ–è€…ä¿®æ”¹çš„server_nameä¸åŒå, ä½†æ˜¯ç«¯å£å¯ä»¥é‡å¤</span><br><br>http &#123;<br>    include       mime.types;<br>    default_type  application/octet-stream;<br>    sendfile        on;<br>    keepalive_timeout  65;<br><br>    server &#123;<br>        listen       80;<br>        server_name  www.xiamu.icu;<br>        location / &#123;<br>            root   /www/www;<br>            index  index.html index.htm;<br>        &#125;<br>        error_page   500 502 503 504  /50x.html;<br>        location = /50x.html &#123;<br>            root   html;<br>        &#125;<br>    &#125;<br>server &#123;<br>        listen       80;<br>        server_name  vod.xiamu.icu;<br>        location / &#123;<br>            root   /www/vod;<br>            index  index.html index.htm;<br>        &#125;<br>        error_page   500 502 503 504  /50x.html;<br>        location = /50x.html &#123;<br>            root   html;<br>        &#125;<br>    &#125;<br>&#125;<br><br><br><span class="hljs-comment"># ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶ä¹‹åéœ€è¦é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</span><br>[root@xiamu nginx]<span class="hljs-comment"># systemctl reload nginx</span><br>[root@xiamu nginx]<span class="hljs-comment"># systemctl status nginx</span><br><br><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FrFCu0JMQwYfrc801fDt8meAe2t8.png"><br><img src="http://cdn.xiamu.icu//FulvcAJfMtpQjBe5DTFyJbafrqO2.png"></p><h2 id="é…ç½®å¤šä¸ªåŸŸåå¯¹åº”åŒä¸€ä¸ªèµ„æºæ–‡ä»¶"><a href="#é…ç½®å¤šä¸ªåŸŸåå¯¹åº”åŒä¸€ä¸ªèµ„æºæ–‡ä»¶" class="headerlink" title="é…ç½®å¤šä¸ªåŸŸåå¯¹åº”åŒä¸€ä¸ªèµ„æºæ–‡ä»¶"></a>é…ç½®å¤šä¸ªåŸŸåå¯¹åº”åŒä¸€ä¸ªèµ„æºæ–‡ä»¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash">server &#123;<br>    listen       80;<br>    server_name  www.xiamu.icu; <span class="hljs-comment"># ç¬¬ä¸€ä¸ªåŸŸå, è¿™å¼€å§‹æ‰¾, å¦‚æœä¸‹é¢æ‰€æœ‰çš„åŸŸåéƒ½æ²¡æœ‰åŒ¹é…ä¸Š, å°±ä½¿ç”¨è¿™ä¸ªåŸŸåçš„èµ„æº</span><br>    location / &#123;<br>        root   /www/www;<br>        index  index.html index.htm;<br>    &#125;<br>    error_page   500 502 503 504  /50x.html;<br>    location = /50x.html &#123;<br>        root   html;<br>    &#125;<br>&#125;<br><br>server &#123;<br>    listen       80;<br>    server_name  vod.xiamu.icu vod1.xiamu.icu; <span class="hljs-comment"># å¤šä¸ªåŸŸå, ä¸­é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”å¼€</span><br>    location / &#123;<br>        root   /www/vod;<br>        index  index.html index.htm;<br>    &#125;<br>    error_page   500 502 503 504  /50x.html;<br>    location = /50x.html &#123;<br>        root   html;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥å‘ç° vod.xiamu.icu å’Œ vod1.xiamu.icu è¿™ä¸¤ä¸ªåŸŸåéƒ½å¯ä»¥è®¿é—®åˆ° void çš„èµ„æº,<br>ä½†æ˜¯ void2.xiamu.icu, è®¿é—®çš„æ˜¯ www èµ„æº, æ²¡æœ‰é…ç½®çš„åŸŸåä¼šä»ç¬¬ä¸€ä¸ªå¼€å§‹å¾€ä¸‹æ‰¾, å¦‚æœæ²¡æœ‰æ‰¾åˆ°, å°±ä½¿ç”¨ç¬¬ä¸€ä¸ªåŸŸåå¯¹åº”çš„èµ„æº<br><img src="http://cdn.xiamu.icu//FpQWnDNXWq4KxMH4teOj9V5oGH7B.png"><br><img src="http://cdn.xiamu.icu//FqrMwLoK2D5V9Ej9L57pDi5XtkaR.png"><br><img src="http://cdn.xiamu.icu//FvhxtwfMVojKz2mOP353K_vjSrwV.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">server_name  *.xiamu.icu;<br><span class="hljs-comment"># *è¡¨ç¤ºé€šé…ç¬¦, é™¤äº†wwwçš„å¼€å¤´çš„, éƒ½ä¼šè¢«åŒ¹é…åˆ°vodæ–‡ä»¶ä¸‹çš„èµ„æº</span><br><br>server_name  www.xiamu.*;<br><span class="hljs-comment"># é€šé…ç¬¦çš„ååŒ¹é…, é™¤äº†.icuç»“å°¾çš„, éƒ½ä¼šè¢«åŒ¹é…åˆ°vodæ–‡ä»¶ä¸‹çš„èµ„æº</span><br><br>hostsæ–‡ä»¶ä¿®æ”¹æˆ(æ³¨æ„æœ‰www)<br>192.168.1.100 www.xiamu.com<br>192.168.1.100 www.xiamu.net<br>192.168.1.100 www.xiamu.org<br><br><br></code></pre></td></tr></table></figure><p>åç¼€åŒ¹é…:<br><img src="http://cdn.xiamu.icu//Fs-WLgB9VcZszZmv-MNdKyudtStE.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">server_name  ~^[0-9]+\.xiamu\.icu$;<br><span class="hljs-comment"># è¿™ä¸ªåŸŸåçš„åç¼€å¿…é¡»æ˜¯è´­ä¹°çš„åŸŸåæ‰è¡Œ, è¦ç»è¿‡é˜¿é‡Œäº‘æœåŠ¡å™¨äº‘è§£æä¹‹åçš„åç¼€</span><br></code></pre></td></tr></table></figure><p>æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…:<br><img src="http://cdn.xiamu.icu//FjHFObRU495CKCyf3SzHfoe2mGC4.png"></p><h2 id="åå‘ä»£ç†åˆ°å¤–ç½‘ä¸å†…ç½‘ä¸»æœºçš„é…ç½®"><a href="#åå‘ä»£ç†åˆ°å¤–ç½‘ä¸å†…ç½‘ä¸»æœºçš„é…ç½®" class="headerlink" title="åå‘ä»£ç†åˆ°å¤–ç½‘ä¸å†…ç½‘ä¸»æœºçš„é…ç½®"></a>åå‘ä»£ç†åˆ°å¤–ç½‘ä¸å†…ç½‘ä¸»æœºçš„é…ç½®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># åå‘ä»£ç†åˆ°å¤–ç½‘</span><br>server &#123;<br>        listen       80;<br>        server_name  localhost;<br>        location / &#123;<br>             proxy_pass http://www.atguigu.com;<br>    <span class="hljs-comment"># proxy_pass æ³¨æ„è¿™é‡Œé…ç½®çš„æ˜¯proxy_pass, å°±ä¸éœ€è¦å†é…ç½®root, å’Œindexäº†</span><br>    <span class="hljs-comment">#        root   /www/www;</span><br>    <span class="hljs-comment">#        index  index.html index.htm;</span><br>        &#125;<br>        error_page   500 502 503 504  /50x.html;<br>        location = /50x.html &#123;<br>            root   html;<br>        &#125;<br>    &#125;<br><br><span class="hljs-comment"># è¿™æ ·è®¿é—®192.168.1.101, å°±ä¼šè·³è½¬åˆ°http://www.atguigu.comçš„é¡µé¢</span><br><span class="hljs-comment"># è®¿é—®www.xiamu.icu, ä¹Ÿä¼šè·³è½¬åˆ°http://www.atguigu.comçš„é¡µé¢</span><br><br><br><span class="hljs-comment"># åå‘ä»£ç†åˆ°å†…ç½‘</span><br>nginx1çš„é…ç½®<br>location / &#123;<br>    proxy_pass http://192.168.1.102;<br>&#125;<br><br>nginx2çš„é…ç½®<br>location / &#123;<br>    root   html;<br>    index  index.html index.htm;<br>&#125;<br>ä¼šè¢«192.168.1.102ä»£ç†<br><br></code></pre></td></tr></table></figure><h2 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># nginx1é…ç½®</span><br>upstream httpds &#123;<br>    server 192.168.1.102:80;<br>    server 192.168.1.103:80;<br>&#125;<br><br>server &#123;<br>    listen       80;<br>    server_name  localhost;<br>    location / &#123;<br>         proxy_pass http://httpds;<br><span class="hljs-comment">#        root   /www/www;</span><br><span class="hljs-comment">#        index  index.html index.htm;</span><br>    &#125;<br>    error_page   500 502 503 504  /50x.html;<br>    location = /50x.html &#123;<br>        root   html;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment"># nginx2é…ç½®</span><br>server &#123;<br>    listen       80;<br>    server_name  localhost;<br>    location / &#123;<br>        root   html;<br>        index  index.html index.htm;<br>    &#125;<br>    error_page   500 502 503 504  /50x.html;<br>    location = /50x.html &#123;<br>        root   html;<br>    &#125;<br>&#125;<br><br><br><span class="hljs-comment"># nginx3é…ç½®</span><br>server &#123;<br>    listen       80;<br>    server_name  localhost;<br>    location / &#123;<br>        root   html;<br>        index  index.html index.htm;<br>    &#125;<br>    error_page   500 502 503 504  /50x.html;<br>    location = /50x.html &#123;<br>        root   html;<br>    &#125;<br>&#125;<br><br><br><span class="hljs-comment"># è´Ÿè½½å‡è¡¡å°±å¦‚åŒç”·äººè„šè¸ä¸¤åªèˆ¹, éœ€è¦å¯¹æ¯ä¸€è¾¹éƒ½é›¨éœ²å‡æ²¾</span><br>192.168.1.101 =&gt; 192.168.1.102<br>            =&gt; 192.168.1.103<br></code></pre></td></tr></table></figure><h2 id="åŸºäºåå‘ä»£ç†çš„è´Ÿè½½å‡è¡¡"><a href="#åŸºäºåå‘ä»£ç†çš„è´Ÿè½½å‡è¡¡" class="headerlink" title="åŸºäºåå‘ä»£ç†çš„è´Ÿè½½å‡è¡¡"></a>åŸºäºåå‘ä»£ç†çš„è´Ÿè½½å‡è¡¡</h2><h3 id="è´Ÿè½½å‡è¡¡ä¹‹æƒé‡-down-backup"><a href="#è´Ÿè½½å‡è¡¡ä¹‹æƒé‡-down-backup" class="headerlink" title="è´Ÿè½½å‡è¡¡ä¹‹æƒé‡, down, backup"></a>è´Ÿè½½å‡è¡¡ä¹‹æƒé‡, down, backup</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><span class="hljs-comment"># downï¼šè¡¨ç¤ºå½“å‰çš„serveræš‚æ—¶ä¸å‚ä¸è´Ÿè½½</span><br><span class="hljs-comment"># weightï¼šé»˜è®¤ä¸º1.weightè¶Šå¤§ï¼Œè´Ÿè½½çš„æƒé‡å°±è¶Šå¤§ã€‚</span><br><span class="hljs-comment"># backupï¼š å…¶å®ƒæ‰€æœ‰çš„ébackupæœºå™¨downæˆ–è€…å¿™çš„æ—¶å€™ï¼Œè¯·æ±‚backupæœºå™¨ã€‚</span><br><br><span class="hljs-comment"># nginx1</span><br>upstream httpds &#123;<br>    server 192.168.1.102 weight=8 down;<br>    server 192.168.1.103 weight=2;<br>    server 192.168.1.104 weight=1 backup;<br>&#125;<br>server &#123;<br>    listen       80;<br>    server_name  localhost;<br>    location / &#123;<br>         proxy_pass http://httpds;<br><span class="hljs-comment">#        root   /www/www;</span><br><span class="hljs-comment">#        index  index.html index.htm;</span><br>    &#125;<br>    error_page   500 502 503 504  /50x.html;<br>    location = /50x.html &#123;<br>        root   html;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment"># nginx2, nginx3, nginx4è¿™ä¸‰ä¸ªé…ç½®ä¸€æ ·</span><br>server &#123;<br>    listen       80;<br>    server_name  localhost;<br>    location / &#123;<br>        root   html;<br>        index  index.html index.htm;<br>    &#125;<br>    error_page   500 502 503 504  /50x.html;<br>    location = /50x.html &#123;<br>        root   html;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>è½®è¯¢<br>é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨è½®è¯¢æ–¹å¼ï¼Œé€ä¸€è½¬å‘ï¼Œè¿™ç§æ–¹å¼é€‚ç”¨äºæ— çŠ¶æ€è¯·æ±‚ã€‚<br>weight(æƒé‡)<br> æŒ‡å®šè½®è¯¢å‡ ç‡ï¼Œweight å’Œè®¿é—®æ¯”ç‡æˆæ­£æ¯”ï¼Œç”¨äºåç«¯æœåŠ¡å™¨æ€§èƒ½ä¸å‡çš„æƒ…å†µã€‚<br> ip_hash<br>æ ¹æ®å®¢æˆ·ç«¯çš„ ip åœ°å€è½¬å‘åŒä¸€å°æœåŠ¡å™¨ï¼Œå¯ä»¥ä¿æŒå›è¯ã€‚<br>least_conn<br>æœ€å°‘è¿æ¥è®¿é—®<br>url_hash<br>æ ¹æ®ç”¨æˆ·è®¿é—®çš„ url å®šå‘è½¬å‘è¯·æ±‚<br>fair<br>æ ¹æ®åç«¯æœåŠ¡å™¨å“åº”æ—¶é—´è½¬å‘è¯·æ±‚</p><h2 id="åŠ¨é™åˆ†ç¦»"><a href="#åŠ¨é™åˆ†ç¦»" class="headerlink" title="åŠ¨é™åˆ†ç¦»"></a>åŠ¨é™åˆ†ç¦»</h2><p><img src="http://cdn.xiamu.icu//FjvSpaPZkYNrxOBLKinFkz3TwElM.png"></p><p>ä¸‹è½½ tomcat<br><a href="https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-7-on-centos-7-via-yum">https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-7-on-centos-7-via-yum</a></p><p>ç„¶ååœ¨ 192.168.1.104 ä¸­éƒ¨ç½²ä¸€ä¸ªé¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># nginx1</span><br>    server &#123;<br>        listen       80;<br>        server_name  localhost;<br>        location / &#123;<br>             proxy_pass http://192.168.1.104:8080/admin/; <span class="hljs-comment"># æ³¨æ„æ ¼å¼, æœ€åé¢éœ€è¦ä¸€ä¸ª/</span><br>    <span class="hljs-comment">#        root   /www/www;</span><br>    <span class="hljs-comment">#        index  index.html index.htm;</span><br>        &#125;<br>        error_page   500 502 503 504  /50x.html;<br>        location = /50x.html &#123;<br>            root   html;<br>        &#125;<br>    &#125;<br><br><br>è¿™æ ·å¯ä»¥é€šè¿‡http://192.168.1.101/è®¿é—®åˆ°http://192.168.1.104:8080/admin/<br>æ¥ç€åˆ é™¤192.168.1.104ä¸‹çš„é™æ€èµ„æºjs, css, images, fonts<br>å†æ¬¡è®¿é—®çš„é¡µé¢å°±ä¸ä¼šæœ‰cssç­‰é™æ€èµ„æº<br>æˆ‘ä»¬éœ€è¦æŠŠè¿™äº›é™æ€èµ„æºä¸Šä¼ åˆ°192.168.1.101çš„/usr/local/nginx/htmlç›®å½•ä¸‹<br>[root@xiamu01 html]<span class="hljs-comment"># ls</span><br>50x.html  css  fonts  images  index1.html  index.html  js<br><br><br><span class="hljs-comment"># ä¿®æ”¹nginx1çš„é…ç½®, å†æ¬¡è®¿é—®192.168.1.101, å°±æœ‰é™æ€èµ„æºäº†</span><br>    server &#123;<br>        listen       80;<br>        server_name  localhost;<br>        location / &#123;<br>             proxy_pass http://192.168.1.104:8080/admin/;<br>    <span class="hljs-comment">#        root   /www/www;</span><br>    <span class="hljs-comment">#        index  index.html index.htm;</span><br>        &#125;<br>        location /css &#123;<br>             root html;<br>             index index.html index.htm;<br>        &#125;<br>        location /js &#123;<br>             root html;<br>             index index.html index.htm;<br>        &#125;<br>        location /fonts &#123;<br>             root html;<br>             index index.html index.htm;<br>        &#125;<br>        location /images &#123;<br>             root html;<br>             index index.html index.htm;<br>        &#125;<br>        error_page   500 502 503 504  /50x.html;<br>        location = /50x.html &#123;<br>            root   html;<br>        &#125;<br>    &#125;<br><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼é…ç½®é™æ€èµ„æº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">server &#123;<br>    listen       80;<br>    server_name  localhost;<br>    location / &#123;<br>         proxy_pass http://192.168.1.104:8080/admin/;<br><span class="hljs-comment">#        root   /www/www;</span><br><span class="hljs-comment">#        index  index.html index.htm;</span><br>    &#125;<br>    location ~*/(css|js|fonts|images) &#123;<br>         root html;<br>         index index.html index.htm;<br>    &#125;<br>    error_page   500 502 503 504  /50x.html;<br>    location = /50x.html &#123;<br>        root   html;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>ä¼ªé™æ€é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash">location / &#123;<br>     rewrite ^/2.html$  /hello?pageNum=2 <span class="hljs-built_in">break</span>;<br>     proxy_pass http://192.168.1.104:8888;<br>&#125;<br><br>http://192.168.1.101/hello?pageNum=2 =&gt; http://192.168.1.101/2.html<br><br><br>location / &#123;<br>     rewrite ^/([0-9]+).html$  /hello?pageNum=<span class="hljs-variable">$1</span> <span class="hljs-built_in">break</span>; <span class="hljs-comment"># $1æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°, $2æ˜¯ç¬¬äºŒä¸ªå‚æ•°...</span><br>     proxy_pass http://192.168.1.104:8888;<br>&#125;<br>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä»»æ„æ•°å­—<br>...<br>http://192.168.1.101/hello?pageNum=3 =&gt; http://192.168.1.101/3.html<br>...<br>http://192.168.1.101/hello?pageNum=10 =&gt; http://192.168.1.101/10.html<br>...<br><br><br>location / &#123;<br>     rewrite ^/([0-9]+).html$  /hello?pageNum=<span class="hljs-variable">$1</span> redirect;<br>     proxy_pass http://192.168.1.104:8888;<br>&#125;<br><br>http://192.168.1.101/7.html =&gt; http://192.168.1.101/hello?pageNum=7<br></code></pre></td></tr></table></figure><p>UrlRewrite<br> rewrite è¯­æ³•æ ¼å¼åŠå‚æ•°è¯­æ³•:<br> rewrite æ˜¯å®ç° URL é‡å†™çš„å…³é”®æŒ‡ä»¤ï¼Œæ ¹æ® regex (æ­£åˆ™è¡¨è¾¾å¼)éƒ¨åˆ†å†…å®¹ï¼Œ<br>é‡å®šå‘åˆ° replacementï¼Œç»“å°¾æ˜¯ flag æ ‡è®°ã€‚<br>rewrite <regex> <replacement> [flag];<br>å…³é”®å­— æ­£åˆ™ æ›¿ä»£å†…å®¹ flag æ ‡è®°<br>å…³é”®å­—ï¼šå…¶ä¸­å…³é”®å­— error_log ä¸èƒ½æ”¹å˜<br>æ­£åˆ™ï¼šperl å…¼å®¹æ­£åˆ™è¡¨è¾¾å¼è¯­å¥è¿›è¡Œè§„åˆ™åŒ¹é…<br>æ›¿ä»£å†…å®¹ï¼šå°†æ­£åˆ™åŒ¹é…çš„å†…å®¹æ›¿æ¢æˆ replacement<br>flag æ ‡è®°ï¼šrewrite æ”¯æŒçš„ flag æ ‡è®°<br>rewrite å‚æ•°çš„æ ‡ç­¾æ®µä½ç½®ï¼š<br>server,location,if<br>flag æ ‡è®°è¯´æ˜ï¼š<br>last #æœ¬æ¡è§„åˆ™åŒ¹é…å®Œæˆåï¼Œç»§ç»­å‘ä¸‹åŒ¹é…æ–°çš„ location URI è§„åˆ™<br>break #æœ¬æ¡è§„åˆ™åŒ¹é…å®Œæˆå³ç»ˆæ­¢ï¼Œä¸å†åŒ¹é…åé¢çš„ä»»ä½•è§„åˆ™<br>redirect #è¿”å› 302 ä¸´æ—¶é‡å®šå‘ï¼Œæµè§ˆå™¨åœ°å€ä¼šæ˜¾ç¤ºè·³è½¬åçš„ URL åœ°å€<br>permanent #è¿”å› 301 æ°¸ä¹…é‡å®šå‘ï¼Œæµè§ˆå™¨åœ°å€æ ä¼šæ˜¾ç¤ºè·³è½¬åçš„ URL åœ°å€</p><h2 id="ç½‘å…³æœåŠ¡å™¨"><a href="#ç½‘å…³æœåŠ¡å™¨" class="headerlink" title="ç½‘å…³æœåŠ¡å™¨"></a>ç½‘å…³æœåŠ¡å™¨</h2><p>åº”ç”¨æœåŠ¡å™¨é˜²ç«å¢™é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs bash">å¼€å¯é˜²ç«å¢™<br>systemctl start firewalld<br>é‡å¯é˜²ç«å¢™<br>systemctl restart firewalld<br>é‡è½½è§„åˆ™<br>firewall-cmd --reload<br>æŸ¥çœ‹å·²é…ç½®è§„åˆ™<br>firewall-cmd --list-all<br>æŒ‡å®šç«¯å£å’Œipè®¿é—®<br>firewall-cmd --permanent --add-rich-rule=<span class="hljs-string">&quot;rule family=&quot;</span>ipv4<span class="hljs-string">&quot; source address=&quot;</span>192.168.1.101<span class="hljs-string">&quot;</span><br><span class="hljs-string">port protocol=&quot;</span>tcp<span class="hljs-string">&quot; port=&quot;</span>8080<span class="hljs-string">&quot; accept&quot;</span><br>ç§»é™¤è§„åˆ™<br>firewall-cmd --permanent --remove-rich-rule=<span class="hljs-string">&quot;rule family=&quot;</span>ipv4<span class="hljs-string">&quot; source</span><br><span class="hljs-string">address=&quot;</span>192.168.1.101<span class="hljs-string">&quot; port port=&quot;</span>8080<span class="hljs-string">&quot; protocol=&quot;</span>tcp<span class="hljs-string">&quot; accept&quot;</span><br><br>ç½‘å…³é…ç½®<br>upstream httpds &#123;<br>    server 192.168.1.102 weight=8 down;<br>    <span class="hljs-comment">#server 192.168.1.103 weight=2;</span><br>    server 192.168.1.104:8888 weight=1 backup;<br>&#125;<br><br>server &#123;<br>    listen       80;<br>    server_name  localhost;<br>    location / &#123;<br>         rewrite ^/([0-9]+).html$  /hello?pageNum=<span class="hljs-variable">$1</span> <span class="hljs-built_in">break</span>;<br>         proxy_pass http://httpds;<br><span class="hljs-comment">#        proxy_pass http://192.168.1.104:8888;</span><br><span class="hljs-comment">#        proxy_pass http://192.168.1.104:8080/admin/;</span><br><span class="hljs-comment">#        root   /www/www;</span><br><span class="hljs-comment">#        index  index.html index.htm;</span><br>    &#125;<br><br></code></pre></td></tr></table></figure><h2 id="é˜²ç›—é“¾"><a href="#é˜²ç›—é“¾" class="headerlink" title="é˜²ç›—é“¾"></a>é˜²ç›—é“¾</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#valid_referers none | blocked | server_names | strings ....;</span><br><span class="hljs-comment"># noneï¼Œ æ£€æµ‹ Referer å¤´åŸŸä¸å­˜åœ¨çš„æƒ…å†µã€‚</span><br><span class="hljs-comment"># blockedï¼Œæ£€æµ‹ Referer å¤´åŸŸçš„å€¼è¢«é˜²ç«å¢™æˆ–è€…ä»£ç†æœåŠ¡å™¨åˆ é™¤æˆ–ä¼ªè£…çš„æƒ…å†µã€‚è¿™ç§æƒ…å†µè¯¥å¤´åŸŸçš„å€¼ä¸ä»¥</span><br><span class="hljs-comment"># â€œhttp://â€ æˆ– â€œhttps://â€ å¼€å¤´ã€‚</span><br><span class="hljs-comment"># server_names ï¼Œè®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ª URL ï¼Œæ£€æµ‹ Referer å¤´åŸŸçš„å€¼æ˜¯å¦æ˜¯è¿™äº› URL ä¸­çš„æŸä¸€ä¸ªã€‚</span><br><span class="hljs-comment"># åœ¨éœ€è¦é˜²ç›—é“¾çš„locationä¸­é…ç½®</span><br><br>valid_referers 192.168.44.101;<br><span class="hljs-keyword">if</span> (<span class="hljs-variable">$invalid_referer</span>) &#123;<br><span class="hljs-built_in">return</span> 403;<br>&#125;<br><br><br><br><br>location ~*/(css|js|fonts|images) &#123;<br>             valid_referers 192.168.1.101;<br>             <span class="hljs-keyword">if</span> (<span class="hljs-variable">$invalid_referer</span>) &#123;<br>             <span class="hljs-built_in">return</span> 403;<br>             &#125;<br>             root html;<br>             index index.html index.htm;<br>        &#125;<br>        error_page   500 502 503 504  /50x.html;<br>        location = /50x.html &#123;<br>            root   html;<br>        &#125;<br><br><br><br>location ~*/(css|js|fonts|images) &#123;<br>             valid_referers none 192.168.1.101;<br>             <span class="hljs-keyword">if</span> (<span class="hljs-variable">$invalid_referer</span>) &#123;<br>             <span class="hljs-built_in">return</span> 403;<br>             &#125;<br>             root html;<br>             index index.html index.htm;<br>        &#125;<br>        error_page   500 502 503 504  /50x.html;<br>        location = /50x.html &#123;<br>            root   html;<br>        &#125;<br><br><br><span class="hljs-comment"># valid_referers none 192.168.1.101;</span><br><span class="hljs-comment"># ä¸¤ç§è®¿é—®çš„æ–¹å¼</span><br><span class="hljs-comment"># æ²¡æœ‰refererçš„æ—¶å€™å¯ä»¥è®¿é—®èµ„æº</span><br><span class="hljs-comment"># æœ‰refererå¹¶ä¸”åŸŸåæ˜¯ç­‰äºé…ç½®(è¿™é‡Œæ¼”ç¤ºåªæ˜¯é…ç½®äº†ip192.168.1.101)çš„ç›¸åŒå¯ä»¥è®¿é—®èµ„æº</span><br></code></pre></td></tr></table></figure><h2 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å®‰è£…curl</span><br>[root@xiamu04 admin]<span class="hljs-comment"># yum install curl</span><br><br><span class="hljs-comment"># å½“å‰è®¾ç½®çš„, åªæœ‰referer = none æˆ–è€… referer = 192.168.1.101çš„èƒ½å¤Ÿè®¿é—®</span><br>valid_referers none 192.168.1.101;<br><br><span class="hljs-comment"># ä½¿ç”¨curlæµ‹è¯•</span><br>[root@xiamu04 admin]<span class="hljs-comment"># curl http://192.168.1.101</span><br>&lt;img src=<span class="hljs-string">&quot;images/photos/user-avatar.png&quot;</span>&gt;<br>[root@xiamu04 admin]<span class="hljs-comment"># curl -I http://192.168.1.101</span><br>HTTP/1.1 200 OK<br>Server: nginx/1.22.1<br>Date: Fri, 28 Oct 2022 11:47:22 GMT<br>Content-Type: text/html<br>Content-Length: 42<br>Connection: keep-alive<br>Accept-Ranges: bytes<br>ETag: W/<span class="hljs-string">&quot;42-1666955317000&quot;</span><br>Last-Modified: Fri, 28 Oct 2022 11:08:37 GMT<br><br><span class="hljs-comment"># å¸¦å¼•ç”¨</span><br>[root@xiamu04 admin]<span class="hljs-comment"># curl -I http://192.168.1.101/images/photos/user-avatar.png</span><br>HTTP/1.1 200 OK<br>Server: nginx/1.22.1<br>Date: Fri, 28 Oct 2022 11:49:32 GMT<br>Content-Type: image/png<br>Content-Length: 15649<br>Last-Modified: Thu, 27 Oct 2022 08:55:50 GMT<br>Connection: keep-alive<br>ETag: <span class="hljs-string">&quot;635a4796-3d21&quot;</span><br>Accept-Ranges: bytes<br><br>[root@xiamu04 admin]<span class="hljs-comment"># curl -e &quot;http://atguigu.com&quot; -I http://192.168.1.101/images/photos/user-avatar.png</span><br>HTTP/1.1 403 Forbidden<br>Server: nginx/1.22.1<br>Date: Fri, 28 Oct 2022 11:49:43 GMT<br>Content-Type: text/html<br>Content-Length: 153<br>Connection: keep-alive<br><br><br></code></pre></td></tr></table></figure><h2 id="ç›—é“¾èµ„æºè¿”å›é¡µé¢æˆ–è€…æç¤ºå›¾ç‰‡"><a href="#ç›—é“¾èµ„æºè¿”å›é¡µé¢æˆ–è€…æç¤ºå›¾ç‰‡" class="headerlink" title="ç›—é“¾èµ„æºè¿”å›é¡µé¢æˆ–è€…æç¤ºå›¾ç‰‡"></a>ç›—é“¾èµ„æºè¿”å›é¡µé¢æˆ–è€…æç¤ºå›¾ç‰‡</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ç›—é“¾ä¹‹åè¿”å›html</span><br>location ~*/(css|js|fonts|images) &#123;<br>             <span class="hljs-comment">#valid_referers 192.168.1.101;</span><br>             valid_referers none 192.168.1.101;<br>             <span class="hljs-keyword">if</span> (<span class="hljs-variable">$invalid_referer</span>) &#123;<br>             <span class="hljs-built_in">return</span> 401;<br>             &#125;<br>             root html;<br>             index index.html index.htm;<br>        &#125;<br>        error_page   500 502 503 504  /50x.html;<br>        location = /50x.html &#123;<br>            root   html;<br>        &#125;<br>        error_page   401  /401.html;<br>        location = /401.html &#123;<br>            root   html;<br>        &#125;<br><br><span class="hljs-comment"># ç›—é“¾ä¹‹åè¿”å›pngå›¾ç‰‡</span><br>        location ~*/(css|js|fonts|images) &#123;<br>             <span class="hljs-comment">#valid_referers 192.168.1.101;</span><br>             valid_referers none 192.168.1.101;<br>             <span class="hljs-keyword">if</span> (<span class="hljs-variable">$invalid_referer</span>) &#123;<br>             rewrite ^/   /images/x.png <span class="hljs-built_in">break</span>;<br>             <span class="hljs-comment">#return 401;</span><br>             &#125;<br>             root html;<br>             index index.html index.htm;<br>        &#125;<br><br><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…-Keepalived"><a href="#å®‰è£…-Keepalived" class="headerlink" title="å®‰è£… Keepalived"></a>å®‰è£… Keepalived</h2><p>å¸¸è§æŠ¥é”™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">configure: error:<br>  !!! OpenSSL is not properly installed on your system. !!!<br>  !!! Can not include OpenSSL headers files.            !!!<br>[root@xiamu01 keepalived-2.2.7]<span class="hljs-comment"># yum install openssl-devel</span><br><br><br>--&gt; æ­£åœ¨æ£€æŸ¥äº‹åŠ¡<br>---&gt; è½¯ä»¶åŒ… mariadb-libs.x86_64.1.5.5.68-1.el7 å°†è¢« å®‰è£…<br>--&gt; æ­£åœ¨å¤„ç†ä¾èµ–å…³ç³» libmysqlclient.so.18(libmysqlclient_18)(64bit)ï¼Œå®ƒè¢«è½¯ä»¶åŒ… 1:net-snmp-agent-libs-5.7.2-49.el7_9.2.x86_64 éœ€è¦<br>--&gt; æ­£åœ¨å¤„ç†ä¾èµ–å…³ç³» libmysqlclient.so.18()(64bit)ï¼Œå®ƒè¢«è½¯ä»¶åŒ… 1:net-snmp-agent-libs-5.7.2-49.el7_9.2.x86_64 éœ€è¦<br>--&gt; è§£å†³ä¾èµ–å…³ç³»å®Œæˆ<br>é”™è¯¯ï¼šè½¯ä»¶åŒ…ï¼š1:net-snmp-agent-libs-5.7.2-49.el7_9.2.x86_64 (updates)<br>          éœ€è¦ï¼šlibmysqlclient.so.18()(64bit)<br>é”™è¯¯ï¼šè½¯ä»¶åŒ…ï¼š1:net-snmp-agent-libs-5.7.2-49.el7_9.2.x86_64 (updates)<br>          éœ€è¦ï¼šlibmysqlclient.so.18(libmysqlclient_18)(64bit)<br> æ‚¨å¯ä»¥å°è¯•æ·»åŠ  --skip-broken é€‰é¡¹æ¥è§£å†³è¯¥é—®é¢˜<br> æ‚¨å¯ä»¥å°è¯•æ‰§è¡Œï¼šrpm -Va --nofiles --nodigest<br>[root@xiamu01 opt]<span class="hljs-comment"># wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-community-libs-compat-5.7.25-1.el7.x86_64.rpm</span><br>[root@xiamu01 opt]<span class="hljs-comment"># rpm -ivh mysql-community-libs-compat-5.7.25-1.el7.x86_64.rpm</span><br><br></code></pre></td></tr></table></figure><p>yum å®‰è£… Keepalived</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># nginx1</span><br>[root@xiamu01 ~]<span class="hljs-comment"># yum install keepalived</span><br><br>é…ç½®<br>ä½¿ç”¨yumå®‰è£…åé…ç½®æ–‡ä»¶åœ¨<br>/etc/keepalived/keepalived.conf<br><br>! Configuration File <span class="hljs-keyword">for</span> keepalived<br><br>global_defs &#123;<br>   router_id lb111<br>&#125;<br><br>vrrp_instance atguigu &#123;<br>    state MASTER<br>    interface ens33<br>    virtual_router_id 51<br>    priority 100<br>    advert_int 1<br>    authentication &#123;<br>        auth_type PASS<br>        auth_pass 1111<br>    &#125;<br>    virtual_ipaddress &#123;<br>        192.168.1.200<br>    &#125;<br>&#125;<br><br><br><br><span class="hljs-comment"># nginx1_backup</span><br>[root@xiamu01 ~]<span class="hljs-comment"># yum install keepalived</span><br><br>! Configuration File <span class="hljs-keyword">for</span> keepalived<br><br>global_defs &#123;<br>   router_id lb110<br>&#125;<br><br>vrrp_instance VI_1 &#123;<br>    state BACKUP<br>    interface ens33<br>    virtual_router_id 51<br>    priority 50<br>    advert_int 1<br>    authentication &#123;<br>        auth_type PASS<br>        auth_pass 1111<br>    &#125;<br>    virtual_ipaddress &#123;<br>        192.168.1.200<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="http://cdn.xiamu.icu//FhAq9aBoIeDahKZEYWzCzabUx2GK.png"></p><p>æŸ¥çœ‹ ip</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>[root@xiamu01 ~]<span class="hljs-comment"># ip addr</span><br>2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000<br>    <span class="hljs-built_in">link</span>/ether 00:50:56:3e:9d:2e brd ff:ff:ff:ff:ff:ff<br>    inet 192.168.1.101/24 brd 192.168.1.255 scope global ens33<br>       valid_lft forever preferred_lft forever<br>    inet 192.168.1.200/32 scope global ens33<br>       valid_lft forever preferred_lft forever<br>    inet6 fe80::250:56ff:fe3e:9d2e/64 scope <span class="hljs-built_in">link</span><br>       valid_lft forever preferred_lft forever<br><br></code></pre></td></tr></table></figure><p>å¯åŠ¨æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># nginx1 å’Œ nginx1_backup</span><br>[root@xiamu01 ~]<span class="hljs-comment"># systemctl start keepalived</span><br>[root@xiamu01 ~]<span class="hljs-comment"># systemctl stop firewalld</span><br>[root@xiamu01 ~]<span class="hljs-comment"># systemctl start nginx</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ 192.168.1.200 ä¹Ÿèƒ½å¤Ÿè®¿é—®åˆ°é¡µé¢äº†<br><img src="http://cdn.xiamu.icu//FgFqVpxV6aXIeIirz1f_LTjZ-ysA.png"></p><h2 id="Https-è¯ä¹¦é…ç½®"><a href="#Https-è¯ä¹¦é…ç½®" class="headerlink" title="Https è¯ä¹¦é…ç½®"></a>Https è¯ä¹¦é…ç½®</h2><p>ä¸å®‰å…¨çš„ http åè®®<br><img src="http://cdn.xiamu.icu//FnRCNeqNJnO6JQOLscUph1SYppuN.png"></p><p>éå¯¹ç§°åŠ å¯†ç®—æ³•<br><img src="http://cdn.xiamu.icu//Fp5LR9tNfjq2aL8SrWSWkg9NKtgn.png"><br>å¦ä¸€ç§åŒæ ·ä¸å®‰å…¨çš„éå¯¹ç§°åŠ å¯†ç®—æ³•<br><img src="http://cdn.xiamu.icu//FutXjBdwlND37pUre1fazSoUQpfJ.png"></p><p>CA æœºæ„å‚ä¸ä¿è¯äº’è”ç½‘å®‰å…¨<br><img src="http://cdn.xiamu.icu//FlWOtTsvPX0Ye8LdRRZwP97Mwz_a.png"><br>æŸ¥çœ‹æ“ä½œç³»ç»Ÿçš„è¯ä¹¦<br>cmd &#x3D;&gt; certmgr.msc</p><h2 id="openssl"><a href="#openssl" class="headerlink" title="openssl"></a>openssl</h2><p>openssl åŒ…å«ï¼šSSL åè®®åº“ã€åº”ç”¨ç¨‹åºä»¥åŠå¯†ç ç®—æ³•åº“</p><h2 id="è‡ªç­¾å"><a href="#è‡ªç­¾å" class="headerlink" title="è‡ªç­¾å"></a>è‡ªç­¾å</h2><p>openssl</p><h2 id="å›¾å½¢åŒ–å·¥å…·-XCA"><a href="#å›¾å½¢åŒ–å·¥å…·-XCA" class="headerlink" title="å›¾å½¢åŒ–å·¥å…· XCA"></a>å›¾å½¢åŒ–å·¥å…· XCA</h2><p>ä¸‹è½½åœ°å€ <a href="https://www.hohnstaedt.de/xca/index.php/download">https://www.hohnstaedt.de/xca/index.php/download</a></p><h2 id="CA-ç­¾å"><a href="#CA-ç­¾å" class="headerlink" title="CA ç­¾å"></a>CA ç­¾å</h2><h2 id="åŸŸåçš„ç”³è¯·"><a href="#åŸŸåçš„ç”³è¯·" class="headerlink" title="åŸŸåçš„ç”³è¯·"></a>åŸŸåçš„ç”³è¯·</h2><p>å®‰è£… lnmp<br><a href="https://oneinstack.com/">https://oneinstack.com/</a></p><p>bbs è®ºå›<br><a href="https://discuz.com/">https://discuz.com/</a></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Nginx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¼–è¯‘åŸç†ç¬”è®°</title>
    <link href="/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E7%AC%94%E8%AE%B0/"/>
    <url>/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="æ²¡å•¥ç”¨çš„ç½‘è¯¾"><a href="#æ²¡å•¥ç”¨çš„ç½‘è¯¾" class="headerlink" title="æ²¡å•¥ç”¨çš„ç½‘è¯¾"></a>æ²¡å•¥ç”¨çš„ç½‘è¯¾</h2><p>å†¯Â·è¯ºä¼Šæ›¼ : äºŒè¿›åˆ¶, äº”å¤§åŠŸèƒ½, å­˜å‚¨æ§åˆ¶<br>ç¿»å¢™è½¯ä»¶ : VPN<br>è¿œç¨‹æ¡Œé¢<br>å¼€æºæ“ä½œç³»ç»Ÿ<br>è™šæ‹ŸåŒ–: vmware<br>ç¼–è¾‘å™¨: vim</p><p><img src="http://cdn.xiamu.icu//FvqmaXfZ0WZFslFx9VgDkqS0uz99.png"></p><p><img src="http://cdn.xiamu.icu//Fi8_wZHnXf6GuwSgYhFf7I6j3RGY.png"></p><p><img src="http://cdn.xiamu.icu//FjizkZn9aWGB0mm0LR-VhPHy2BQv.png"></p><p><img src="http://cdn.xiamu.icu//FoImHBvNUsTH8wNA3xQQpv2EpQi-.png"></p><h2 id="è€ƒè¯•å¤ä¹ æ–¹å‘"><a href="#è€ƒè¯•å¤ä¹ æ–¹å‘" class="headerlink" title="è€ƒè¯•å¤ä¹ æ–¹å‘"></a>è€ƒè¯•å¤ä¹ æ–¹å‘</h2><blockquote><p>1.ç¼–è¯‘åŸç†å®éªŒç¯å¢ƒï¼šå‚è§èµ„æ–™ä¸­çš„å®éªŒæŒ‡å¯¼ä¸€ã€‚ 2.æ¨¡å—åŒ–çš„ C è¯­è¨€ç¨‹åºè®¾è®¡ï¼šå‚è§èµ„æ–™ä¸­çš„å®éªŒæŒ‡å¯¼äºŒã€‚ 3.ç¼–è¯‘å™¨ç»„æˆ&#x2F;ç»“æ„ï¼šå‰ç«¯ï¼ˆè¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€è¯­ä¹‰å¤„ç†ï¼‰ã€åç«¯ï¼ˆä¸­é—´ä»£ç ç”Ÿæˆã€ä»£ç ä¼˜åŒ–ã€è¿è¡Œæ—¶å­˜å‚¨å™¨ç»„ç»‡ã€ç›®æ ‡ä»£ç ç”Ÿæˆï¼‰ã€å…¬å…±æ¨¡å—ï¼ˆç¬¦å·è¡¨ã€é”™è¯¯å¤„ç†ï¼‰ï¼Œå¯¹æ¯ä¸ªåŠŸèƒ½æ¨¡å—çš„ç†è§£ã€‚<br>4.PL&#x2F;0 è¯­è¨€ï¼šåŸºæœ¬æ¦‚å¿µï¼Œå…·å¤‡ä½¿ç”¨ PL&#x2F;0 è¯­è¨€ç¼–å†™ç®€å•åº”ç”¨ç¨‹åºçš„èƒ½åŠ›ã€‚ 5.æ–‡æ³•ä¸è¯­è¨€ä¸­çš„æ¦‚å¿µï¼šæ–‡æ³•ã€è¯­è¨€ã€å¥å­ã€å¥å‹ã€æ¨å¯¼ã€è§„çº¦ã€è¯­æ³•æ ‘ã€äºŒä¹‰æ€§æ–‡æ³•ã€å›æº¯ã€æ— ç©·è¯­è¨€ä¸æœ‰ç©·æ–‡æ³•ï¼ˆé€’å½’æ–‡æ³•ï¼‰ã€æ–‡æ³•ç­‰ä»·-&gt;æ–‡æ³•æ”¹é€ -&gt;æ–‡æ³•åˆ†ç±»ã€‚ 6.æ–‡æ³•åˆ†ç±»ï¼Œä¸åŒè¯­æ³•åˆ†æå¯¹æ–‡æ³•çš„è¦æ±‚ï¼šçŸ­è¯­æ–‡æ³•ï¼ˆ0ï¼‰ã€ä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•ï¼ˆ1ï¼‰ã€ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼ˆ2ï¼‰ã€æ­£è§„æ–‡æ³•ï¼ˆ3ï¼‰ï¼›è‡ªé¡¶å‘ä¸‹è¯­æ³•åˆ†æéœ€è¦ LLï¼ˆ1ï¼‰æ–‡æ³•ï¼Œè‡ªåº•å‘ä¸Šè¯­æ³•åˆ†æéœ€è¦ 2 å‹æ–‡æ³•ï¼›å¯¹ä¸åŒç±»å‹æ–‡æ³•çš„è¯†åˆ«ï¼›ç®€å•æ–‡æ³•çš„å¥å­æ¨å¯¼è¯æ˜ã€‚ 7.è¯æ³•åˆ†æï¼šç†è®ºåŸºç¡€ï¼ˆç¬¦å·çš„è¿æ¥ã€æˆ–è€…ã€é—­åŒ…è¿ç®—ã€æ­£åˆ™å¼ï¼‰ï¼Œå¯¹æ­£åˆ™å¼çš„è¯†åˆ«èƒ½åŠ›ï¼Œå¯¹ NFAã€DFA çš„ç†è§£ä¸åº”ç”¨ï¼ˆé¡¶ç‚¹é›†çš„ç©ºå¼§é—­åŒ…ã€é¡¶ç‚¹é›†çš„ a å¼§è½¬æ¢ï¼‰ã€‚ 8.è‡ªé¡¶å‘ä¸‹è¯­æ³•åˆ†æï¼š<br>æ¦‚å¿µä¸åŸºæœ¬æ€è·¯ï¼›First é›†ã€Follow é›†è®¡ç®—ï¼›<br>LL(1)æ–‡æ³•çš„åˆ¤æ–­ï¼›<br>LLï¼ˆ1ï¼‰æ–‡æ³•çš„æ”¹é€ ï¼›<br>ç¼–å†™é€’å½’ä¸‹é™ LL(1)è¯­æ³•åˆ†æç¨‹åºã€‚ 9.è‡ªåº•å‘ä¸Šè¯­æ³•åˆ†æï¼šæ¦‚å¿µä¸åŸºæœ¬æ€è·¯ï¼›<br>æ ¹æ®è¯­æ³•æ ‘åå‘æ„é€ å¥å­åœ¨ç¬¦å·æ ˆä¸­çš„ç§»è¿›-è§„çº¦è¿‡ç¨‹ï¼›<br>åˆ©ç”¨ Action å’Œ Goto è¡¨æ„é€ å¥å­çš„çŠ¶æ€æ ˆå˜åŒ–è¿‡ç¨‹ï¼›<br>æ–‡æ³•-&gt;æ‰©å¹¿æ–‡æ³•-&gt;éç»ˆç»“ç¬¦çš„å·¦æ–‡-&gt;æ¨å¯¼å¼çš„ LR(0)å·¦æ–‡æ–¹ç¨‹-&gt;NFA-&gt;DFA-&gt;ç”Ÿæˆ Action å’Œ Goto è¡¨ã€‚ 10.è¯­ä¹‰å¤„ç†ï¼šåŸºæœ¬æ¦‚å¿µï¼ˆæ•°æ®ç±»å‹ã€å¼ºè¯­è¨€ä¸å¼±è¯­è¨€ã€å‡½æ•°ä¾èµ–ä¸å¾ªç¯ä¾èµ–ã€ä½œç”¨åŸŸï¼‰ï¼›è¯­ä¹‰åˆ†æçš„é”™è¯¯å¯èƒ½ï¼›è¯­æ³•æ ‘ã€æŠ½è±¡è¯­æ³•æ ‘ã€å‰ç¼€ä¸­ç¼€åç¼€ã€æ³¢å…°å¼ã€é€†æ³¢å…°å¼ã€å››å…ƒç»„ã€ä¸‰å…ƒç»„ã€é—´æ¥ä¸‰å…ƒç»„ç­‰ï¼›ç¬¦å·è¡¨ã€‚ 11.è¿è¡Œæ—¶å­˜å‚¨ç»„ç»‡ï¼šæ ˆä¸å †çš„åº”ç”¨ï¼›å‚æ•°ä¼ é€’ã€‚ 12.ä»£ç ä¼˜åŒ–ï¼šçª¥å­”ä¼˜åŒ–ï¼ˆä¿®èº«ï¼‰ã€å±€éƒ¨ä¼˜åŒ–ï¼ˆé½å®¶ï¼‰ã€å¾ªç¯ä¼˜åŒ–ï¼ˆæ²»å›½ï¼‰ã€å…¨å±€ä¼˜åŒ–ï¼ˆå¹³å¤©ä¸‹ï¼‰ï¼›æŒ‡ä»¤è°ƒåº¦ä¸å¾ªç¯å±•å¼€ã€‚ 13.ç›®æ ‡ä»£ç ç”Ÿæˆï¼šç›®æ ‡ä»£ç çš„ä¸€èˆ¬å½¢å¼ï¼›æŒ‡ä»¤é€‰æ‹©ã€å¯„å­˜å™¨é€‰æ‹©ã€æŒ‡ä»¤è°ƒåº¦çš„å…³ç³»ã€‚</p></blockquote><h2 id="LL-1-è¯­æ³•çš„åˆ¤æ–­"><a href="#LL-1-è¯­æ³•çš„åˆ¤æ–­" class="headerlink" title="LL(1)è¯­æ³•çš„åˆ¤æ–­"></a>LL(1)è¯­æ³•çš„åˆ¤æ–­</h2><blockquote><p>LL(1)æ–‡æ³•æ˜¯è‡ªä¸Šè€Œä¸‹çš„åˆ†ææ–¹æ³•ã€‚</p></blockquote><p><img src="http://cdn.xiamu.icu//Fj5wumO00_u6v-_n8UXGthmeZoYi.jpeg"></p><h2 id="LR-0-è¯­æ³•çš„åˆ†æ"><a href="#LR-0-è¯­æ³•çš„åˆ†æ" class="headerlink" title="LR(0)è¯­æ³•çš„åˆ†æ"></a>LR(0)è¯­æ³•çš„åˆ†æ</h2><blockquote><p>ä¸ LLï¼ˆ1ï¼‰ç›¸å¯¹ï¼ŒLR(0)æ–‡æ³•æ˜¯ä¸‹è€Œä¸Šçš„åˆ†ææ–¹æ³•ï¼Œä»å·¦åˆ†æï¼Œä»æ ˆé¡¶å½’çº¦ã€‚</p></blockquote><p><img src="http://cdn.xiamu.icu//FprYa_7xKcuIBygVYYheO_xlGwtm.jpeg"><br><img src="http://cdn.xiamu.icu//Fnb7vJTrxXrPUWM1WSTM3QiWslTX.jpeg"></p><h2 id="ä¸‰ä¸ªç»ƒä¹ é¢˜"><a href="#ä¸‰ä¸ªç»ƒä¹ é¢˜" class="headerlink" title="ä¸‰ä¸ªç»ƒä¹ é¢˜"></a>ä¸‰ä¸ªç»ƒä¹ é¢˜</h2><h3 id="ä¾‹é¢˜-1"><a href="#ä¾‹é¢˜-1" class="headerlink" title="ä¾‹é¢˜ 1"></a>ä¾‹é¢˜ 1</h3><p>åˆ†æ 1+(2+3)<br><img src="http://cdn.xiamu.icu//FlrLqjc6N6KQNyNUyTHKfweB0e6U.png"><br><img src="http://cdn.xiamu.icu//FqLjOeMtZfGxWvtoxEsCRqz-uWQ8.png"><img src="http://cdn.xiamu.icu//FtCNTkrWvyVrRuMZEY15wJr2Q_JY.jpeg"></p><h3 id="ä¾‹é¢˜-2"><a href="#ä¾‹é¢˜-2" class="headerlink" title="ä¾‹é¢˜ 2"></a>ä¾‹é¢˜ 2</h3><p>åˆ†æ(a+b)<br><img src="http://cdn.xiamu.icu//FkKq3l36iY0ag4ABZewa8VeWkUZ7.jpeg"><br><img src="http://cdn.xiamu.icu//FtCNTkrWvyVrRuMZEY15wJr2Q_JY.jpeg"></p><h3 id="ä¾‹é¢˜-3"><a href="#ä¾‹é¢˜-3" class="headerlink" title="ä¾‹é¢˜ 3"></a>ä¾‹é¢˜ 3</h3><p>åˆ†æ a*(b+c)<br><img src="http://cdn.xiamu.icu//Fl-F--vxc-GmjC-o9eJq-R3KG1Pj.jpeg"><br><img src="http://cdn.xiamu.icu//Fmt3pykqrpjPdrxh_lcQ36Rlynak.png"></p><h2 id="ä¸´æ—¶æŠ±ä½›è„š"><a href="#ä¸´æ—¶æŠ±ä½›è„š" class="headerlink" title="ä¸´æ—¶æŠ±ä½›è„š"></a>ä¸´æ—¶æŠ±ä½›è„š</h2><blockquote><p>çœ‹çš„è¿™ä¸ªé€Ÿæˆè§†é¢‘<br>å­¦ä¹ ä»€ä¹ˆçš„ä¸é‡è¦, ä¸»è¦æ˜¯å¦¹å­å£°éŸ³å¥½å¬</p></blockquote><h3 id="1-ç¼–è¯‘åŸç†æ±‚è¯­æ³•æ ‘çš„çŸ­è¯­ç›´æ¥çŸ­è¯­ç­‰ç­‰"><a href="#1-ç¼–è¯‘åŸç†æ±‚è¯­æ³•æ ‘çš„çŸ­è¯­ç›´æ¥çŸ­è¯­ç­‰ç­‰" class="headerlink" title="1 ç¼–è¯‘åŸç†æ±‚è¯­æ³•æ ‘çš„çŸ­è¯­ç›´æ¥çŸ­è¯­ç­‰ç­‰"></a>1 ç¼–è¯‘åŸç†æ±‚è¯­æ³•æ ‘çš„çŸ­è¯­ç›´æ¥çŸ­è¯­ç­‰ç­‰</h3><p>**äºŒä¹‰æ€§: **å¦‚æœä¸¤ç§æ¨å¯¼æ–¹å¼ç”»å‡ºçš„æ ‘ä¸åŒ, åˆ™è¯´æ˜è¯¥æ–‡æ³•æœ‰äºŒä¹‰æ€§<br><img src="http://cdn.xiamu.icu//FiofxN7XLsFWs7w_Jq4nMkIqw94R.png"><br><img src="http://cdn.xiamu.icu//FtKMeIevQnIKJT_r5ryVKoQbkRnU.png"></p><p>ä¸€é“ç»ƒä¹ é¢˜<br><img src="http://cdn.xiamu.icu//FjdV8sti2IGP3Am8u23ZuVuifrzP.png"><br>ç­”æ¡ˆ<br><img src="http://cdn.xiamu.icu//FqpJko2RsrsHbYRQlQSEs1mzzZlJ.png"></p><h3 id="2-ç¼–è¯‘åŸç†æ¶ˆé™¤å·¦é€’å½’æ¶ˆé™¤å›æº¯"><a href="#2-ç¼–è¯‘åŸç†æ¶ˆé™¤å·¦é€’å½’æ¶ˆé™¤å›æº¯" class="headerlink" title="2 ç¼–è¯‘åŸç†æ¶ˆé™¤å·¦é€’å½’æ¶ˆé™¤å›æº¯"></a>2 ç¼–è¯‘åŸç†æ¶ˆé™¤å·¦é€’å½’æ¶ˆé™¤å›æº¯</h3><h3 id="3-ç¼–è¯‘åŸç†å¦‚ä½•æ±‚-first-é›†å’Œ-follow-é›†"><a href="#3-ç¼–è¯‘åŸç†å¦‚ä½•æ±‚-first-é›†å’Œ-follow-é›†" class="headerlink" title="3 ç¼–è¯‘åŸç†å¦‚ä½•æ±‚ first é›†å’Œ follow é›†"></a>3 ç¼–è¯‘åŸç†å¦‚ä½•æ±‚ first é›†å’Œ follow é›†</h3><h3 id="4-ç¼–è¯‘åŸç†æ„é€ -LL-1-æ–‡æ³•å®Œæ•´åˆ†æè¿‡ç¨‹"><a href="#4-ç¼–è¯‘åŸç†æ„é€ -LL-1-æ–‡æ³•å®Œæ•´åˆ†æè¿‡ç¨‹" class="headerlink" title="4 ç¼–è¯‘åŸç†æ„é€  LL(1)æ–‡æ³•å®Œæ•´åˆ†æè¿‡ç¨‹"></a>4 ç¼–è¯‘åŸç†æ„é€  LL(1)æ–‡æ³•å®Œæ•´åˆ†æè¿‡ç¨‹</h3><h3 id="5-ç¼–è¯‘åŸç†æ„é€ ä¼˜å…ˆå…³ç³»è¡¨"><a href="#5-ç¼–è¯‘åŸç†æ„é€ ä¼˜å…ˆå…³ç³»è¡¨" class="headerlink" title="5 ç¼–è¯‘åŸç†æ„é€ ä¼˜å…ˆå…³ç³»è¡¨"></a>5 ç¼–è¯‘åŸç†æ„é€ ä¼˜å…ˆå…³ç³»è¡¨</h3><p>å¦ˆçš„ä¸ä¼š</p><h3 id="6-ç¼–è¯‘åŸç†æ„é€ ä¼˜å…ˆå…³ç³»å›¾"><a href="#6-ç¼–è¯‘åŸç†æ„é€ ä¼˜å…ˆå…³ç³»å›¾" class="headerlink" title="6 ç¼–è¯‘åŸç†æ„é€ ä¼˜å…ˆå…³ç³»å›¾"></a>6 ç¼–è¯‘åŸç†æ„é€ ä¼˜å…ˆå…³ç³»å›¾</h3><p>å¦ˆçš„ä¸ä¼š</p><h3 id="7-ç¼–è¯‘åŸç†æ„é€ -LR-0-åˆ†æè¡¨-åŒ…å«æ„å»ºé¡¹ç›®è§„èŒƒæ—ï¼‰"><a href="#7-ç¼–è¯‘åŸç†æ„é€ -LR-0-åˆ†æè¡¨-åŒ…å«æ„å»ºé¡¹ç›®è§„èŒƒæ—ï¼‰" class="headerlink" title="7 ç¼–è¯‘åŸç†æ„é€  LR(0)åˆ†æè¡¨(åŒ…å«æ„å»ºé¡¹ç›®è§„èŒƒæ—ï¼‰"></a>7 ç¼–è¯‘åŸç†æ„é€  LR(0)åˆ†æè¡¨(åŒ…å«æ„å»ºé¡¹ç›®è§„èŒƒæ—ï¼‰</h3><p><img src="http://cdn.xiamu.icu//FtdstuPN94uaEjoDcFwurWZLUg6L.png"><br><img src="http://cdn.xiamu.icu//FoXzqTrcxrIsUaFxtWJsAahQEp7U.png"></p><h3 id="12-ç¼–è¯‘åŸç†æ ¹æ®äº”å…ƒç»„æ„å»ºçŠ¶æ€è½¬æ¢å›¾å³çŠ¶æ€è½¬æ¢çŸ©é˜µ"><a href="#12-ç¼–è¯‘åŸç†æ ¹æ®äº”å…ƒç»„æ„å»ºçŠ¶æ€è½¬æ¢å›¾å³çŠ¶æ€è½¬æ¢çŸ©é˜µ" class="headerlink" title="12 ç¼–è¯‘åŸç†æ ¹æ®äº”å…ƒç»„æ„å»ºçŠ¶æ€è½¬æ¢å›¾å³çŠ¶æ€è½¬æ¢çŸ©é˜µ"></a>12 ç¼–è¯‘åŸç†æ ¹æ®äº”å…ƒç»„æ„å»ºçŠ¶æ€è½¬æ¢å›¾å³çŠ¶æ€è½¬æ¢çŸ©é˜µ</h3><p><img src="http://cdn.xiamu.icu//FmX4vLyztoiBhgHIakgfh3vCTTMW.png"><br><img src="http://cdn.xiamu.icu//FnvMZhWPXN60xns7zbZ7ZNXrjoel.png"><br><img src="http://cdn.xiamu.icu//Fpx81t7ds_EnXihrSADG05jHumhG.png"></p><h2 id="19-å±Šçš„å¤ä¹ èµ„æ–™"><a href="#19-å±Šçš„å¤ä¹ èµ„æ–™" class="headerlink" title="19 å±Šçš„å¤ä¹ èµ„æ–™"></a>19 å±Šçš„å¤ä¹ èµ„æ–™</h2><p>è‡ªè¡Œä¸‹è½½çœ‹å§<br><a href="https://www.yuque.com/attachments/yuque/0/2023/docx/33666212/1677762164228-cd49a4d2-2ee3-4ac5-96f0-0f01fc87a3fb.docx?_lake_card=%7B%22src%22:%22https://www.yuque.com/attachments/yuque/0/2023/docx/33666212/1677762164228-cd49a4d2-2ee3-4ac5-96f0-0f01fc87a3fb.docx%22,%22name%22:%22%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86.docx%22,%22size%22:172922,%22ext%22:%22docx%22,%22source%22:%22%22,%22status%22:%22done%22,%22download%22:true,%22taskId%22:%22u325a9e67-6aad-489b-82f5-c8b43137727%22,%22taskType%22:%22upload%22,%22type%22:%22application/vnd.openxmlformats-officedocument.wordprocessingml.document%22,%22__spacing%22:%22both%22,%22mode%22:%22title%22,%22id%22:%22ud8d3a5df%22,%22margin%22:%7B%22top%22:true,%22bottom%22:true%7D,%22card%22:%22file%22%7D">ç¼–è¯‘åŸç†.docx</a><a href="https://www.yuque.com/attachments/yuque/0/2023/docx/33666212/1677762164280-8b13bc30-980c-4a9f-a791-42df5503e225.docx?_lake_card=%7B%22src%22:%22https://www.yuque.com/attachments/yuque/0/2023/docx/33666212/1677762164280-8b13bc30-980c-4a9f-a791-42df5503e225.docx%22,%22name%22:%22%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99.docx%22,%22size%22:270076,%22ext%22:%22docx%22,%22source%22:%22%22,%22status%22:%22done%22,%22download%22:true,%22taskId%22:%22ua9bce26d-1e4a-4d0d-9d4e-381718fc182%22,%22taskType%22:%22upload%22,%22type%22:%22application/vnd.openxmlformats-officedocument.wordprocessingml.document%22,%22__spacing%22:%22both%22,%22mode%22:%22title%22,%22id%22:%22ud2e68ade%22,%22margin%22:%7B%22top%22:true,%22bottom%22:true%7D,%22card%22:%22file%22%7D">ç¼–è¯‘åŸç†å¤ä¹ èµ„æ–™.docx</a></p><h2 id="19-å±Šçš„è¡¥è€ƒé¢˜"><a href="#19-å±Šçš„è¡¥è€ƒé¢˜" class="headerlink" title="19 å±Šçš„è¡¥è€ƒé¢˜"></a>19 å±Šçš„è¡¥è€ƒé¢˜</h2><p><img src="http://cdn.xiamu.icu//FmMKPRkNtBiFmkvNpi5rnw7_6vkU.jpeg"></p><ol><li>ä½•è°“ç¼–è¯‘å™¨? ç¼–è¯‘å™¨åº”ç”±é‚£å‡ éƒ¨åˆ†ç»„æˆ? ç®€è¿°å„éƒ¨åˆ†ä½œç”¨<br>ç­”æ¡ˆç¼–è¯‘å™¨å°±æ˜¯å°†â€œä¸€ç§è¯­è¨€ï¼ˆé€šå¸¸ä¸º<a href="https://baike.baidu.com/item/%E9%AB%98%E7%BA%A7%E8%AF%AD%E8%A8%80/299113?fromModule=lemma_inlink">é«˜çº§è¯­è¨€</a>ï¼‰â€ç¿»è¯‘ä¸ºâ€œå¦ä¸€ç§è¯­è¨€ï¼ˆé€šå¸¸ä¸ºä½çº§è¯­è¨€ï¼‰â€çš„ç¨‹åº</li></ol><p>ç¼–è¯‘å™¨å¯åˆ†ä¸ºå‰ç«¯ã€åç«¯ã€‚<br>å‰ç«¯ï¼šè¯æ³•åˆ†æã€è¯­æ³•åˆ†æï¼ˆè‡ªé¡¶å‘ä¸‹ã€è‡ªåº•å‘ä¸Šï¼‰ã€è¯­ä¹‰å¤„ç†ç­‰ï¼›<br>åç«¯ï¼šè¿è¡Œæ—¶å­˜å‚¨ç»„ç»‡ã€ä»£ç ä¼˜åŒ–ã€ç›®æ ‡ä»£ç ç”Ÿæˆç­‰ã€‚</p><ol start="2"><li><p>ç®€è¿° Linux æ“ä½œç³»ç»Ÿä¸‹ C è¯­è¨€ç¨‹åºçš„ç¼–è¯‘è¿‡ç¨‹<br>ç­”æ¡ˆé¢„å¤„ç†<br>ç¼–è¯‘<br>æ±‡ç¼–<br>é“¾æ¥</p></li><li><p>ä½•è°“æ–‡æ³•? ä¸¾ä¾‹è¯´æ˜æ–‡æ³•çš„åˆ†ç±»<br>ç­”æ¡ˆæ–‡æ³•æ˜¯ç”¨æ¥å®šä¹‰è¯­è¨€çš„è§„åˆ™çš„ï¼Œå¦‚ä¸€èˆ¬è‡ªç„¶è¯­è¨€çš„å¥å­çš„ç»“æ„æ˜¯ï¼š<br>åè¯çŸ­è¯­+åŠ¨è¯çŸ­è¯­+å¥å·<br>åŠ¨è¯çŸ­è¯­&#x3D;åŠ¨è¯+åè¯çŸ­è¯­<br>æ–‡æ³•åˆ† 4 ç§<br>0 å‹æ–‡æ³•: æ²¡æœ‰çº¦æŸ, æ˜¯ä¸ªæ–‡æ³•å°±æ˜¯ 0 å‹æ–‡æ³•<br>1 å‹æ–‡æ³•(ä¸Šä¸‹æ–‡æœ‰å…³): å³è¾¹çš„é•¿åº¦å¤§äºå·¦è¾¹<br>2 å‹æ–‡æ³•(ä¸Šä¸‹æ–‡æ— å…³): å·¦è¾¹å¿…é¡»ä¸ºéç»ˆç»“ç¬¦<br>3 å‹æ–‡æ³•(æ­£è§„æ–‡æ³•):<br>è®¾ G &#x3D; (VN,VT,P, S), è‹¥ P ä¸­çš„æ¯ä¸€ä¸ªäº§ç”Ÿå¼çš„å½¢å¼éƒ½æ˜¯ Aâ†’aB æˆ– Aâ†’a, å…¶ä¸­ A å’Œ B éƒ½æ˜¯éç»ˆç»“ç¬¦, aâˆˆVT*</p></li></ol><p><img src="http://cdn.xiamu.icu//Fp-ISAid1bL_buIKRdvi-g_4w5jy.jpeg"><br><img src="http://cdn.xiamu.icu//FtXNgtDOHgULhWiyOsF2YVpUzwv5.png"></p><ol start="5"><li>è®¾æ–‡æ³• G ä¸º: Sâ†’aS|bS|c. è¯·è®¾è®¡å…¶ LR(0)åˆ†æè¡¨, è¯·ç»™å‡ºè¾“å…¥ä¸² ababc çš„åˆ†æè¿‡ç¨‹</li></ol><h2 id="20-å±ŠæœŸä¸­è€ƒè¯•é¢˜"><a href="#20-å±ŠæœŸä¸­è€ƒè¯•é¢˜" class="headerlink" title="20 å±ŠæœŸä¸­è€ƒè¯•é¢˜"></a>20 å±ŠæœŸä¸­è€ƒè¯•é¢˜</h2><p>ä¸€ã€ å•é€‰é¢˜ ï¼ˆå…± 20 é¢˜ï¼Œ100 åˆ†ï¼‰<br><strong>1ã€åœ¨ Linux ä¸‹ï¼Œå°† C è¯­è¨€æºç¨‹åºç¼–è¯‘ä¸ºå¯æ‰§è¡Œç¨‹åºï¼Œå¯ä½¿ç”¨å‘½ä»¤ï¼ˆ ï¼‰</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ gcc<br>Bã€ touch<br>Cã€ ls<br>Dã€ ar<br>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šA<br>è§£æï¼š</p><p><strong>2ã€åœ¨ C è¯­è¨€ç¨‹åºè®¾è®¡ä¸­ï¼Œç”¨æ¥å®šä¹‰åŠŸèƒ½å‡½æ•°åŸå‹ã€å£°æ˜æ•°æ®æ¥å£çš„æ–‡ä»¶æ˜¯ï¼ˆ ï¼‰</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ _.c æ–‡ä»¶<br>Bã€ _.h æ–‡ä»¶<br>Cã€ _.cpp æ–‡ä»¶<br>Dã€ _.exe æ–‡ä»¶<br>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šB<br>è§£æï¼š</p><p><strong>3ã€ä»ç¼–è¯‘çš„é˜¶æ®µæ¥çœ‹ï¼Œè¯æ³•åˆ†æåº”å±äºï¼ˆ ï¼‰</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ ç¼–è¯‘çš„å‰ç«¯<br>Bã€ ç¼–è¯‘çš„ä¸­ç«¯<br>Cã€ ç¼–è¯‘çš„åç«¯<br>Dã€ ç¼–è¯‘çš„æœ«ç«¯</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šA<br>è§£æï¼š</p><p><strong>4ã€æ–‡æ³•æ˜¯å…·æœ‰â€œåŒ…å«â€å…³ç³»çš„ã€‚ä¸‹åˆ—æ–‡æ³•ä¸­ï¼Œå¤„äºæœ€å†…å±‚çš„æ–‡æ³•æ˜¯ï¼ˆ ï¼‰</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ 0 å‹æ–‡æ³•<br>Bã€ ä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•<br>Cã€ ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•<br>Dã€ æ­£è§„æ–‡æ³•</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šD<br>è§£æï¼š</p><p><strong>å·²çŸ¥æŸæ–‡æ³• Gï¼š</strong><br><strong>bexprâ†’bexpr or bterm|bterm</strong><br><strong>btermâ†’bterm and bfactor | bfactor</strong><br><strong>bfactorâ†’not bfactor|(bexpr)|true |false</strong><br><strong>åˆ™ä»¥ä¸‹å“ªä¸ªæ˜¯è¯¥æ–‡æ³•ä¸­çš„èµ·å§‹ç¬¦å·ï¼ˆ ï¼‰</strong></p><p>**ï¼ˆ5.0ï¼‰ **<br>Aã€ bexpr<br>Bã€ bterm<br>Cã€ bfactor<br>Dã€ not</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šA<br>è§£æï¼š</p><p><strong>6ã€åˆ˜ä¼Ÿè·ƒè€å¸ˆçš„ç”µè¯å·ç æ˜¯ï¼ˆ ï¼‰</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ 13507440668<br>Bã€ 13574404624<br>Cã€ 18874445225<br>Dã€ 18974471616</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šB<br>è§£æï¼š</p><p><strong>7ã€å½¢å¦‚ 0<em>10</em>10<em>10</em>çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œæè¿°çš„è¯­è¨€æ˜¯ï¼ˆ ï¼‰</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ ä»¥å­—ç¬¦â€™0â€™ã€â€™1â€™æ„æˆçš„ä»»æ„å­—ç¬¦ä¸²ã€‚<br>Bã€ ä»¥å­—ç¬¦â€™0â€™ã€â€™1â€™æ„æˆï¼Œä»¥å­—ç¬¦â€™0â€™å¼€å§‹å’Œç»“æŸï¼ŒåŒ…å«ä¸‰ä¸ªå­—ç¬¦â€™1â€™çš„ä»»æ„å­—ç¬¦ä¸²ã€‚<br>Cã€ ä»¥å­—ç¬¦â€™0â€™ã€â€™1â€™æ„æˆï¼ŒåŒ…å«è‡³å°‘ä¸‰ä¸ªå­—ç¬¦â€™1â€™çš„ä»»æ„å­—ç¬¦ä¸²ã€‚<br>Dã€ ä»¥å­—ç¬¦â€™0â€™ã€â€™1â€™æ„æˆï¼Œæœ‰ä¸”ä»…æœ‰ä¸‰ä¸ªå­—ç¬¦â€™1â€™çš„ä»»æ„å­—ç¬¦ä¸²ã€‚</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šD<br>è§£æï¼š</p><p><strong>8ã€è‹¥æ–‡æ³• G:S-&gt;0S1ï¼ŒS-&gt;01ã€‚</strong><br><strong>åˆ™ 00S11 æ˜¯ç¬¦åˆæ–‡æ³•çš„ï¼ˆ ï¼‰,000111 åˆ™æ˜¯ç¬¦åˆæ–‡æ³•çš„ï¼ˆ ï¼‰ã€‚</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ å¥å‹ã€å¥å‹<br>Bã€ å¥å‹ã€å¥å­<br>Cã€ å¥å­ã€å¥å‹<br>Dã€ å¥å­ã€å¥å­</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šB<br>è§£æï¼š ä¸€ä¸ªå¥å‹ä¸­æ—¢å¯ä»¥åŒ…å«ç»ˆç»“ç¬¦ï¼Œåˆå¯ä»¥åŒ…å«éç»ˆç»“ç¬¦ï¼Œä¹Ÿå¯èƒ½æ˜¯ç©ºä¸²ã€‚</p><p><strong>9ã€è‹¥æ–‡æ³• Gï¼šS-&gt;cAdï¼ŒA-&gt;abï¼ŒA-&gt;aï¼Œåœ¨è¯æ˜è¾“å…¥ä¸² w&#x3D;cabd æ˜¯å¦ç¬¦åˆæ–‡æ³•æ—¶ï¼Œæœ‰å¦‚ä¸‹è¯æ˜è¿‡ç¨‹ï¼š</strong><br>**æ ¹æ® S-&gt;cAdï¼Œå°† S è£…æ¢ä¸º cAdï¼› **<br><strong>å†æ ¹æ® A-&gt;abï¼Œå°† cAd è£…æ¢ä¸º cabdï¼Œä»è€Œè¯æ˜ w æ˜¯ç¬¦åˆæ–‡æ³•çš„ä¸²ã€‚</strong><br><strong>åˆ™è¯¥è¯æ˜è¿‡ç¨‹ä¸ºï¼ˆ ï¼‰ã€‚</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ è‡ªä¸Šå‘ä¸‹çš„æ¨å¯¼è¯­æ³•åˆ†æ<br>Bã€ è‡ªä¸‹å‘ä¸Šçš„è§„çº¦è¯­æ³•åˆ†æ</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šA<br>è§£æï¼š</p><p><strong>10ã€åœ¨å®ç° LL(1)è¯­æ³•åˆ†ææ—¶ï¼Œè¦æ±‚æ–‡æ³•æ˜¯æ­£è§„æ–‡æ³•ã€‚æ–‡æ³•æ”¹é€ ä¸­çš„â€œæ¶ˆé™¤å·¦é€’å½’â€ï¼Œå³è¦èƒ½å°† P-&gt;Pa|b çš„å«å·¦é€’å½’çš„æ–‡æ³•è¿›è¡Œæ”¹é€ ï¼Œæ”¹é€ æˆå½¢å¦‚ï¼ˆ ï¼‰çš„æ–‡æ³•ã€‚</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ P-&gt;bPâ€™ï¼ŒPâ€™-&gt;aPâ€™|É›<br>Bã€ P-&gt;aPâ€™ï¼ŒPâ€™-&gt;bPâ€™|É›<br>Cã€ P-&gt;bPâ€™ï¼ŒPâ€™-&gt;aPâ€™<br>Dã€ P-&gt;aPâ€™ï¼ŒPâ€™-&gt;bPâ€™</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šA<br>è§£æï¼š</p><p><strong>11ã€åœ¨ Linux ç³»ç»Ÿä¸‹ï¼Œè‹¥è¦å¯¹ C è¯­è¨€ç¨‹åºè¿›è¡Œé™æ€ç¼–è¯‘ï¼ˆå³ç¼–è¯‘æ—¶ä½¿ç”¨-static å‚æ•°ï¼‰ï¼Œéœ€è¦å®‰è£…çš„ç»„ä»¶æ˜¯ï¼ˆ ï¼‰ã€‚</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ glibc-static<br>Bã€ mysql<br>Cã€ qt-devel<br>Dã€ libgl</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šA<br>è§£æï¼š</p><p><strong>12ã€åœ¨å¦‚ä¸‹çš„ C è¯­è¨€æºç¨‹åºä¸­ï¼Œè¯†åˆ«çš„è¯æ³•å•å…ƒæœ‰ï¼ˆ ï¼‰ä¸ªã€‚</strong><br><strong>main()</strong><br><strong>{</strong><br><strong>int x;</strong><br><strong>x &#x3D; 1+2*3;</strong><br><strong>}</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ 6<br>Bã€ 16<br>Cã€ 8<br>Dã€ 18</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šB<br>è§£æï¼š</p><p><strong>13ã€åœ¨ç¼–è¯‘å™¨è®¾è®¡æ¨¡å‹ä¸­ï¼Œç¬¦å·è¡¨æ˜¯è´¯ç©¿è¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€è¯­ä¹‰å¤„ç†ã€ä»£ç ä¼˜åŒ–ã€ç›®æ ‡ä»£ç ç”Ÿæˆç­‰è¿‡ç¨‹çš„å…¬å…±æ¨¡å—ï¼Œç¬¦å·è¡¨ä¸­ç¬¦å·çš„å”¯ä¸€æ ‡è¯†æ˜¯ï¼ˆ ï¼‰ã€‚</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ ç¬¦å·å<br>Bã€ ç¬¦å·ç±»å‹<br>Cã€ ç¬¦å·å­˜å‚¨ç±»åˆ«<br>Dã€ ç¬¦å·ä½œç”¨åŸŸ</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šA<br>è§£æï¼š</p><p><strong>14ã€è‹¥æœ‰æ–‡æ³• Gï¼šS-&gt;aA|bBï¼ŒaA-&gt;abï¼ŒbB-&gt;bAï¼Œåˆ™è¯¥æ–‡æ³•æ˜¯ï¼ˆ ï¼‰ã€‚</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ 0 å‹æ–‡æ³•<br>Bã€ 1 å‹æ–‡æ³•<br>Cã€ 2 å‹æ–‡æ³•<br>Dã€ 3 å‹æ–‡æ³•</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šB<br>è§£æï¼š</p><p><strong>15ã€è‹¥æ–‡æ³• Gï¼šS-&gt;cAdï¼ŒA-&gt;abï¼ŒA-&gt;aï¼Œåœ¨è¯æ˜è¾“å…¥ä¸² w&#x3D;cabd æ˜¯å¦ç¬¦åˆæ–‡æ³•æ—¶ï¼š</strong><br><strong>å…ˆåˆ©ç”¨ A-&gt;abï¼Œå°† cabd è½¬æ¢ä¸º cAdï¼›</strong><br><strong>å†åˆ©ç”¨ S-&gt;cAdï¼Œå°† cAd è½¬æ¢ä¸º Sï¼Œä»è€Œè¯æ˜è¾“å…¥ä¸²ç¬¦åˆæ–‡æ³•ã€‚</strong><br><strong>åˆ™è¯¥è¯æ˜è¿‡ç¨‹ä¸ºï¼ˆ ï¼‰ã€‚</strong></p><p>**ï¼ˆ5.0ï¼‰ **<br>Aã€ è‡ªä¸Šè€Œä¸‹çš„æ¨å¯¼è¯æ˜<br>Bã€ è‡ªä¸‹è€Œä¸Šçš„è§„çº¦è¯æ˜</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šB<br>è§£æï¼š</p><p><strong>16ã€å½¢å¦‚ a(a|b)*b çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¡¨è¾¾çš„æ˜¯ï¼ˆ ï¼‰ã€‚</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ ç”±å­—ç¬¦â€™aâ€™ã€â€™bâ€™å­—ç¬¦æ„æˆçš„ä»»æ„å­—ç¬¦ä¸²<br>Bã€ ç”±å­—ç¬¦â€™aâ€™ã€â€™bâ€™å­—ç¬¦æ„æˆï¼Œä»¥â€™aâ€™å¼€å§‹ï¼Œâ€™bâ€™ç»“æŸçš„æ‰€æœ‰å­—ç¬¦<br>Cã€ ç”±å­—ç¬¦â€™aâ€™ã€â€™bâ€™å­—ç¬¦æ„æˆï¼Œä»¥â€™aâ€™å¼€å§‹çš„æ‰€æœ‰å­—ç¬¦ä¸²<br>Dã€ ç”±å­—ç¬¦â€™aâ€™ã€â€™bâ€™å­—ç¬¦æ„æˆï¼Œä»¥â€™bâ€™ç»“æŸçš„æ‰€æœ‰å­—ç¬¦ä¸²</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šB<br>è§£æï¼š</p><p><strong>17ã€åœ¨å¦‚ä¸‹å›¾çš„ NFA ä¸­ï¼ŒçŠ¶æ€â€™5â€™çš„ É› é—­åŒ…æ˜¯ï¼ˆ ï¼‰</strong><br><img src="http://cdn.xiamu.icu//FrryVPk0M1Rj4lJ9myFDXqJuULk4.png"><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ é›†åˆ{1,5,6,2}<br>Bã€ é›†åˆ{5,6,2}<br>Cã€ é›†åˆ{5,6}<br>Dã€ é›†åˆ{5,6,2,3}</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šB<br>è§£æï¼š</p><p><strong>18ã€åœ¨å¦‚å›¾çš„ NFA ä¸­ï¼ŒçŠ¶æ€é›†{1,2}çš„ a å¼§è½¬æ¢ç»“æœä¸ºï¼ˆ ï¼‰</strong><br><img src="http://cdn.xiamu.icu//FrryVPk0M1Rj4lJ9myFDXqJuULk4.png"><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ {5,3}<br>Bã€ {5,3,4}<br>Cã€ {3,4,5,6,7,8}<br>Dã€ {2,3,4,5,6,7,8}</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šD<br>è§£æï¼š</p><p><strong>19ã€åœ¨è¿›è¡Œ LL(1)è¯­æ³•åˆ†ææ—¶ï¼Œæ–‡æ³•ä¸­å¦‚æœ‰ A-&gt;aBï¼ŒA-&gt;aCd çš„è§„åˆ™æ—¶ï¼Œéœ€è¦è¿›è¡Œæå–å·¦å…¬å› å­çš„æ–‡æ³•æ”¹é€ ï¼Œå³å°†è¯¥æ–‡æ³•æ”¹é€ ä¸ºï¼ˆ ï¼‰ã€‚</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€<br>A-&gt;aAâ€™ï¼Œ<br>Aâ€™-&gt;B|Cd<br>Bã€<br>A-&gt;bAâ€™ï¼Œ<br>Aâ€™-&gt;aAâ€™|É›</p><p>æ­£ç¡®ç­”æ¡ˆæ­£ç¡®ç­”æ¡ˆï¼šA<br>è§£æï¼š</p><p><strong>20ã€åœ¨åˆ¤æ–­ä¸€ä¸ªæ–‡æ³•æ˜¯å¦ä¸º LL(1)æ–‡æ³•æ—¶ï¼Œä»¥ä¸‹æè¿°ä¸æ­£ç¡®çš„æ˜¯ï¼ˆ ï¼‰ã€‚</strong><br>**ï¼ˆ5.0ï¼‰ **<br>Aã€ è‹¥å­˜åœ¨ A-&gt;Î±|Î² çš„æ–‡æ³•ï¼Œå³æ–‡æ³•å®šä¹‰ä¸­ï¼Œå­˜åœ¨æŸéç»ˆç»“ç¬¦å¯ä»¥æ¨å¯¼å‡ºå¤šä¸ªä¸åŒå¥å‹ï¼Œåˆ™éœ€è¦è®¡ç®— First(Î±)å’Œ First(Î²)é›†åˆï¼Œå³ A æ¨å¯¼å‡ºçš„ä¸åŒå¥å‹ï¼Œå„å¥å‹çš„ First é›†åº”è¯¥æ²¡æœ‰äº¤é›†ï¼›è‹¥ A æ¨å¯¼å‡ºçš„å¥å‹å­˜åœ¨ É›ï¼Œåˆ™è¿˜éœ€è¦è®¡ç®— A çš„ Follow é›†åˆï¼ŒA æ¨å¯¼å‡ºçš„å¥å‹çš„ First é›†å’Œ A çš„ Follow é›†æ²¡æœ‰äº¤é›†ã€‚<br>Bã€ First(A)é›†ï¼Œå…¶å®è´¨å°±æ˜¯ï¼Œéç»ˆç»“ç¬¦ A æ‰€æ¨å¯¼å‡ºçš„å¥å‹ä¸­ï¼Œæ‰€æœ‰å¯èƒ½å‡ºç°åœ¨å¥å‹é¦–éƒ¨çš„æ–‡æ³•ç»ˆç»“ç¬¦çš„é›†åˆï¼ˆåŒ…å« É›ï¼‰ã€‚<br>Cã€ Follow(B)é›†ï¼Œå®šä¹‰ä¸ºï¼šå¯¹äºæ–‡æ³•çš„èµ·å§‹ç¬¦å· Sï¼ŒFollow(S)&#x3D;</p>]]></content>
    
    
    <categories>
      
      <category>ç¼–è¯‘åŸç†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç¼–è¯‘åŸç†</tag>
      
      <tag>è®¡ç®—æœºåŸºç¡€è¯¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringBoot</title>
    <link href="/Java/SpringBoot/"/>
    <url>/Java/SpringBoot/</url>
    
    <content type="html"><![CDATA[<h2 id="åˆ›å»º-SpringBoot-é¡¹ç›®"><a href="#åˆ›å»º-SpringBoot-é¡¹ç›®" class="headerlink" title="åˆ›å»º SpringBoot é¡¹ç›®"></a>åˆ›å»º SpringBoot é¡¹ç›®</h2><p>åœ¨æŸäº›æ—¶å€™<a href="https://start.spring.io/">https://start.spring.io</a>è¿™ä¸ªç½‘ç«™è®¿é—®ä¸äº†, åŒæ · idea ä¹Ÿå› ä¸ºå¼€ VPN ä¼šè«åæŠ½é£, è€Œå¯¼è‡´åˆ›å»ºä¸äº† SpringBoot é¡¹ç›®, è¿™å°±ä¼šæ˜¾å¾—éå¸¸è›‹ç–¼<br>ä»¥ä¸‹æ˜¯é’ˆå¯¹äºå¼€äº† VPN æŠ½é£çš„æƒ…å†µ, å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡æ›´æ¢ä»“åº“åœ°å€, æŠŠ start.spring.io æ¢æˆ start.aliyun.io<br>ping ä¹Ÿ ping ä¸é€š<br><img src="http://cdn.xiamu.icu//FlkQ5E4rmobsjKslVmSgNPURG6sF.png"><br>å…ˆæŸ¥çœ‹ä»£ç†çš„åœ°å€å’Œç«¯å£<br><img src="http://cdn.xiamu.icu//FkPsElf0PV4vbZydr7ac1Zr7cBIB.png"><br>ç„¶åæ‰“å¼€ idea çš„ setting-Appearance&amp;Behavior - System Settings - HTTP Proxy - Manual proxy configuration, é…ç½®å¥½å½“å‰ä»£ç†çš„åœ°å€å’Œç«¯å£å·, ç„¶åç‚¹å‡» Check connection æµ‹è¯•<a href="https://start.spring.io/">https://start.spring.io</a>æ˜¯å¦èƒ½è¿é€š, å¤šæŒ‰æµ‹è¯•ä¸¤æ¬¡æŒ‰ç†åº”è¯¥ä¼šæˆåŠŸçš„<br><img src="http://cdn.xiamu.icu//FlgTpMcUb119veIuB8Q3Bnw_-4cS.png"></p><p>åˆ›å»º SpringBoot, é€‰æ‹© Spring Initializr, å¡«å¥½å¯¹åº”çš„ Group å’Œ Artifact, æ³¨æ„ Java å’Œç”µè„‘ä¸­å®‰è£…çš„ JDK çš„ç‰ˆæœ¬ä¿æŒä¸€è‡´<br><img src="http://cdn.xiamu.icu//FnA3DlavnwgX6JOU473NF7zHJiaY.png"><br>ç„¶åè¿™é‡Œå¯ä»¥é€‰æ‹©ä¸€äº›å¸¸è§çš„ä¾èµ–ä¾‹å¦‚ thymeleaf, devtools, lombok, configuration processor,<br>spring web, mysql ç­‰ç­‰, ç„¶åç‚¹å‡» Finish<br><img src="http://cdn.xiamu.icu//Fmw4CFmRHkcKwnleYF17yHKajTaI.png"><br>è¿™æ ·å°±å®Œæ•´çš„åˆ›å»ºå¥½çš„ SpringBoot é¡¹ç›®<br><img src="http://cdn.xiamu.icu//Fg1B4gtRgeUzBYNBJMMuehPreWgc.png"></p><h2 id="Thymeleaf"><a href="#Thymeleaf" class="headerlink" title="Thymeleaf"></a>Thymeleaf</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml">åŠ ä¸Šåœ¨mavençš„é…ç½®æ–‡ä»¶pom.xmlä¸­åŠ å…¥ä¸€ä¸‹ä¾èµ–å¼•å…¥Thymeleaf<br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-comment">&lt;!--   &lt;version&gt;2.7.4&lt;/version&gt; --&gt;</span><br><span class="hljs-comment">&lt;!--   versionå¹¶ä¸ä¸€å®šæ˜¯è¿™ä¸€ä¸ªç‰ˆæœ¬, springbootä¸­å†…ç½®äº†thymeleafçš„ç‰ˆæœ¬å· --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>éœ€è¦åœ¨htmlçš„æ–‡ä»¶ä¸­å¼•å…¥xmlns:th=&quot;http://www.thymeleaf.org&quot;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span> <span class="hljs-attr">xmlns:th</span>=<span class="hljs-string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">th:text</span>=<span class="hljs-string">&quot;$&#123;msg&#125;&quot;</span>&gt;</span>å“ˆå“ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>è·å–è¯·æ±‚åŸŸä¸­å…±äº«æ•°æ®ä½¿ç”¨$ç¬¦å·<br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">th:href</span>=<span class="hljs-string">&quot;$&#123;link&#125;&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;www.haha.com&quot;</span>&gt;</span>å»ç™¾åº¦<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">th:href</span>=<span class="hljs-string">&quot;@&#123;/link&#125;&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;www.haha.com&quot;</span>&gt;</span>å»ç™¾åº¦<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>è¯·æ±‚åŸŸä¸­çš„è¿æ¥åœ°å€, ä¹Ÿæ˜¯ä½¿ç”¨$ç¬¦å·, @ç¬¦å·æ—¶ç»™ç”¨æ¥æ‹¼æ¥åœ°å€ç”¨çš„ th:each=&quot;num :<br>$&#123;#numbers.sequence(from, to)&#125;&quot; th:each=&quot;num : $&#123;#numbers.sequence(1,<br>users.pages)&#125;&quot; ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ•°ç»„éå†ç”¨çš„ @&#123;/dynamic_table(pn=$&#123;num&#125;)&#125;<br>ä½¿ç”¨å°æ‹¬å·ç”¨æ¥æ‹¼æ¥å‚æ•° th:href=&quot;@&#123;&#x27;/employee/page/&#x27; + $&#123;page.prePage&#125;&#125;<br>æˆ–è€…ä½¿ç”¨å­—ç¬¦ä¸²çš„æ‹¼æ¥æ–¹å¼æ¥å†™ è¡Œå†…å†™æ³• [[$&#123;session.loginUser.userName&#125;]]<br>åœ¨application.yamlè®¿é—®è·¯å¾„è®¾ç½®è·¯å¾„å‰ç¼€, è¿™æ ·è®¾ç½®ä¹‹å, è®¿é—®éƒ½éœ€è¦å¸¦ä¸Š/world ä¾‹å¦‚,<br>åŸå…ˆæ˜¯ http://localhost:8080/ ç°åœ¨æ˜¯ http://localhost:8080/world server:<br>servlet: context-path: /world<br></code></pre></td></tr></table></figure><h2 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h2><p>HandlerInterceptor æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.boot.interceptor;<br><br><span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;<br><br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpSession;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç™»å½•æ£€æŸ¥</span><br><span class="hljs-comment"> * 1. é…ç½®å¥½æ‹¦æˆªå™¨è¦æ‹¦æˆªå“ªäº›è¯·æ±‚</span><br><span class="hljs-comment"> * 2. æŠŠè¿™äº›é…ç½®æ”¾åœ¨å®¹å™¨ä¸­</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Slf4j</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> request</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> response</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> handler</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">requestURI</span> <span class="hljs-operator">=</span> request.getRequestURI();<br>        log.info(<span class="hljs-string">&quot;æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„æ˜¯&#123;&#125;&quot;</span>, requestURI);<br><br>        log.info(<span class="hljs-string">&quot;preHandle&#123;&#125;&quot;</span>, requestURI);<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">        ä¹Ÿæ˜¯è·å–è¯·æ±‚çš„è·¯å¾„ç”¨çš„ä¸€ä¸ªæ–¹æ³•, å’Œä¸Šé¢çš„ä¸€æ ·</span><br><span class="hljs-comment">        String servletPath = request.getServletPath();</span><br><span class="hljs-comment">        log.info(&quot;&#123;&#125;&quot;, servletPath);*/</span><br><br>        <span class="hljs-comment">// ç™»å½•æ£€æŸ¥é€»è¾‘</span><br>        <span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> request.getSession();<br>        <span class="hljs-type">Object</span> <span class="hljs-variable">loginUser</span> <span class="hljs-operator">=</span> session.getAttribute(<span class="hljs-string">&quot;loginUser&quot;</span>);<br>        <span class="hljs-keyword">if</span> (loginUser != <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-comment">// æ”¾è¡Œ</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-comment">// æ‹¦æˆªä½, æœªç™»å½•, è·³è½¬åˆ°ç™»å½•é¡µ</span><br><span class="hljs-comment">/*        session.setAttribute(&quot;msg&quot;, &quot;è¯·å…ˆç™»å½•&quot;);</span><br><span class="hljs-comment">        response.sendRedirect(&quot;/&quot;);*/</span><br><br>        request.setAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;è¯·å…ˆç™»å½•&quot;</span>);<br>        request.getRequestDispatcher(<span class="hljs-string">&quot;/&quot;</span>).forward(request, response);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ç›®æ ‡æ–¹æ³•æ‰§è¡Œå®Œæˆä¹‹å</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> request</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> response</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> handler</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> modelAndView</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        log.info(<span class="hljs-string">&quot;postHandle&#123;&#125;&quot;</span>, modelAndView);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * é¡µé¢æ¸²æŸ“ä¹‹å</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> request</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> response</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> handler</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> ex</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        log.info(<span class="hljs-string">&quot;afterCompletion&#123;&#125;&quot;</span>, ex);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>é…ç½®æ‹¦æˆªå™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.boot.config;<br><br><span class="hljs-keyword">import</span> com.atguigu.boot.interceptor.LoginInterceptor;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 1. ç¼–å†™ä¸€ä¸ªæ‹¦æˆªå™¨å®ç°HandlerInterceptoræ¥å£</span><br><span class="hljs-comment"> * 2. æ‹¦æˆªå™¨æ³¨å†Œåˆ°å®¹å™¨ä¸­(å®ç°WebMvcConfigurerçš„addInterceptors)</span><br><span class="hljs-comment"> * 3. æŒ‡å®šæ‹¦æˆªè§„åˆ™(å¦‚æœæ˜¯æ‹¦æˆªæ‰€æœ‰, é™æ€èµ„æºä¹Ÿä¼šè¢«æ‹¦æˆª)</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AdminWebConfig</span>  <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInterceptors</span><span class="hljs-params">(InterceptorRegistry registry)</span> &#123;<br>        registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginInterceptor</span>())<br>                .addPathPatterns(<span class="hljs-string">&quot;/**&quot;</span>) <span class="hljs-comment">// æ‰€æœ‰è¯·æ±‚éƒ½è¢«æ‹¦æˆªåŒ…æ‹¬é™æ€èµ„æº</span><br>                .excludePathPatterns(<span class="hljs-string">&quot;/login&quot;</span>, <span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-string">&quot;/css/**&quot;</span>, <span class="hljs-string">&quot;/js/**&quot;</span>, <span class="hljs-string">&quot;/images/**&quot;</span>, <span class="hljs-string">&quot;/fonts/**&quot;</span>); <span class="hljs-comment">// æ–¹å½¢çš„è¯·æ±‚</span><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>3ã€æ‹¦æˆªå™¨åŸç†<br>1ã€æ ¹æ®å½“å‰è¯·æ±‚ï¼Œæ‰¾åˆ°<strong>HandlerExecutionChainã€</strong>å¯ä»¥å¤„ç†è¯·æ±‚çš„ handler ä»¥åŠ handler çš„æ‰€æœ‰ æ‹¦æˆªå™¨ã€‘<br>2ã€å…ˆæ¥**é¡ºåºæ‰§è¡Œ **æ‰€æœ‰æ‹¦æˆªå™¨çš„ preHandle æ–¹æ³•</p><ul><li>1ã€å¦‚æœå½“å‰æ‹¦æˆªå™¨ prehandler è¿”å›ä¸º trueã€‚åˆ™æ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨çš„ preHandle</li><li>2ã€å¦‚æœå½“å‰æ‹¦æˆªå™¨è¿”å›ä¸º falseã€‚ç›´æ¥ å€’åºæ‰§è¡Œæ‰€æœ‰å·²ç»æ‰§è¡Œäº†çš„æ‹¦æˆªå™¨çš„ afterCompletionï¼›</li></ul><p><strong>3ã€å¦‚æœä»»ä½•ä¸€ä¸ªæ‹¦æˆªå™¨è¿”å› falseã€‚ç›´æ¥è·³å‡ºä¸æ‰§è¡Œç›®æ ‡æ–¹æ³•</strong><br><strong>4ã€æ‰€æœ‰æ‹¦æˆªå™¨éƒ½è¿”å› Trueã€‚æ‰§è¡Œç›®æ ‡æ–¹æ³•</strong><br><strong>5ã€å€’åºæ‰§è¡Œæ‰€æœ‰æ‹¦æˆªå™¨çš„ postHandle æ–¹æ³•ã€‚</strong><br>**6ã€å‰é¢çš„æ­¥éª¤æœ‰ä»»ä½•å¼‚å¸¸éƒ½ä¼šç›´æ¥å€’åºè§¦å‘ **afterCompletion<br>7ã€é¡µé¢æˆåŠŸæ¸²æŸ“å®Œæˆä»¥åï¼Œä¹Ÿä¼šå€’åºè§¦å‘ afterCompletion</p><h2 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html">methodè¦æ˜¯postè¯·æ±‚æ‰èƒ½ä¸Šä¼ æ–‡ä»¶ enctype=&quot;multipart/form-data&quot;<br>å®ç°æ–‡ä»¶ä¸Šä¼ çš„æ—¶å€™formè¡¨å•éœ€è¦æŒ‡å®šenctypeè¿™ä¸ªå±æ€§<br>å¤šæ–‡ä»¶ä¸Šä¼ éœ€è¦åœ¨inputæ ‡ç­¾ä¸­åŠ ä¸Šmultipleå±æ€§, è¡¨ç¤ºå¤šä¸ªæ–‡ä»¶ä¸Šä¼ <br>å•æ–‡ä»¶ä¸Šä¼ ä¸éœ€è¦æŒ‡å®šmultiple<br><span class="hljs-tag">&lt;<span class="hljs-name">form</span></span><br><span class="hljs-tag">  <span class="hljs-attr">role</span>=<span class="hljs-string">&quot;form&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">th:action</span>=<span class="hljs-string">&quot;@&#123;/upload&#125;&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span></span><br><span class="hljs-tag">&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;exampleInputFile&quot;</span>&gt;</span>å¤´åƒ<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;headerImg&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;exampleInputFile&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;exampleInputFile&quot;</span>&gt;</span>ç”Ÿæ´»ç…§<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;photos&quot;</span> <span class="hljs-attr">multiple</span> /&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PostMapping(&quot;/upload&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">upload</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;email&quot;)</span> String email,</span><br><span class="hljs-params">                     <span class="hljs-meta">@RequestParam(&quot;username&quot;)</span> String username,</span><br><span class="hljs-params">                     <span class="hljs-meta">@RequestPart</span> MultipartFile headerImg,</span><br><span class="hljs-params">                     <span class="hljs-meta">@RequestPart</span> MultipartFile[] photos)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">// MultipartFileæ˜¯ç”¨æ¥æ¥æ”¶æ–‡ä»¶çš„ç±»å‹çš„, ä½¿ç”¨@RequestPartè¿™ä¸ªæ³¨è§£</span><br>    log.info(<span class="hljs-string">&quot;email=&#123;&#125;, username=&#123;&#125;, headerImg=&#123;&#125;, photos=&#123;&#125;&quot;</span>,<br>            email, username, headerImg.getSize(), photos.length);<br><br>    <span class="hljs-keyword">if</span> (!headerImg.isEmpty()) &#123;<br>        <span class="hljs-comment">// ä¿å­˜åˆ°æ–‡ä»¶æœåŠ¡å™¨ , OSSæœåŠ¡å™¨</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">originalFilename</span> <span class="hljs-operator">=</span> headerImg.getOriginalFilename();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> headerImg.getName();<br>        <span class="hljs-comment">// getNameä»…ä»…åªæ˜¯è·å–åˆ°nameè¿™ä¸ªå±æ€§, å¹¶ä¸ä¼šè·å–åˆ°æ–‡ä»¶çš„åŸç”Ÿåå­—</span><br>        <span class="hljs-comment">// æƒ³è¦è·å–åˆ°æ–‡ä»¶åŸç”Ÿçš„åå­—å¯ä»¥ä½¿ç”¨getOriginalFilenameè¿™ä¸ªæ–¹æ³•</span><br>        log.info(<span class="hljs-string">&quot;originalFilename = &#123;&#125;, name = &#123;&#125;&quot;</span>, originalFilename, name);<br>        headerImg.transferTo(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;E:\\upload\\&quot;</span> + originalFilename));<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (MultipartFile photo : photos) &#123;<br>        <span class="hljs-keyword">if</span> (!photo.isEmpty()) &#123;<br>            <span class="hljs-type">String</span> <span class="hljs-variable">originalFilename</span> <span class="hljs-operator">=</span> photo.getOriginalFilename();<br>            <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> photo.getName();<br>            log.info(<span class="hljs-string">&quot;originalFilename = &#123;&#125;, name = &#123;&#125;&quot;</span>, originalFilename, name);<br>            photo.transferTo(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;E:\\upload\\&quot;</span> + originalFilename));<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;main&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">é…ç½®æ–‡ä»¶ä¸Šä¼ å¤§å°çš„,</span> <span class="hljs-string">å•ä¸ªæ–‡ä»¶æœ€å¤§ä¸Šé™è®¾ç½®10MB</span><br><span class="hljs-attr">å•æ¬¡è¯·æ±‚æœ€å¤§100MB</span><br><span class="hljs-attr">spring.servlet.multipart.max-file-size</span>=<span class="hljs-string">10MB</span><br><span class="hljs-attr">spring.servlet.multipart.max-request-size</span>=<span class="hljs-string">100MB</span><br></code></pre></td></tr></table></figure><h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><h2 id="Web-åŸç”Ÿç»„ä»¶æ³¨å…¥"><a href="#Web-åŸç”Ÿç»„ä»¶æ³¨å…¥" class="headerlink" title="Web åŸç”Ÿç»„ä»¶æ³¨å…¥"></a>Web åŸç”Ÿç»„ä»¶æ³¨å…¥</h2><h3 id="1-ä½¿ç”¨-Servlet-API"><a href="#1-ä½¿ç”¨-Servlet-API" class="headerlink" title="1.ä½¿ç”¨ Servlet API"></a>1.ä½¿ç”¨ Servlet API</h3><p>@ServletComponentScan(basePackages &#x3D; â€œcom.atguigu.bootâ€)<br>æŒ‡å®šåŸç”Ÿ Servlet ç»„ä»¶éƒ½æ”¾åœ¨å“ªé‡Œ<br>@WebServlet(urlPatterns &#x3D; â€œ&#x2F;myâ€)<br>æ•ˆæœ: ç›´æ¥å“åº”, æ²¡æœ‰ Spring æ‹¦æˆªå™¨<br>@WebFilter(urlPatterns &#x3D; {â€œ&#x2F;css&#x2F;<em>â€œ, â€œ&#x2F;images&#x2F;</em>â€œ})<br>@WebListener<br>æ¨èå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼:</p><p>&#x2F;*æ˜¯ Servlet çš„å†™æ³•<br>&#x2F;**æ˜¯ Spring å®¶æ—çš„å†™æ³•</p><h3 id="2-ä½¿ç”¨-RegistrationBean"><a href="#2-ä½¿ç”¨-RegistrationBean" class="headerlink" title="2.ä½¿ç”¨ RegistrationBean"></a>2.ä½¿ç”¨ RegistrationBean</h3><p><code>ServletRegistrationBean</code>,Â <code>FilterRegistrationBean</code>, andÂ <code>ServletListenerRegistrationBean</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRegisterConfig</span> &#123;<br><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> ServletRegistrationBean <span class="hljs-title function_">myServlet</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">MyServlet</span> <span class="hljs-variable">myServlet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyServlet</span>();<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletRegistrationBean</span>(myServlet, <span class="hljs-string">&quot;/my&quot;</span>, <span class="hljs-string">&quot;/my02&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> FilterRegistrationBean <span class="hljs-title function_">myFilter</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">MyFilter</span> <span class="hljs-variable">myFilter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyFilter</span>();<br>        <span class="hljs-comment">//return new FilterRegistrationBean(myFilter, myServlet());</span><br>        <span class="hljs-type">FilterRegistrationBean</span> <span class="hljs-variable">filterRegistrationBean</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FilterRegistrationBean</span>(myFilter);<br>        filterRegistrationBean.setUrlPatterns(Arrays.asList(<span class="hljs-string">&quot;/my&quot;</span>, <span class="hljs-string">&quot;/css/*&quot;</span>));<br>        <span class="hljs-keyword">return</span> filterRegistrationBean;<br>    &#125;<br><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> ServletListenerRegistrationBean <span class="hljs-title function_">myListener</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">MyServletContextListener</span> <span class="hljs-variable">myServletContextListener</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyServletContextListener</span>();<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletListenerRegistrationBean</span>(myServletContextListener);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="æ•°æ®è®¿é—®"><a href="#æ•°æ®è®¿é—®" class="headerlink" title="æ•°æ®è®¿é—®"></a>æ•°æ®è®¿é—®</h2><p>1.å¯¼å…¥ jdbc åœºæ™¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ssm&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=UTC%2B8</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br><span class="hljs-comment"># é…ç½®æ•°æ®åº“çš„url...</span><br><span class="hljs-comment"># serverTimezoneå¯ä»¥å°±è®¾ç½®ä¸ºUTC</span><br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-Druid-æ•°æ®æº"><a href="#ä½¿ç”¨-Druid-æ•°æ®æº" class="headerlink" title="ä½¿ç”¨ Druid æ•°æ®æº"></a>ä½¿ç”¨ Druid æ•°æ®æº</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.17<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>é…ç½®ç¤ºä¾‹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/db_account</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.jdbc.Driver</span><br><br>    <span class="hljs-attr">druid:</span><br>      <span class="hljs-attr">aop-patterns:</span> <span class="hljs-string">com.atguigu.admin.*</span> <span class="hljs-comment">#ç›‘æ§SpringBean</span><br>      <span class="hljs-attr">filters:</span> <span class="hljs-string">stat,wall</span> <span class="hljs-comment"># åº•å±‚å¼€å¯åŠŸèƒ½ï¼Œstatï¼ˆsqlç›‘æ§ï¼‰ï¼Œwallï¼ˆé˜²ç«å¢™ï¼‰</span><br><br>      <span class="hljs-attr">stat-view-servlet:</span> <span class="hljs-comment"># é…ç½®ç›‘æ§é¡µåŠŸèƒ½</span><br>        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span><br>        <span class="hljs-attr">login-username:</span> <span class="hljs-string">admin</span><br>        <span class="hljs-attr">login-password:</span> <span class="hljs-string">admin</span><br>        <span class="hljs-attr">resetEnable:</span> <span class="hljs-literal">false</span><br><br>      <span class="hljs-attr">web-stat-filter:</span> <span class="hljs-comment"># ç›‘æ§web</span><br>        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span><br>        <span class="hljs-attr">urlPattern:</span> <span class="hljs-string">/*</span><br>        <span class="hljs-attr">exclusions:</span> <span class="hljs-string">&quot;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*&quot;</span><br><br>      <span class="hljs-attr">filter:</span><br>        <span class="hljs-attr">stat:</span> <span class="hljs-comment"># å¯¹ä¸Šé¢filtersé‡Œé¢çš„statçš„è¯¦ç»†é…ç½®</span><br>          <span class="hljs-attr">slow-sql-millis:</span> <span class="hljs-number">1000</span><br>          <span class="hljs-attr">logSlowSql:</span> <span class="hljs-literal">true</span><br>          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span><br>        <span class="hljs-attr">wall:</span><br>          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span><br>          <span class="hljs-attr">config:</span><br>            <span class="hljs-attr">drop-table-allow:</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><h2 id="æ•´åˆ-MyBatis-æ“ä½œ"><a href="#æ•´åˆ-MyBatis-æ“ä½œ" class="headerlink" title="æ•´åˆ MyBatis æ“ä½œ"></a>æ•´åˆ MyBatis æ“ä½œ</h2><p><a href="https://github.com/mybatis">https://github.com/mybatis</a></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># é…ç½®mybatisè§„åˆ™</span><br><span class="hljs-attr">mybatis:</span><br>  <span class="hljs-attr">config-location:</span> <span class="hljs-string">classpath:mybatis/mybatis-config.xml</span> <span class="hljs-comment"># å…¨å±€é…ç½®æ–‡ä»¶ä½ç½®</span><br>  <span class="hljs-attr">mapper-locations:</span> <span class="hljs-string">classpath:mybatis/mapper/*.xml</span> <span class="hljs-comment">#sqlæ˜ å°„æ–‡ä»¶ä½ç½®</span><br><br><span class="hljs-string">Mapperæ¥å£</span> <span class="hljs-string">--&gt;</span> <span class="hljs-string">ç»‘å®šxml</span><br><span class="hljs-string">&lt;mapper</span> <span class="hljs-string">namespace=&quot;com.atguigu.boot.mapper.AccountMapper&quot;&gt;</span><br><br>    <span class="hljs-string">&lt;!--public</span> <span class="hljs-string">Account</span> <span class="hljs-string">getAccount(Long</span> <span class="hljs-string">id);--&gt;</span><br>    <span class="hljs-string">&lt;select</span> <span class="hljs-string">id=&quot;getAccount&quot;</span> <span class="hljs-string">resultType=&quot;com.atguigu.boot.bean.Account&quot;&gt;</span><br>        <span class="hljs-string">select</span> <span class="hljs-string">*</span> <span class="hljs-string">from</span> <span class="hljs-string">account_tbl</span> <span class="hljs-string">where</span> <span class="hljs-string">id</span> <span class="hljs-string">=</span> <span class="hljs-comment">#&#123;id&#125;;</span><br>    <span class="hljs-string">&lt;/select&gt;</span><br><span class="hljs-string">&lt;/mapper&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># é…ç½®mybatisè§„åˆ™</span><br><span class="hljs-attr">mybatis:</span><br>  <span class="hljs-comment">#  config-location: classpath:mybatis/mybatis-config.xml</span><br>  <span class="hljs-comment"># å¯ä»¥ä¸å†™å…¨å±€é…ç½®æ–‡ä»¶, æ‰€æœ‰å…¨å±€é…ç½®æ–‡ä»¶çš„é…ç½®éƒ½æ”¾åœ¨configurationé…ç½®é¡¹ä¸­å³å¯</span><br>  <span class="hljs-attr">mapper-locations:</span> <span class="hljs-string">classpath:mybatis/mapper/*.xml</span><br>  <span class="hljs-attr">configuration:</span><br>    <span class="hljs-attr">map-underscore-to-camel-case:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><ul><li>å¯¼å…¥ mybatis å®˜æ–¹ starter</li><li>ç¼–å†™ mapper æ¥å£, æ ‡æ³¨@Mapper æ³¨è§£</li><li>ç¼–å†™ sql æ˜ å°„æ–‡ä»¶å¹¶ç»‘å®š mapper æ¥å£</li><li>åœ¨ application.yaml ä¸­åˆ¶å®š Mapper é…ç½®æ–‡ä»¶çš„ä½ç½®, ä»¥åŠåˆ¶å®šå…¨å±€é…ç½®æ–‡ä»¶çš„ä¿¡æ¯(å»ºè®®: é…ç½®åœ¨ mybatis.configuration)</li></ul><p>ä½¿ç”¨ MyBatisPlus çš„ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>æœ€æ–°ç‰ˆæœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åˆ†é¡µæ’ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>æœ€æ–°ç‰ˆæœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="redis-é…ç½®"><a href="#redis-é…ç½®" class="headerlink" title="redis é…ç½®"></a>redis é…ç½®</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨ yaml ä¸­é…ç½® redis çš„è¿æ¥ url</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br><span class="hljs-attr">redis:</span><br>  <span class="hljs-attr">url:</span> <span class="hljs-string">redis://192.168.1.100:6379</span><br> <span class="hljs-comment">#url: redis://root:atguigu@192.168.1.100:6379</span><br><span class="hljs-comment"># redis://è´¦æˆ·:å¯†ç @ip:ç«¯å£</span><br><span class="hljs-comment"># æ²¡æœ‰è®¾ç½®rediså¯†ç çš„æ—¶å€™å¯ä»¥çœç•¥&quot;è´¦æˆ·:å¯†ç &quot;</span><br><br>  <span class="hljs-attr">redis:</span><br>    <span class="hljs-attr">host:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span><br>    <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-comment"># æˆ–è€…æŠŠurlåˆ†å¼€æˆhost, port, passwordä¸‰ä¸ªå‚æ•°æ¥è¿æ¥ä¹Ÿæ˜¯å¯ä»¥çš„</span><br></code></pre></td></tr></table></figure><p>RedisTemplate ä¸ Lettuce</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Autowired</span><br>StringRedisTemplate redisTemplate;<br><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testRedis</span><span class="hljs-params">()</span> &#123;<br>    ValueOperations&lt;String, String&gt; operations = redisTemplate.opsForValue();<br>    operations.set(<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-string">&quot;world&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">hello</span> <span class="hljs-operator">=</span> operations.get(<span class="hljs-string">&quot;hello&quot;</span>);<br>    System.out.println(hello);<br>&#125;<br></code></pre></td></tr></table></figure><p>åˆ‡æ¢ jedis</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br><span class="hljs-attr">redis:</span><br>    <span class="hljs-attr">host:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span><br>    <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-attr">client-type:</span> <span class="hljs-string">jedis</span><br>    <span class="hljs-comment"># client-type: jedis</span><br>    <span class="hljs-comment"># jedis:</span><br>    <span class="hljs-comment">#   pool:</span><br>    <span class="hljs-comment">#     max-active:</span><br>    <span class="hljs-comment"># client-type: lettuce</span><br>    <span class="hljs-comment"># lettuce:</span><br>    <span class="hljs-comment">#   pool:</span><br>    <span class="hljs-comment">#     max-active:</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java">    <span class="hljs-meta">@Autowired</span><br>    RedisConnectionFactory redisConnectionFactory;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testRedis</span><span class="hljs-params">()</span> &#123;<br>        ValueOperations&lt;String, String&gt; operations = redisTemplate.opsForValue();<br>        operations.set(<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-string">&quot;world&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">hello</span> <span class="hljs-operator">=</span> operations.get(<span class="hljs-string">&quot;hello&quot;</span>);<br>        System.out.println(hello);<br><br>        System.out.println(redisConnectionFactory.getClass());<br>    &#125;<br><br>è¾“å‡ºç»“æœ<br>world<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">org</span>.springframework.data.redis.connection.jedis.JedisConnectionFactory<br></code></pre></td></tr></table></figure><p>ä¸€ä¸ªå° demo, ç”¨æ¥è®°å½•ç”¨æˆ·è®¿é—®äº†å½“å‰ uri çš„æ¬¡æ•°</p><p>é…ç½®æ‹¦æˆªå™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisUrlCountInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    StringRedisTemplate redisTemplate;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">uri</span> <span class="hljs-operator">=</span> request.getRequestURI();<br>        <span class="hljs-comment">// é»˜è®¤æ¯æ¬¡è®¿é—®å½“å‰uriå°±ä¼šè®¡æ•°åŠ 1</span><br>        redisTemplate.opsForValue().increment(uri);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AdminWebConfig</span>  <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Filter, Interceptor å‡ ä¹æ‹¥æœ‰ç›¸åŒçš„åŠŸèƒ½?</span><br><span class="hljs-comment">     * 1. Filteræ˜¯Servletå®šä¹‰çš„åŸç”Ÿç»„ä»¶, å¥½å¤„, è„±ç¦»Springåº”ç”¨ä¹Ÿèƒ½ä½¿ç”¨</span><br><span class="hljs-comment">     * 2. Interceptoræ˜¯Springå®šä¹‰çš„æ¥å£, å¯ä»¥ä½¿ç”¨Springçš„è‡ªåŠ¨è£…é…ç­‰åŠŸèƒ½</span><br><span class="hljs-comment">     */</span><br><br>    <span class="hljs-meta">@Autowired</span><br>    RedisUrlCountInterceptor redisUrlCountInterceptor;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInterceptors</span><span class="hljs-params">(InterceptorRegistry registry)</span> &#123;<br>        registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginInterceptor</span>())<br>                .addPathPatterns(<span class="hljs-string">&quot;/**&quot;</span>) <span class="hljs-comment">// æ‰€æœ‰è¯·æ±‚éƒ½è¢«æ‹¦æˆªåŒ…æ‹¬é™æ€èµ„æº</span><br>                .excludePathPatterns(<span class="hljs-string">&quot;/login&quot;</span>, <span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-string">&quot;/css/**&quot;</span>, <span class="hljs-string">&quot;/js/**&quot;</span>, <span class="hljs-string">&quot;/images/**&quot;</span>, <span class="hljs-string">&quot;/fonts/**&quot;</span>); <span class="hljs-comment">// æ”¾è¡Œçš„è¯·æ±‚</span><br><br>        registry.addInterceptor(redisUrlCountInterceptor)<br>                .addPathPatterns(<span class="hljs-string">&quot;/**&quot;</span>)<br>                .excludePathPatterns(<span class="hljs-string">&quot;/login&quot;</span>, <span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-string">&quot;/css/**&quot;</span>, <span class="hljs-string">&quot;/js/**&quot;</span>, <span class="hljs-string">&quot;/images/**&quot;</span>, <span class="hljs-string">&quot;/fonts/**&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java">    <span class="hljs-meta">@Autowired</span><br>    StringRedisTemplate redisTemplate;<br><br><span class="hljs-meta">@GetMapping(&quot;/main.html&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">mainPage</span><span class="hljs-params">(HttpSession session, Model model)</span> &#123;<br><br>        log.info(<span class="hljs-string">&quot;å½“å‰æ–¹æ³•&#123;&#125;&quot;</span>, <span class="hljs-string">&quot;mainPage&quot;</span>);<br>        <span class="hljs-comment">// æ˜¯å¦ç™»å½•, æ‹¦æˆªå™¨, è¿‡æ»¤å™¨</span><br><span class="hljs-comment">/*        if (session.getAttribute(&quot;loginUser&quot;) == null) &#123;</span><br><span class="hljs-comment">            model.addAttribute(&quot;msg&quot;, &quot;è¯·å…ˆç™»å½•è´¦æˆ·&quot;);</span><br><span class="hljs-comment">            return &quot;login&quot;;</span><br><span class="hljs-comment">        &#125; else &#123;</span><br><span class="hljs-comment">            // å›åˆ°ç™»å½•é¡µé¢</span><br><span class="hljs-comment">            return &quot;main&quot;;</span><br><span class="hljs-comment">        &#125;*/</span><br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().get(<span class="hljs-string">&quot;/main.html&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().get(<span class="hljs-string">&quot;/sql&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().get(<span class="hljs-string">&quot;/dynamic_table&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> redisTemplate.opsForValue().get(<span class="hljs-string">&quot;/error&quot;</span>);<br>        model.addAttribute(<span class="hljs-string">&quot;mainCount&quot;</span>, s);<br>        model.addAttribute(<span class="hljs-string">&quot;sqlCount&quot;</span>, s1);<br>        model.addAttribute(<span class="hljs-string">&quot;dynamic_tableCount&quot;</span>, s2);<br>        model.addAttribute(<span class="hljs-string">&quot;errorCount&quot;</span>, s3);<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;main&quot;</span>;<br>    &#125;<br></code></pre></td></tr></table></figure><h2 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@DisplayName(&quot;junit5åŠŸèƒ½æµ‹è¯•ç±»&quot;)</span><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Junit5Test</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    JdbcTemplate jdbcTemplate;<br><br>    <span class="hljs-meta">@DisplayName(&quot;æµ‹è¯•displaynameæ³¨è§£&quot;)</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">testDisplayName</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-number">1</span>);<br>        System.out.println(jdbcTemplate);<br>    &#125;<br><br>    <span class="hljs-meta">@Disabled</span><br>    <span class="hljs-meta">@DisplayName(&quot;æµ‹è¯•æ–¹æ³•2&quot;)</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@RepeatedTest(5)</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-number">3</span>);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è§„å®šæ–¹æ³•è¶…æ—¶æ—¶é—´, è¶…å‡ºæ—¶é—´æµ‹è¯•å‡ºå¼‚å¸¸</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> InterruptedException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-meta">@Timeout(value = 500, unit = TimeUnit.MILLISECONDS)</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">testTimeout</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException &#123;<br>        Thread.sleep(<span class="hljs-number">600</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@BeforeEach</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">testBeforeEach</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æµ‹è¯•å°±è¦å¼€å§‹äº†...&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@AfterEach</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">testAfterEach</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æµ‹è¯•ç»“æŸäº†...&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@BeforeAll</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testBeforeAll</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ‰€æœ‰æµ‹è¯•å°±è¦å¼€å§‹äº†...&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@AfterAll</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testAfterAll</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ‰€æœ‰æµ‹è¯•å·²ç»ç»“æŸäº†...&quot;</span>);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>æ‰“å¼€ Java ç›‘æ§å’Œç®¡ç†æ§åˆ¶å°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">cmd<br>C:\Users\è‚‰è±†è”»å–&gt;jconsole<br></code></pre></td></tr></table></figure><h2 id="application-profile-åŠŸèƒ½"><a href="#application-profile-åŠŸèƒ½" class="headerlink" title="application-profile åŠŸèƒ½"></a>application-profile åŠŸèƒ½</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">  â—‹ å‘½ä»¤è¡Œæ¿€æ´»ï¼šjava -jar xxx.jar --spring.profiles.active=prod  --person.name=haha<br>    â–  ä¿®æ”¹é…ç½®æ–‡ä»¶çš„ä»»æ„å€¼ï¼Œå‘½ä»¤è¡Œä¼˜å…ˆ<br>E:\Code\SpringBoot\boot-09-features-profiles\target&gt;java -jar boot-09-features-profiles-0.0.1-SNAPSHOT.jar --spring.profiles.active=<span class="hljs-built_in">test</span><br><br>E:\Code\SpringBoot\boot-09-features-profiles\target&gt;java -jar boot-09-features-profiles-0.0.1-SNAPSHOT.jar --spring.profiles.active=<span class="hljs-built_in">test</span> --person.name=hello<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringBoot</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
